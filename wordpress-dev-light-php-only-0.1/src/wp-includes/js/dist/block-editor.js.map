{"version":3,"sources":["webpack://wp/webpack/bootstrap","webpack://wp/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://wp/./node_modules/@babel/runtime/helpers/extends.js","webpack://wp/./node_modules/@babel/runtime/helpers/inheritsLoose.js","webpack://wp/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://wp/@wordpress/block-editor/src/components/alignment-toolbar/index.js","webpack://wp/@wordpress/block-editor/src/components/autocomplete/index.js","webpack://wp/@wordpress/block-editor/src/components/block-actions/index.js","webpack://wp/@wordpress/block-editor/src/components/block-alignment-toolbar/index.js","webpack://wp/@wordpress/block-editor/src/components/block-breadcrumb/index.js","webpack://wp/@wordpress/block-editor/src/components/block-card/index.js","webpack://wp/@wordpress/block-editor/src/components/block-compare/block-view.js","webpack://wp/@wordpress/block-editor/src/components/block-compare/index.js","webpack://wp/@wordpress/block-editor/src/components/block-controls/index.js","webpack://wp/@wordpress/block-editor/src/components/block-draggable/index.js","webpack://wp/@wordpress/block-editor/src/components/block-drop-zone/index.js","webpack://wp/@wordpress/block-editor/src/components/block-edit/context.js","webpack://wp/@wordpress/block-editor/src/components/block-edit/edit.js","webpack://wp/@wordpress/block-editor/src/components/block-edit/index.js","webpack://wp/@wordpress/block-editor/src/components/block-format-controls/index.js","webpack://wp/@wordpress/block-editor/src/components/block-icon/index.js","webpack://wp/@wordpress/block-editor/src/components/block-inspector/index.js","webpack://wp/@wordpress/block-editor/src/components/block-list-appender/index.js","webpack://wp/@wordpress/block-editor/src/components/block-list-footer/index.js","webpack://wp/@wordpress/block-editor/src/components/block-list/block-contextual-toolbar.js","webpack://wp/@wordpress/block-editor/src/components/block-list/block-crash-boundary.js","webpack://wp/@wordpress/block-editor/src/components/block-list/block-crash-warning.js","webpack://wp/@wordpress/block-editor/src/components/block-list/block-html.js","webpack://wp/@wordpress/block-editor/src/components/block-list/block-invalid-warning.js","webpack://wp/@wordpress/block-editor/src/components/block-list/block-popover.js","webpack://wp/@wordpress/block-editor/src/components/block-list/block.js","webpack://wp/@wordpress/block-editor/src/components/block-list/breadcrumb.js","webpack://wp/@wordpress/block-editor/src/components/block-list/index.js","webpack://wp/@wordpress/block-editor/src/components/block-list/insertion-point.js","webpack://wp/@wordpress/block-editor/src/components/block-list/moving-animation.js","webpack://wp/@wordpress/block-editor/src/components/block-list/root-container.js","webpack://wp/@wordpress/block-editor/src/components/block-list/use-multi-selection.js","webpack://wp/@wordpress/block-editor/src/components/block-mover/icons.js","webpack://wp/@wordpress/block-editor/src/components/block-mover/index.js","webpack://wp/@wordpress/block-editor/src/components/block-mover/mover-description.js","webpack://wp/@wordpress/block-editor/src/components/block-navigation/dropdown.js","webpack://wp/@wordpress/block-editor/src/components/block-navigation/index.js","webpack://wp/@wordpress/block-editor/src/components/block-navigation/list.js","webpack://wp/@wordpress/block-editor/src/components/block-preview/index.js","webpack://wp/@wordpress/block-editor/src/components/block-selection-clearer/index.js","webpack://wp/@wordpress/block-editor/src/components/block-settings-menu/block-convert-button.js","webpack://wp/@wordpress/block-editor/src/components/block-settings-menu/block-html-convert-button.js","webpack://wp/@wordpress/block-editor/src/components/block-settings-menu/block-mode-toggle.js","webpack://wp/@wordpress/block-editor/src/components/block-settings-menu/block-settings-menu-first-item.js","webpack://wp/@wordpress/block-editor/src/components/block-settings-menu/block-settings-menu-plugins-extension.js","webpack://wp/@wordpress/block-editor/src/components/block-settings-menu/block-unknown-convert-button.js","webpack://wp/@wordpress/block-editor/src/components/block-settings-menu/index.js","webpack://wp/@wordpress/block-editor/src/components/block-styles/index.js","webpack://wp/@wordpress/block-editor/src/components/block-switcher/index.js","webpack://wp/@wordpress/block-editor/src/components/block-switcher/multi-blocks-switcher.js","webpack://wp/@wordpress/block-editor/src/components/block-title/index.js","webpack://wp/@wordpress/block-editor/src/components/block-toolbar/index.js","webpack://wp/@wordpress/block-editor/src/components/block-types-list/index.js","webpack://wp/@wordpress/block-editor/src/components/block-variation-picker/index.js","webpack://wp/@wordpress/block-editor/src/components/block-vertical-alignment-toolbar/icons.js","webpack://wp/@wordpress/block-editor/src/components/block-vertical-alignment-toolbar/index.js","webpack://wp/@wordpress/block-editor/src/components/button-block-appender/index.js","webpack://wp/@wordpress/block-editor/src/components/color-palette/control.js","webpack://wp/@wordpress/block-editor/src/components/color-palette/index.js","webpack://wp/@wordpress/block-editor/src/components/color-palette/with-color-context.js","webpack://wp/@wordpress/block-editor/src/components/colors-gradients/control.js","webpack://wp/@wordpress/block-editor/src/components/colors-gradients/panel-color-gradient-settings.js","webpack://wp/@wordpress/block-editor/src/components/colors/index.js","webpack://wp/@wordpress/block-editor/src/components/colors/use-colors.js","webpack://wp/@wordpress/block-editor/src/components/colors/utils.js","webpack://wp/@wordpress/block-editor/src/components/colors/with-colors.js","webpack://wp/@wordpress/block-editor/src/components/contrast-checker/index.js","webpack://wp/@wordpress/block-editor/src/components/copy-handler/index.js","webpack://wp/@wordpress/block-editor/src/components/default-block-appender/index.js","webpack://wp/@wordpress/block-editor/src/components/default-style-picker/index.js","webpack://wp/@wordpress/block-editor/src/components/editor-skeleton/index.js","webpack://wp/@wordpress/block-editor/src/components/font-sizes/font-size-picker.js","webpack://wp/@wordpress/block-editor/src/components/font-sizes/index.js","webpack://wp/@wordpress/block-editor/src/components/font-sizes/utils.js","webpack://wp/@wordpress/block-editor/src/components/font-sizes/with-font-sizes.js","webpack://wp/@wordpress/block-editor/src/components/gradient-picker/control.js","webpack://wp/@wordpress/block-editor/src/components/gradient-picker/index.js","webpack://wp/@wordpress/block-editor/src/components/gradient-picker/panel.js","webpack://wp/@wordpress/block-editor/src/components/gradients/index.js","webpack://wp/@wordpress/block-editor/src/components/image-size-control/index.js","webpack://wp/@wordpress/block-editor/src/components/index.js","webpack://wp/@wordpress/block-editor/src/components/inner-blocks/button-block-appender.js","webpack://wp/@wordpress/block-editor/src/components/inner-blocks/default-block-appender.js","webpack://wp/@wordpress/block-editor/src/components/inner-blocks/index.js","webpack://wp/@wordpress/block-editor/src/components/inner-blocks/with-client-id.js","webpack://wp/@wordpress/block-editor/src/components/inserter-list-item/index.js","webpack://wp/@wordpress/block-editor/src/components/inserter-menu-extension/index.js","webpack://wp/@wordpress/block-editor/src/components/inserter/child-blocks.js","webpack://wp/@wordpress/block-editor/src/components/inserter/index.js","webpack://wp/@wordpress/block-editor/src/components/inserter/menu.js","webpack://wp/@wordpress/block-editor/src/components/inserter/search-items.js","webpack://wp/@wordpress/block-editor/src/components/inspector-advanced-controls/index.js","webpack://wp/@wordpress/block-editor/src/components/inspector-controls/index.js","webpack://wp/@wordpress/block-editor/src/components/keyboard-shortcuts/index.js","webpack://wp/@wordpress/block-editor/src/components/link-control/index.js","webpack://wp/@wordpress/block-editor/src/components/link-control/search-input.js","webpack://wp/@wordpress/block-editor/src/components/link-control/search-item.js","webpack://wp/@wordpress/block-editor/src/components/link-control/settings-drawer.js","webpack://wp/@wordpress/block-editor/src/components/media-placeholder/index.js","webpack://wp/@wordpress/block-editor/src/components/media-replace-flow/index.js","webpack://wp/@wordpress/block-editor/src/components/media-upload/check.js","webpack://wp/@wordpress/block-editor/src/components/media-upload/index.js","webpack://wp/@wordpress/block-editor/src/components/multi-select-scroll-into-view/index.js","webpack://wp/@wordpress/block-editor/src/components/multi-selection-inspector/index.js","webpack://wp/@wordpress/block-editor/src/components/navigable-toolbar/index.js","webpack://wp/@wordpress/block-editor/src/components/observe-typing/index.js","webpack://wp/@wordpress/block-editor/src/components/page-template-picker/button.js","webpack://wp/@wordpress/block-editor/src/components/page-template-picker/container.js","webpack://wp/@wordpress/block-editor/src/components/page-template-picker/default-templates.js","webpack://wp/@wordpress/block-editor/src/components/page-template-picker/index.js","webpack://wp/@wordpress/block-editor/src/components/page-template-picker/picker.js","webpack://wp/@wordpress/block-editor/src/components/page-template-picker/preview.js","webpack://wp/@wordpress/block-editor/src/components/page-template-picker/use-page-template-picker-visible.js","webpack://wp/@wordpress/block-editor/src/components/page-template-picker/with-page-template-picker-visible.js","webpack://wp/@wordpress/block-editor/src/components/panel-color-settings/index.js","webpack://wp/@wordpress/block-editor/src/components/plain-text/index.js","webpack://wp/@wordpress/block-editor/src/components/preserve-scroll-in-reorder/index.js","webpack://wp/@wordpress/block-editor/src/components/provider/index.js","webpack://wp/@wordpress/block-editor/src/components/provider/with-registry-provider.js","webpack://wp/@wordpress/block-editor/src/components/responsive-block-control/index.js","webpack://wp/@wordpress/block-editor/src/components/responsive-block-control/label.js","webpack://wp/@wordpress/block-editor/src/components/rich-text/file-paste-handler.js","webpack://wp/@wordpress/block-editor/src/components/rich-text/format-toolbar-container.js","webpack://wp/@wordpress/block-editor/src/components/rich-text/format-toolbar/index.js","webpack://wp/@wordpress/block-editor/src/components/rich-text/index.js","webpack://wp/@wordpress/block-editor/src/components/rich-text/input-event.js","webpack://wp/@wordpress/block-editor/src/components/rich-text/remove-browser-shortcuts.js","webpack://wp/@wordpress/block-editor/src/components/rich-text/shortcut.js","webpack://wp/@wordpress/block-editor/src/components/rich-text/toolbar-button.js","webpack://wp/@wordpress/block-editor/src/components/skip-to-selected-block/index.js","webpack://wp/@wordpress/block-editor/src/components/tool-selector/index.js","webpack://wp/@wordpress/block-editor/src/components/typewriter/index.js","webpack://wp/@wordpress/block-editor/src/components/url-input/button.js","webpack://wp/@wordpress/block-editor/src/components/url-input/index.js","webpack://wp/@wordpress/block-editor/src/components/url-popover/image-url-input-ui.js","webpack://wp/@wordpress/block-editor/src/components/url-popover/index.js","webpack://wp/@wordpress/block-editor/src/components/url-popover/link-editor.js","webpack://wp/@wordpress/block-editor/src/components/url-popover/link-viewer.js","webpack://wp/@wordpress/block-editor/src/components/warning/index.js","webpack://wp/@wordpress/block-editor/src/components/writing-flow/focus-capture.js","webpack://wp/@wordpress/block-editor/src/components/writing-flow/index.js","webpack://wp/@wordpress/block-editor/src/hooks/align.js","webpack://wp/@wordpress/block-editor/src/hooks/anchor.js","webpack://wp/@wordpress/block-editor/src/hooks/custom-class-name.js","webpack://wp/@wordpress/block-editor/src/hooks/generated-class-name.js","webpack://wp/@wordpress/block-editor/src/hooks/index.js","webpack://wp/@wordpress/block-editor/src/index.js","webpack://wp/@wordpress/block-editor/src/store/actions.js","webpack://wp/@wordpress/block-editor/src/store/array.js","webpack://wp/@wordpress/block-editor/src/store/controls.js","webpack://wp/@wordpress/block-editor/src/store/defaults.js","webpack://wp/@wordpress/block-editor/src/store/effects.js","webpack://wp/@wordpress/block-editor/src/store/index.js","webpack://wp/@wordpress/block-editor/src/store/middlewares.js","webpack://wp/@wordpress/block-editor/src/store/reducer.js","webpack://wp/@wordpress/block-editor/src/store/selectors.js","webpack://wp/@wordpress/block-editor/src/utils/dom.js","webpack://wp/@wordpress/block-editor/src/utils/get-paste-event-data.js","webpack://wp/@wordpress/block-editor/src/utils/index.js","webpack://wp/@wordpress/block-editor/src/utils/transform-styles/ast/index.js","webpack://wp/@wordpress/block-editor/src/utils/transform-styles/ast/parse.js","webpack://wp/@wordpress/block-editor/src/utils/transform-styles/ast/stringify/compiler.js","webpack://wp/@wordpress/block-editor/src/utils/transform-styles/ast/stringify/compress.js","webpack://wp/@wordpress/block-editor/src/utils/transform-styles/ast/stringify/identity.js","webpack://wp/@wordpress/block-editor/src/utils/transform-styles/ast/stringify/index.js","webpack://wp/@wordpress/block-editor/src/utils/transform-styles/index.js","webpack://wp/@wordpress/block-editor/src/utils/transform-styles/transforms/url-rewrite.js","webpack://wp/@wordpress/block-editor/src/utils/transform-styles/transforms/wrap.js","webpack://wp/@wordpress/block-editor/src/utils/transform-styles/traverse.js","webpack://wp/@wordpress/icons/src/icon/index.js","webpack://wp/@wordpress/icons/src/index.js","webpack://wp/@wordpress/icons/src/library/align-center.js","webpack://wp/@wordpress/icons/src/library/align-justify.js","webpack://wp/@wordpress/icons/src/library/align-left.js","webpack://wp/@wordpress/icons/src/library/align-right.js","webpack://wp/@wordpress/icons/src/library/archive.js","webpack://wp/@wordpress/icons/src/library/arrow-down.js","webpack://wp/@wordpress/icons/src/library/arrow-left.js","webpack://wp/@wordpress/icons/src/library/arrow-right.js","webpack://wp/@wordpress/icons/src/library/arrow-up.js","webpack://wp/@wordpress/icons/src/library/audio.js","webpack://wp/@wordpress/icons/src/library/button.js","webpack://wp/@wordpress/icons/src/library/calendar.js","webpack://wp/@wordpress/icons/src/library/category.js","webpack://wp/@wordpress/icons/src/library/check.js","webpack://wp/@wordpress/icons/src/library/chevron-down.js","webpack://wp/@wordpress/icons/src/library/chevron-left.js","webpack://wp/@wordpress/icons/src/library/chevron-right.js","webpack://wp/@wordpress/icons/src/library/chevron-up.js","webpack://wp/@wordpress/icons/src/library/classic.js","webpack://wp/@wordpress/icons/src/library/close.js","webpack://wp/@wordpress/icons/src/library/code.js","webpack://wp/@wordpress/icons/src/library/cog.js","webpack://wp/@wordpress/icons/src/library/column.js","webpack://wp/@wordpress/icons/src/library/columns.js","webpack://wp/@wordpress/icons/src/library/comment.js","webpack://wp/@wordpress/icons/src/library/cover.js","webpack://wp/@wordpress/icons/src/library/file.js","webpack://wp/@wordpress/icons/src/library/format-bold.js","webpack://wp/@wordpress/icons/src/library/format-italic.js","webpack://wp/@wordpress/icons/src/library/format-strikethrough.js","webpack://wp/@wordpress/icons/src/library/gallery.js","webpack://wp/@wordpress/icons/src/library/group.js","webpack://wp/@wordpress/icons/src/library/heading.js","webpack://wp/@wordpress/icons/src/library/html.js","webpack://wp/@wordpress/icons/src/library/image.js","webpack://wp/@wordpress/icons/src/library/keyboard-return.js","webpack://wp/@wordpress/icons/src/library/link-off.js","webpack://wp/@wordpress/icons/src/library/link.js","webpack://wp/@wordpress/icons/src/library/list.js","webpack://wp/@wordpress/icons/src/library/map-marker.js","webpack://wp/@wordpress/icons/src/library/media-and-text.js","webpack://wp/@wordpress/icons/src/library/menu.js","webpack://wp/@wordpress/icons/src/library/more-horizontal.js","webpack://wp/@wordpress/icons/src/library/more.js","webpack://wp/@wordpress/icons/src/library/navigation.js","webpack://wp/@wordpress/icons/src/library/page-break.js","webpack://wp/@wordpress/icons/src/library/paragraph.js","webpack://wp/@wordpress/icons/src/library/pencil.js","webpack://wp/@wordpress/icons/src/library/plus-circle.js","webpack://wp/@wordpress/icons/src/library/position-center.js","webpack://wp/@wordpress/icons/src/library/position-left.js","webpack://wp/@wordpress/icons/src/library/position-right.js","webpack://wp/@wordpress/icons/src/library/post-list.js","webpack://wp/@wordpress/icons/src/library/preformatted.js","webpack://wp/@wordpress/icons/src/library/pullquote.js","webpack://wp/@wordpress/icons/src/library/quote.js","webpack://wp/@wordpress/icons/src/library/redo.js","webpack://wp/@wordpress/icons/src/library/resize-corner-n-e.js","webpack://wp/@wordpress/icons/src/library/rss.js","webpack://wp/@wordpress/icons/src/library/search.js","webpack://wp/@wordpress/icons/src/library/separator.js","webpack://wp/@wordpress/icons/src/library/shortcode.js","webpack://wp/@wordpress/icons/src/library/stretch-full-width.js","webpack://wp/@wordpress/icons/src/library/stretch-wide.js","webpack://wp/@wordpress/icons/src/library/table.js","webpack://wp/@wordpress/icons/src/library/tag.js","webpack://wp/@wordpress/icons/src/library/title.js","webpack://wp/@wordpress/icons/src/library/trash.js","webpack://wp/@wordpress/icons/src/library/undo.js","webpack://wp/@wordpress/icons/src/library/update.js","webpack://wp/@wordpress/icons/src/library/upload.js","webpack://wp/@wordpress/icons/src/library/verse.js","webpack://wp/@wordpress/icons/src/library/video.js","webpack://wp/@wordpress/icons/src/library/widget.js","webpack://wp/./node_modules/autosize/dist/autosize.js","webpack://wp/./node_modules/classnames/index.js","webpack://wp/./node_modules/computed-style/dist/computedStyle.commonjs.js","webpack://wp/../../src/convert/xml.js","webpack://wp/./node_modules/dom-scroll-into-view/lib/dom-scroll-into-view.js","webpack://wp/./node_modules/dom-scroll-into-view/lib/index.js","webpack://wp/./node_modules/dom-scroll-into-view/lib/util.js","webpack://wp/./node_modules/inherits/inherits_browser.js","webpack://wp/./node_modules/line-height/lib/line-height.js","webpack://wp/./node_modules/memize/index.js","webpack://wp/./node_modules/object-assign/index.js","webpack://wp/./node_modules/prop-types/checkPropTypes.js","webpack://wp/./node_modules/prop-types/factoryWithTypeCheckers.js","webpack://wp/./node_modules/prop-types/index.js","webpack://wp/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://wp/./node_modules/punycode/punycode.js","webpack://wp/./node_modules/querystring-es3/decode.js","webpack://wp/./node_modules/querystring-es3/encode.js","webpack://wp/./node_modules/querystring-es3/index.js","webpack://wp/./node_modules/react-autosize-textarea/lib/TextareaAutosize.js","webpack://wp/./node_modules/react-autosize-textarea/lib/index.js","webpack://wp/./node_modules/react-is/cjs/react-is.development.js","webpack://wp/./node_modules/react-is/index.js","webpack://wp/./node_modules/react-spring/web.cjs.js","webpack://wp/./node_modules/redux-multi/lib/index.js","webpack://wp/./node_modules/refx/refx.js","webpack://wp/./node_modules/rememo/es/rememo.js","webpack://wp/./node_modules/tinycolor2/tinycolor.js","webpack://wp/./node_modules/traverse/index.js","webpack://wp/./node_modules/url/url.js","webpack://wp/./node_modules/url/util.js","webpack://wp/(webpack)/buildin/global.js","webpack://wp/(webpack)/buildin/module.js","webpack://wp/external {\"this\":\"regeneratorRuntime\"}","webpack://wp/external {\"this\":[\"wp\",\"a11y\"]}","webpack://wp/external {\"this\":[\"wp\",\"blob\"]}","webpack://wp/external {\"this\":[\"wp\",\"blocks\"]}","webpack://wp/external {\"this\":[\"wp\",\"components\"]}","webpack://wp/external {\"this\":[\"wp\",\"compose\"]}","webpack://wp/external {\"this\":[\"wp\",\"data\"]}","webpack://wp/external {\"this\":[\"wp\",\"deprecated\"]}","webpack://wp/external {\"this\":[\"wp\",\"dom\"]}","webpack://wp/external {\"this\":[\"wp\",\"element\"]}","webpack://wp/external {\"this\":[\"wp\",\"hooks\"]}","webpack://wp/external {\"this\":[\"wp\",\"htmlEntities\"]}","webpack://wp/external {\"this\":[\"wp\",\"i18n\"]}","webpack://wp/external {\"this\":[\"wp\",\"isShallowEqual\"]}","webpack://wp/external {\"this\":[\"wp\",\"keyboardShortcuts\"]}","webpack://wp/external {\"this\":[\"wp\",\"keycodes\"]}","webpack://wp/external {\"this\":[\"wp\",\"primitives\"]}","webpack://wp/external {\"this\":[\"wp\",\"richText\"]}","webpack://wp/external {\"this\":[\"wp\",\"tokenList\"]}","webpack://wp/external {\"this\":[\"wp\",\"url\"]}","webpack://wp/external {\"this\":[\"wp\",\"viewport\"]}","webpack://wp/external {\"this\":[\"wp\",\"wordcount\"]}","webpack://wp/external {\"this\":\"lodash\"}","webpack://wp/external {\"this\":\"React\"}"],"names":["DEFAULT_ALIGNMENT_CONTROLS","icon","alignLeft","title","__","align","alignCenter","alignRight","AlignmentToolbar","props","value","onChange","alignmentControls","label","isCollapsed","applyOrUnset","undefined","activeAlignment","find","control","map","isActive","role","onClick","withFilteredAutocompleters","Autocomplete","completers","hasFilter","applyFilters","clone","blockName","compose","withBlockEditContext","name","OriginalAutocomplete","BlockActions","canDuplicate","canInsertDefaultBlock","children","isLocked","onDuplicate","onGroup","onInsertAfter","onInsertBefore","onRemove","onUngroup","withSelect","select","canInsertBlockType","getBlockRootClientId","getBlocksByClientId","getTemplateLock","getDefaultBlockName","blocks","clientIds","rootClientId","every","block","hasBlockSupport","extraProps","withDispatch","dispatch","removeBlocks","replaceBlocks","duplicateBlocks","insertAfterBlock","insertBeforeBlock","first","castArray","last","length","getGroupingBlockName","groupingBlockName","newBlocks","switchToBlockType","innerBlocks","BLOCK_ALIGNMENTS_CONTROLS","left","positionLeft","center","positionCenter","right","positionRight","wide","stretchWide","full","stretchFullWidth","DEFAULT_CONTROLS","DEFAULT_CONTROL","WIDE_CONTROLS","BlockAlignmentToolbar","controls","wideControlsEnabled","enabledControls","filter","indexOf","activeAlignmentControl","defaultAlignmentControl","clientId","getSettings","settings","alignWide","BlockBreadcrumb","useDispatch","selectBlock","clearSelectedBlock","useSelect","getSelectionStart","getSelectedBlockClientId","getBlockParents","selectedBlockClientId","parents","hasSelection","parentClientId","BlockCard","blockType","description","BlockView","rawContent","renderedContent","action","actionText","className","BlockCompare","originalContent","newContent","difference","diffChars","item","pos","classes","classnames","added","removed","getSaveElement","attributes","getSaveContent","join","onKeep","onConvert","convertor","convertButtonText","original","getOriginalContent","converted","getConvertedContent","getDifference","Component","createSlotFill","Fill","Slot","BlockControlsFill","BlockControls","ifBlockEditSelected","BlockDraggable","getBlockIndex","normalizedClientIds","templateLock","index","srcRootClientId","isDraggable","isDragging","useRef","startDraggingBlocks","stopDraggingBlocks","useEffect","current","blockElementId","transferData","type","srcIndex","srcClientId","onDraggableStart","onDraggableEnd","parseDropEvent","event","result","dataTransfer","Object","assign","JSON","parse","getData","err","useBlockDropZone","element","useState","setClientId","selector","getClientIdsOfDescendants","blockIndex","hasUploadPermissions","mediaUpload","isLockedAll","insertBlocks","updateBlockAttributes","moveBlockToPosition","onFilesDrop","useCallback","files","transformation","findTransform","getBlockTransforms","transform","isMatch","onHTMLDrop","HTML","pasteHandler","mode","onDrop","isBlockDropType","dropType","isSameLevel","srcRoot","dstRoot","isSameBlock","src","dst","isSrcBlockAnAncestorOfDstBlock","some","id","dstIndex","positionIndex","insertIndex","useDropZone","isDisabled","withPosition","position","y","rect","getBoundingClientRect","offset","top","target","Array","from","blockEl","offsetTop","offsetHeight","targetClientId","slice","Context","createContext","isSelected","focusedElement","setFocusedElement","noop","Provider","Consumer","useBlockEditContext","useContext","mapContextToProps","createHigherOrderComponent","OriginalComponent","context","Edit","getBlockType","generatedClassName","getBlockDefaultClassName","edit","save","withFilters","BlockEdit","arguments","propsToContext","memize","bind","maxSize","onFocus","onCaretVerticalPositionChange","BlockFormatControls","BlockIcon","showColors","get","renderedIcon","style","backgroundColor","background","color","foreground","BlockInspector","count","hasBlockStyles","selectedBlockName","showNoBlockSelectedMessage","slot","useSlot","InspectorAdvancedControls","slotName","hasFills","Boolean","fills","isSelectedBlockUnregistered","getUnregisteredTypeHandlerName","getSelectedBlockCount","getBlockName","getBlockStyles","blockStyles","stopPropagation","BlockListAppender","blockClientIds","CustomAppender","renderAppender","appender","getBlockOrder","__experimentalBlockListFooter","BlockContextualToolbar","focusOnMount","BlockCrashBoundary","state","hasError","error","onError","setState","warning","BlockHTML","html","setHtml","getBlock","updateBlock","getBlockAttributes","content","isValid","isValidBlockContent","getBlockContent","BlockInvalidWarning","compare","onCompare","onCompareClose","convertToHTML","convertToBlocks","convertToClassic","attemptBlockRecovery","hasHTMLBlock","hiddenActions","_x","blockToBlocks","blockToClassic","createBlock","blockToHTML","rawHandler","recoverBlock","replaceBlock","isNavigationMode","isMultiSelecting","hasMultiSelection","isTyping","isCaretWithinFormattedText","getLastMultiSelectedBlockClientId","hasFixedToolbar","lastClientId","BlockPopover","moverDirection","isEmptyDefaultBlock","capturingClientId","isLargeViewport","useViewportMatch","isToolbarForced","setIsToolbarForced","isInserterShown","setIsInserterShown","BlockNodes","blockNodes","showEmptyBlockSideInserter","shouldShowBreadcrumb","shouldShowContextualToolbar","canFocusHiddenToolbar","useShortcut","bindGlobal","eventName","node","document","getElementById","classList","contains","querySelector","anchorRef","bottomNode","bottom","onBlur","popoverPosition","wrapperSelector","getFirstMultiSelectedBlockClientId","__unstableGetBlockWithoutInnerBlocks","getBlockListSettings","__experimentalGetBlockListSettingsForBlocks","blockParentsClientIds","__experimentalMoverDirection","ancestorBlockListSettings","topmostAncestorWithCaptureDescendantsToolbarsIndex","findIndex","isUnmodifiedDefaultBlock","WrappedBlockPopover","selected","BlockListBlock","isFocusMode","isMultiSelected","isPartOfMultiSelection","isFirstMultiSelected","isLastMultiSelected","isTypingWithinBlock","isAncestorOfSelectedBlock","isSelectionEnabled","initialPosition","wrapperProps","setAttributes","onReplace","onInsertBlocksAfter","onMerge","onInsertDefaultBlockAfter","toggleSelection","animateOnChange","enableAnimation","hasSelectedUI","onSelectionStart","setBlockNodes","isDraggingBlocks","wrapper","useLayoutEffect","nodes","omit","setErrorState","onBlockError","blockLabel","sprintf","focusTabbable","ignoreInnerBlocks","activeElement","textInputs","focus","tabbable","isTextField","isInsideRootBlock","isReverse","placeCaretAtHorizontalEdge","isMounting","animationStyle","useMovingAnimation","onKeyDown","keyCode","ENTER","preventDefault","BACKSPACE","DELETE","onMouseLeave","which","buttons","isUnregisteredBlock","shouldAppearSelected","getEditWrapperProps","isAligned","wrapperClassName","isReusableBlock","blockEdit","display","applyWithSelect","isBlockSelected","isAncestorMultiSelected","isBlockMultiSelected","isFirstMultiSelectedBlock","getBlockMode","getSelectedBlocksInitialCaretPosition","hasSelectedInnerBlock","focusMode","isRTL","checkDeep","applyWithDispatch","ownProps","insertDefaultBlock","removeBlock","mergeBlocks","__unstableMarkLastChangeAsPersistent","newAttributes","onInsertBlocks","forward","getPreviousBlockClientId","getNextBlockClientId","nextBlockClientId","previousBlockClientId","indexToSelect","selectionEnabled","pure","withViewportMatch","ifCondition","setNavigationMode","ref","getAccessibleBlockLabel","BLOCK_ANIMATION_THRESHOLD","forceSyncUpdates","WrappedComponent","BlockList","__experimentalUIParts","getMultiSelectedBlockClientIds","getGlobalBlockCount","multiSelectedBlockClientIds","Container","RootContainer","__experimentalContainerProps","hasPopover","isBlockInSelection","includes","Indicator","showInsertionPoint","getBlockInsertionPoint","isBlockInsertionPointVisible","insertionPoint","InsertionPoint","containerRef","isInserterForced","setIsInserterForced","inserterElement","setInserterElement","inserterClientId","setInserterClientId","onMouseMove","clientY","elementRect","clientX","focusClosestTabbable","targetRect","height","blockNode","getBlockDOMNode","container","closest","getClosestTabbable","window","DOMRect","placeCaretAtVerticalEdge","isInserterHidden","width","offsetWidth","counterReducer","getAbsolutePosition","offsetLeft","adjustScrolling","triggerAnimationOnChange","prefersReducedMotion","useReducedMotion","useReducer","triggeredAnimation","triggerAnimation","finishedAnimation","endAnimation","x","scrollTop","setTransform","previous","scrollContainer","useMemo","getScrollContainer","destination","newTransform","animationProps","useSpring","to","reset","config","mass","tension","friction","immediate","onFrame","transformOrigin","interpolate","zIndex","onDragStart","getBlockClientId","useMultiSelection","forwardRef","getDeepestNode","child","sibling","nodeType","TEXT_NODE","test","data","toggleRichText","toggle","querySelectorAll","forEach","setAttribute","removeAttribute","startMultiSelect","stopMultiSelect","multiSelect","rafId","startClientId","anchorElement","selection","getSelection","rangeCount","getRangeAt","startContainer","endContainer","removeAllRanges","start","end","startNode","endNode","range","createRange","setStartBefore","setEndAfter","addRange","onSelectionChange","isSelectionEnd","focusNode","isSingularSelection","commonAncestorContainer","startPath","endPath","depth","Math","min","onSelectionEnd","removeEventListener","requestAnimationFrame","cancelAnimationFrame","addEventListener","leftArrow","rightArrow","dragHandle","BlockMover","isFocused","onMoveUp","onMoveDown","orientation","__experimentalOrientation","isFirst","isLast","firstIndex","instanceId","isHidden","hideDragHandle","blocksCount","getArrowIcon","moveDirection","chevronUp","chevronDown","getMovementDirectionLabel","getBlockMoverDescription","firstClientId","blockOrder","lastIndex","moveBlocksDown","moveBlocksUp","partial","withInstanceId","selectedCount","dir","getMovementDirection","getMultiBlockMoverDescription","movementDirection","_n","MenuIcon","BlockNavigationDropdownToggle","isEnabled","onToggle","isOpen","shortcut","getShortcutRepresentation","BlockNavigationDropdown","hasBlocks","getBlockCount","toggleProps","onClose","BlockNavigation","rootBlock","rootBlocks","hasHierarchy","getBlockHierarchyRootClientId","getBlocks","onSelect","BlockNavigationList","showAppender","showNestedBlocks","parentBlockClientId","shouldShowAppender","omitBy","isNil","getBlockLabel","ScaledBlockPreview","viewportWidth","padding","previewRef","isReady","setIsReady","previewScale","setPreviewScale","setPosition","timerId","setTimeout","containerElement","previewElement","getBlockPreviewContainerDOMNode","containerElementRect","scaledElementRect","scale","offsetX","offsetY","marginTop","clearTimeout","previewStyles","visibility","BlockPreview","renderedBlocks","recompute","triggerRecompute","BlockSelectionClearer","bindContainer","clearSelectionIfFocusTarget","hasSelectedBlock","BlockConvertButton","shouldRender","small","BlockModeToggle","onToggleMode","isCodeEditingEnabled","codeEditingEnabled","toggleBlockMode","__experimentalBlockSettingsMenuFirstItem","__experimentalBlockSettingsMenuPluginsExtension","getFreeformContentHandlerName","serialize","POPOVER_PROPS","BlockSettingsMenu","firstBlockClientId","shortcuts","duplicate","remove","insertAfter","insertBefore","moreHorizontal","flow","trash","getActiveStyle","styles","TokenList","values","potentialStyleName","substring","activeStyle","replaceActiveStyle","newStyle","list","add","BlockStyles","onChangeClassName","onSwitch","onHoverClassName","isDefault","updateClassName","updatedClassName","styleClassName","SPACE","example","getBlockFromExample","cloneBlock","newClassName","BlockSwitcher","hoveredClassName","onTransform","inserterItems","hoveredBlock","hoveredBlockType","itemsByName","mapKeys","possibleBlockTransformations","orderBy","getPossibleBlockTransformations","frecency","isSelectionOfSameType","uniq","sourceBlockName","openOnArrowDown","DOWN","destinationBlockType","getInserterItems","firstBlock","MultiBlocksSwitcher","isMultiBlockSelection","selectedBlockClientIds","BlockTitle","BlockToolbar","getSelectedBlockClientIds","isBlockValid","blockRootClientId","hasMovers","BlockTypesList","items","onHover","normalizedItems","reduce","variations","hasDefaultVariation","push","concat","variation","hasOwnProperty","initialAttributes","getBlockMenuDefaultClassName","BlockVariationPicker","instructions","allowSkip","alignBottom","alignTop","BlockVerticalAlignmentToolbar","ButtonBlockAppender","selectBlockOnInsert","__experimentalSelectBlockOnInsert","disabled","blockTitle","hasSingleBlockType","isToggleButton","plusCircle","ColorPaletteControl","otherProps","withColorContext","ColorPalette","colors","disableCustomColors","hasColorsToChoose","isEmpty","colorIndicatorAriaLabel","gradientIndicatorAriaLabel","colorsAndGradientKeys","VisualLabel","gradients","currentTab","colorValue","gradientValue","ariaLabel","colorObject","getColorObjectByColorValue","colorName","gradientObject","__experimentalGetGradientObjectByGradientValue","gradientName","ColorGradientControlInner","disableCustomGradients","onColorChange","onGradientChange","canChooseAColor","canChooseAGradient","setCurrentTab","newColor","newGradient","ColorGradientControlSelect","colorGradientSettings","pick","ColorGradientControl","key","Indicators","availableColors","availableGradients","toLowerCase","PanelColorGradientSettingsInner","setting","titleElement","PanelColorGradientSettingsSelect","PanelColorGradientSettings","getComputedStyle","Node","DEFAULT_COLORS","COMMON_COLOR_LABELS","textColor","resolveContrastCheckerColor","colorSettings","detectedColor","ColorPanel","colorPanelProps","contrastCheckers","detectedBackgroundColor","panelChildren","initialOpen","isArray","rest","InspectorControlsColorPanel","__experimentalUseColors","colorConfigs","panelTitle","colorDetector","targetRef","backgroundColorTargetRef","textColorTargetRef","deps","settingsColors","createComponent","memoize","property","customColor","componentClassName","componentStyle","Children","colorStyle","cloneElement","kebabCase","createSetColor","_color","camelCase","slug","setDetectedBackgroundColor","setDetectedColor","needsBackgroundColor","needsColor","backgroundColorNode","parentNode","ELEMENT_NODE","acc","colorConfig","components","panelLabel","startCase","componentName","replace","__color","displayName","setColor","wrappedColorPanelProps","getColorObjectByAttributeValues","definedColor","colorObj","getColorClassName","colorContextName","colorSlug","getMostReadableColor","tinycolor","mostReadable","toHexString","withCustomColorPalette","colorsArray","withEditorColorPalette","createColorHOC","colorTypes","withColorPalette","colorMap","colorType","isString","setters","createSetters","colorUtils","settersAccumulator","colorContext","colorAttributeName","upperFirstColorAttributeName","upperFirst","customColorAttributeName","previousState","newState","previousColorObject","previousColor","class","createCustomColorsHOC","withColors","ContrastCheckerMessage","tinyBackgroundColor","tinyTextColor","msg","getBrightness","speak","ContrastChecker","fallbackBackgroundColor","fallbackTextColor","fontSize","isLargeText","hasTransparency","getAlpha","isReadable","level","size","CopyHandler","handler","canUserUseUnfilteredHTML","__experimentalCanUserUseUnfilteredHTML","documentHasSelection","serialized","clipboardData","setData","getPasteEventData","plainText","DefaultBlockAppender","isVisible","onAppend","showPrompt","placeholder","decodeEntities","isLastBlockDefault","lastBlockClientId","isLastBlockValid","bodyPlaceholder","startTyping","DefaultStylePicker","preferredStyleVariations","__experimentalPreferredStyleVariations","preferredStyle","onUpdatePreferredStyleVariations","selectOptions","selectOnChange","blockStyle","useHTMLClass","EditorSkeleton","footer","header","sidebar","publish","navigateRegions","disableCustomFontSizes","fontSizes","FontSizePicker","getFontSize","fontSizeAttribute","customFontSizeAttribute","fontSizeObject","getFontSizeClass","fontSizeSlug","fontSizeNames","fontSizeAttributeNames","fontSizeAttributeNamesAccumulator","fontSizeAttributeName","customFontSizeAttributeName","upperFirstFontSizeAttributeName","createSetFontSize","fontSizeValue","Number","didAttributesChange","pickBy","newStateAccumulator","fontSizeAttributeValue","GradientPickerWithGradients","gradient","ComponentToUse","__experimentalGradientPicker","GradientPanel","__experimentalGetGradientClass","gradientSlug","getGradientValueBySlug","getGradientSlugByValue","__experimentalUseGradient","gradientAttribute","customGradientAttribute","customGradient","setGradient","newGradientValue","gradientClass","ImageSizeControl","updateDimensions","imageWidth","imageHeight","imageSizeOptions","isResizable","onChangeImage","parseInt","scaledWidth","round","scaledHeight","isCurrent","showSeparator","withClientId","InnerBlocks","templateInProcess","template","updateNestedSettings","__experimentalBlocks","replaceInnerBlocks","__unstableMarkNextChangeAsNotPersistent","synchronizeBlocksWithTemplate","prevProps","isLastBlockChangePersistent","onInput","hasTemplateChanged","isEqual","resetFunc","nextBlocks","blockListSettings","allowedBlocks","parentLock","__experimentalCaptureToolbars","newSettings","isShallowEqual","enableClickThrough","hasOverlay","captureToolbars","isSmallScreen","updateBlockListSettings","templateInsertUpdatesSelection","Content","withBlockContentContext","BlockContent","InserterListItem","itemIconStyle","__experimentalInserterMenuExtension","ChildBlocks","rootBlockIcon","rootBlockTitle","rootBlockName","rootBlockType","defaultRenderToggle","Inserter","renderToggle","renderContent","isAppender","showInserterHelpPanel","insertOnlyAllowedBlock","hasInserterItems","__experimentalGetAllowedBlocks","getBlockVariations","allowedBlockType","hasItems","getInsertionIndex","getBlockSelectionEnd","insertBlock","blockToInsert","message","MAX_SUGGESTED_ITEMS","stopKeyPropagation","getBlockNamespace","split","createBlocksFromInnerBlocksTemplate","innerBlocksTemplate","InserterMenu","childItems","filterValue","hoveredItem","suggestedItems","reusableItems","itemsPerCategory","itemsPerCollection","openPanels","onChangeSearchInput","panels","inserterResults","createRef","fetchReusableBlocks","hideInsertionPoint","panel","isOpened","without","scrollIntoView","alignWithTop","filteredItems","keys","categories","collections","debouncedSpeak","rootChildBlocks","searchItems","maxSuggestedItems","utility","category","getCategoryIndex","itemList","sortBy","groupBy","namespace","filterOpenPanels","resultCount","accumulator","currentCategorySlug","resultsFoundMessage","LEFT","RIGHT","UP","isPanelOpen","hoveredItemBlockType","hasHelpPanel","onTogglePanel","bindPanel","categoryItems","collection","collectionItems","addQueryArgs","post_type","__experimentalCreateInterpolateElement","kbd","getCategories","getCollections","getChildBlockNames","destinationRootClientId","destinationRootBlockName","showInserterHelpPanelSetting","__experimentalFetchReusableBlocks","getSelectedBlock","selectedBlock","insertedBlock","withSpokenMessages","withSafeTimeout","normalizeSearchTerm","term","deburr","words","removeMatchingTerms","unmatchedTerms","unprocessedTerms","differenceWith","unmatchedTerm","unprocessedTerm","searchTerm","normalizedSearchTerms","keywords","itemCollection","matchedVariations","intersectionWith","termToMatch","labelTerm","InspectorControls","KeyboardShortcuts","rootBlocksClientIds","KeyboardShortcutsRegister","registerShortcut","keyCombination","modifier","character","aliases","Register","LinkControl","showInitialSuggestions","forceIsEditingLink","wrapperNode","useInstanceId","url","inputValue","setInputValue","isEditingLink","setIsEditingLink","isEndingEditWithFocus","fetchSearchSuggestions","__experimentalFetchLinkSuggestions","displayURL","filterURLForDisplay","safeDecodeURI","hadFocusLoss","nextFocusTarget","focusable","onInputChange","val","handleDirectEntry","protocol","getProtocol","startsWith","Promise","resolve","prependHTTP","handleEntitySearch","args","all","isInitialSuggestions","perPage","results","couldBeURL","stopEditing","getSearchHandler","isInternal","handleManualEntry","isURL","renderSearchResults","suggestionsListProps","buildSuggestionItemProps","suggestions","selectedSuggestion","isLoading","resultsListClasses","manualLinkEntryTypes","searchResultsLabelId","labelText","SearchResultsLabel","suggestion","handleLinkControlOnKeyDown","handleLinkControlOnKeyPress","LinkControlSearchInput","renderSuggestions","fetchSuggestions","setSelectedSuggestion","selectItemHandler","selectSuggestionOrCurrentInputValue","LinkControlSearchItem","itemProps","defaultSettings","LinkControlSettingsDrawer","handleSettingChange","newValue","theSettings","InsertFromURLPopover","onSubmit","keyboardReturn","MediaPlaceholder","isURLInputVisible","onChangeSrc","onSubmitSrc","onUpload","onFilesUpload","openURLInput","closeURLInput","allowedTypes","allowedType","onSelectURL","addToGallery","multiple","setMedia","currentValue","newMedia","media","filesList","onFileChange","labels","onDoubleClick","mediaPreview","notices","isOneType","isAudio","isImage","isVideo","placeholderClassName","disableDropZone","onCancel","accept","mediaLibraryButton","onlyAllowsImages","open","renderDropZone","openFileDialog","renderUrlSelectionUI","renderCancelLink","renderPlaceholder","disableMediaButtons","dropZoneUIOnly","deprecated","alternative","renderMediaUploadChecked","MediaReplaceFlow","mediaURL","mediaId","showURLInput","setShowURLInput","showEditURLInput","setShowEditURLInput","mediaURLValue","setMediaURLValue","editMediaButtonRef","stopPropagationRelevantKeys","selectMedia","selectURL","newURL","uploadFiles","closeDropdown","click","urlInputUIContent","upload","link","withNotices","MediaUploadCheck","fallback","MediaUpload","MultiSelectScrollIntoView","selectionEnd","isMultiSelection","extentNode","onlyScrollIfNeeded","MultiSelectionInspector","wordCount","getMultiSelectedBlocks","NavigableToolbar","focusToolbar","tabbables","KEY_DOWN_ELIGIBLE_KEY_CODES","isKeyDownEligibleForStartTyping","shiftKey","ObserveTyping","setSafeTimeout","typingContainer","lastMouseMove","stopTyping","toggleEventBindings","isBound","bindFn","stopTypingOnSelectionUncollapse","stopTypingOnMouseMove","lastClientX","lastClientY","collapsed","stopTypingOnEscapeKey","ESCAPE","startTypingInTextField","stopTypingOnNonTextField","over","PickerButton","onPress","defaultTemplates","parsedTemplates","__experimentalPageTemplatePicker","templates","getDefaultTemplates","editPost","templatePreview","setTemplatePreview","onApply","Preview","__experimentalUsePageTemplatePickerVisible","getCurrentPostType","isPageTemplatesEnabled","__experimentalEnablePageTemplates","isEmptyBlockList","isOnlyUnmodifiedDefault","isEmptyContent","isPage","__experimentalWithPageTemplatePickerVisible","showPageTemplatePicker","PanelColorSettings","otherSettings","PlainText","PreserveScrollInReorder","hint","BlockEditorProvider","updateSettings","resetBlocks","attachChangeObserver","registry","isSyncingOutcomingValue","selectionStart","resetSelection","isSyncingIncomingValue","unsubscribe","getSelectionEnd","__unstableIsLastBlockChangeIgnored","isPersistent","subscribe","newIsPersistent","withRegistryProvider","withRegistry","useSubRegistry","subRegistry","setSubRegistry","newRegistry","createRegistry","store","registerStore","storeConfig","applyMiddlewares","ResponsiveBlockControl","toggleLabel","onIsResponsiveChange","renderDefaultControl","renderResponsiveControls","isResponsive","defaultLabel","viewports","toggleControlLabel","toggleHelpText","defaultControl","defaultResponsiveControls","viewport","ResponsiveBlockControlLabel","desc","accessibleLabel","filePasteHandler","file","createBlobURL","FormatToolbarContainer","inline","FormatToolbar","format","wrapperClasses","getMultilineTag","multiline","getAllowedFormats","allowedFormats","formattingControls","RichTextWrapper","forwardedRef","tagName","originalValue","originalOnChange","originalIsSelected","inlineToolbar","autocompleters","keepPlaceholderOnFocus","withoutInteractiveFormatting","onSplit","onSplitMiddle","__unstableOnSplitMiddle","identifier","startAttr","reversed","preserveWhiteSpace","__unstableEmbedURLOnPaste","fallbackRef","blockIsSelected","didAutomaticChange","undo","__experimentalUndo","attributeKey","Platform","OS","shouldBlurOnUnmount","enterFormattedText","exitFormattedText","selectionChange","__unstableMarkAutomaticChange","multilineTag","adjustedAllowedFormats","hasFormats","adjustedValue","adjustedOnChange","childrenSource","toHTML","fromDOM","__unstableCreateElement","childNodes","onDelete","splitValue","record","pastedBlocks","before","after","hasPastedBlocks","toHTMLString","onEnter","canSplit","transforms","regExp","text","insert","isEmptyLine","insertLineSeparator","onPaste","activeFormats","console","log","trim","valueToInsert","create","formats","LINE_SEPARATOR","inputRule","valueToFormat","characterBefore","trimmedTextBefore","prefixTransforms","prefix","nestedIsSelected","Editable","listBoxId","activeId","ForwardedRichTextContainer","Tag","MultilineTag","defaultProps","__unstableRichTextInputEvent","inputType","HANDLED_SHORTCUTS","rawShortcut","primary","primaryShift","SHORTCUTS_ELEMENT","fromPairs","RemoveBrowserShortcuts","RichTextShortcut","onUse","RichTextToolbarButton","shortcutType","shortcutCharacter","fillName","displayShortcut","SkipToSelectedBlock","selectedBlockElement","getBlockSelectionStart","editIcon","selectIcon","ToolSelector","isNavigationTool","isMediumViewport","onSwitchMode","isIE","navigator","userAgent","arrowKeyCodes","Set","initialTriggerPercentage","Typewriter","addSelectionChangeListener","computeCaretRectOnSelectionChange","maintainCaretPosition","computeCaretRect","onScrollResize","isSelectionEligibleForScroll","caretRect","isContentEditable","editableNodes","lastEditableNode","currentCaretRect","has","diff","windowScroll","body","scrollY","scrollContainerY","relativeScrollPosition","innerHeight","isLastEditableNode","scrollContainerHeight","clientHeight","scrollBy","persist","TypewriterOrIEBypass","URLInputButton","submitLink","expanded","buttonLabel","arrowLeft","stopEventPropagation","URLInput","selectLink","handleOnClick","bindSuggestionNode","autocompleteRef","inputRef","updateSuggestions","throttle","suggestionNodes","isUpdatingSuggestions","showSuggestions","scrollingIntoView","shouldShowInitialSuggestions","suggestionsRequest","__experimentalShowInitialSuggestions","fetchLinkSuggestions","handleURLSuggestions","__experimentalHandleURLSuggestions","loading","request","then","catch","disableSuggestions","setSelectionRange","previousIndex","nextIndex","TAB","isFullWidth","hasBorder","__experimentalRenderSuggestions","autoFocus","suggestionsListboxId","suggestionOptionIdPrefix","tabIndex","isFunction","handleSuggestionClick","shouldShowSuggestions","hasValue","LINK_DESTINATION_NONE","LINK_DESTINATION_CUSTOM","LINK_DESTINATION_MEDIA","LINK_DESTINATION_ATTACHMENT","NEW_TAB_REL","ImageURLInputUI","linkDestination","onChangeUrl","mediaType","mediaUrl","mediaLink","linkTarget","linkClass","rel","setIsOpen","openLinkUI","urlInput","setUrlInput","startEditLink","stopEditLink","closeLinkUI","removeNewTabRel","currentRel","newRel","each","relVal","RegExp","getUpdatedLinkTargetSettings","newLinkTarget","updatedRel","onFocusOutside","autocompleteElement","onSubmitLinkChange","href","onLinkRemove","getLinkDestinations","onSetHref","linkDestinations","linkDestinationInput","onSetNewTab","updatedLinkTarget","onSetLinkRel","onSetLinkClass","advancedOptions","linkEditorValue","urlLabel","linkIcon","close","URLPopover","toggleSettingsVisibility","isSettingsExpanded","additionalControls","renderSettings","popoverProps","showSettings","LinkEditor","LinkViewer","onChangeInputValue","LinkViewerUrl","linkClassName","onEditLinkClick","pencil","Warning","actions","secondaryActions","i","FocusCapture","selectedClientId","noCapture","multiSelectionContainer","lastTabbable","isTabbableTextField","overEvery","isTabbableIndex","isNavigationCandidate","hasModifier","isVertical","focusableNodes","reverse","isTabCandidate","array","isBlockFocusStop","hasInnerBlocksContext","nextNode","getMultiSelectedBlocksStartClientId","getMultiSelectedBlocksEndClientId","selectionStartClientId","selectionEndClientId","selectionBeforeEndClientId","selectionAfterEndClientId","selectedFirstClientId","selectedLastClientId","blockSelectionStart","WritingFlow","focusCaptureBeforeRef","focusCaptureAfterRef","entirelySelected","verticalRect","onMouseDown","button","expandSelection","nextSelectionEndClientId","moveSelection","focusedBlockClientId","isTabbableEdge","closestTabbable","isInSameBlock","isUp","isDown","isLeft","isRight","isTab","isEscape","isHorizontal","isNav","isShift","ctrlKey","altKey","metaKey","isNavEdge","isVerticalEdge","isHorizontalEdge","navigateUp","navigateDown","focusedBlockUid","nextTabbable","findNext","findPrevious","isKeyboardEvent","isEntirelySelected","nativeEvent","defaultPrevented","direction","isReverseDir","focusLastTextField","findLast","ALL_ALIGNMENTS","WIDE_ALIGNMENTS","getValidAlignments","blockAlign","hasWideBlockSupport","hasWideEnabled","validAlignments","addAttribute","AlignmentHookSettings","AlignmentHookSettingsProvider","withToolbarControls","isEmbedButton","getBlockSupport","updateAlignment","nextAlign","blockDefaultAlign","withDataAlign","addAssignedAlign","isAlignValid","addFilter","ANCHOR_REGEX","anchor","source","attribute","withInspectorControl","hasAnchor","nextValue","addSaveProps","hasCustomClassName","getHTMLRootElementClasses","innerHTML","parsed","parseWithAttributeSchema","addParsedDifference","blockAttributes","attributesSansClassName","defaultClasses","actualClasses","customClasses","addGeneratedClassName","ensureDefaultBlock","selectPreviousBlock","selectNextBlock","receiveBlocks","updates","getBlocksWithDefaultStylesApplied","blockEditorSettings","canInsertBlock","time","Date","now","createOnMove","fromRootClientId","toRootClientId","updateSelection","setTemplateValidity","synchronizeTemplate","secondBlockClientId","selectPrevious","startOffset","endOffset","defaultBlockName","__unstableSaveReusableBlock","updatedId","blockNames","lastSelectedIndex","clonedBlocks","firstSelectedIndex","insertAt","elements","moveTo","withoutMovedElements","splice","storeName","selectorName","SELECT","createRegistryControl","PREFERENCES_DEFAULTS","insertUsage","SETTINGS_DEFAULTS","imageSizes","maxWidth","allowedBlockTypes","maxUploadFileSize","allowedMimeTypes","availableLegacyWidgets","hasPermissionsToManageWidgets","__experimentalEnableLegacyWidgetBlock","__experimentalBlockDirectory","__experimentalEnableFullSiteEditing","__experimentalEnableFullSiteEditingDemo","validateBlocksToTemplate","getState","getTemplate","isBlocksValidToTemplate","doBlocksMatchTemplate","isValidTemplate","MERGE_BLOCKS","clientIdA","clientIdB","blockA","blockAType","merge","blockB","blockBType","selectedBlockType","attributeDefinition","canRestoreTextSelection","START_OF_SELECTED_AREA","cloneA","cloneB","multilineWrapperTags","__unstableMultilineWrapperTags","__unstablePreserveWhiteSpace","blocksWithTheSameType","updatedAttributes","newAttributeKey","findKey","v","convertedHtml","convertedValue","newOffset","newHtml","RESET_BLOCKS","MULTI_SELECT","blockCount","SYNCHRONIZE_TEMPLATE","updatedBlockList","MARK_AUTOMATIC_CHANGE","requestIdleCallback","callback","MODULE_KEY","reducer","selectors","middlewares","refx","effects","multi","enhancedDispatch","Error","chain","middlewareAPI","middleware","flowRight","mapBlockOrder","mapBlockParents","flattenBlocks","identity","stack","shift","getFlattenedBlocksWithoutAttributes","getFlattenedBlockAttributes","getNestedBlockClientIds","blocksOrder","getMutateSafeObject","working","hasSameKeys","a","b","isUpdatingSameBlockAttribute","lastAction","fillKeysWithEmptyObject","objectKeys","withBlockCache","cache","getBlocksWithParentsClientIds","mapValues","updatedBlockUids","parentClientIds","replacedClientIds","removedClientIds","byClientId","withPersistentBlockChange","markNextChangeAsNotPersistent","nextState","isExplicitPersistentChange","nextIsPersistentChange","isPersistentChange","withIgnoredBlockChange","IGNORED_ACTION_TYPES","isIgnoredChange","withInnerBlocksRemoveCascade","getAllChildren","order","withBlockReset","visibleClientIds","withReplaceInnerBlocks","stateAfterBlocksRemoval","stateAfterInsert","withSaveReusableBlock","combineReducers","changes","nextAttributes","subState","mappedBlocks","fromIndex","blockToSelect","blocksMode","preferences","prevState","lastBlockAttributesChange","automaticChangeStatus","INSERTER_UTILITY_HIGH","INSERTER_UTILITY_MEDIUM","INSERTER_UTILITY_LOW","INSERTER_UTILITY_NONE","MILLISECONDS_PER_HOUR","MILLISECONDS_PER_DAY","MILLISECONDS_PER_WEEK","templateIcon","EMPTY_ARRAY","createSelector","flatMap","descendants","getClientIdsWithDescendants","topLevelIds","multiSelectedBlockCount","ascending","getBlockParentsByBlockName","parent","getLowestCommonAncestorWithSelectedBlock","selectedId","clientParents","selectedParents","lowestCommonAncestor","maxDepth","getAdjacentBlockClientId","orderSet","startIndex","endIndex","getDependants","ancestorClientId","deep","innerClientId","isBlockWithinSelection","canInsertBlockTypeUnmemoized","checkAllowList","defaultResult","isBoolean","isBlockAllowedInEditor","parentBlockListSettings","parentAllowedBlocks","hasParentAllowedBlock","blockAllowedParentBlocks","parentName","hasBlockAllowedParent","getInsertUsage","canIncludeBlockTypeInInserter","calculateUtility","isContextual","calculateFrecency","duration","buildBlockTypeInserterItem","inserterVariations","scope","buildReusableBlockInserterItem","reusableBlock","referencedBlocks","__experimentalGetParsedReusableBlock","referencedBlockType","blockTypeInserterItems","getBlockTypes","reusableBlockInserterItems","getReusableBlocks","hasBlockType","hasReusableBlock","__experimentalGetLastBlockAttributeChanges","domNode","firstChild","blockElement","innerBlocksContainer","parentElement","error1","error2","getAsFile","commentre","css","options","lineno","column","updatePosition","str","lines","match","lastIndexOf","line","Position","whitespace","prototype","errorsList","reason","filename","silent","stylesheet","rulesList","rules","parsingErrors","comments","charAt","atrule","rule","re","m","exec","c","comment","matched","s","declaration","prop","ret","declarations","decls","decl","keyframe","vals","atkeyframes","vendor","frame","frames","keyframes","atsupports","supports","athost","atmedia","atcustommedia","atpage","sel","atdocument","doc","atfontface","atimport","_compileAtrule","atcharset","atnamespace","addParent","obj","isNode","childParent","k","defineProperty","configurable","writable","enumerable","Compiler","opts","emit","visit","mapVisit","delim","buf","Base","call","inherits","compile","import","charset","page","host","indentation","indent","compiler","compress","Compressed","Identity","code","transformStyles","baseURL","wrap","urlRewrite","traverse","isRemotePath","filePath","isAbsolutePath","isValidURL","meta","getResourcePath","pathname","processURL","URL","newUrl","quote","getURLs","reg","URLs","replaceURLs","raw","rewrite","rootURL","updatedURLs","IS_ROOT_TAG","ignore","updateSelector","traverseCSS","updated","updatedNode","update","stringify","warn","Icon","alignJustify","archive","arrowDown","arrowRight","arrowUp","audio","calendar","check","chevronLeft","chevronRight","classic","cog","columns","cover","formatBold","formatItalic","formatStrikethrough","gallery","group","heading","image","linkOff","mapMarker","mediaAndText","menu","more","navigation","pageBreak","paragraph","postList","preformatted","pullquote","redo","resizeCornerNE","rss","search","separator","shortcode","table","tag","verse","video","widget","convertChangesToXML","change","escapeHTML","n"],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wC;;;;;;;;;;;;ACRA;AAAA;AAAe;AACf;;AAEA,wCAAwC,SAAS;AACjD;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACRA;AAAA;AAAe;AACf;AACA,C;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAkD;AACnC;AACf,iCAAiC,iEAAgB;AACjD,C;;;;;;;;;;;;ACHA;AAAA;AAAe;AACf;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACNA;AAAA;AAAA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,C;;;;;;;;;;;;AClCA;AAAA;AAAe;AACf;AACA;AACA;AACA,C;;;;;;;;;;;;ACJA;AAAA;AAAA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA,C;;;;;;;;;;;;ACdA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;A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EAAf;;;;;;;;;;;;;AChIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA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/E;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC,E;;;;;;;;;;;AC/RD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAgB;;AAEhB;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK,KAA6B;AAClC;AACA;AACA,EAAE,UAAU,IAA4E;AACxF;AACA,EAAE,iCAAqB,EAAE,mCAAE;AAC3B;AACA,GAAG;AAAA,oGAAC;AACJ,EAAE,MAAM,EAEN;AACF,CAAC;;;;;;;;;;;;ACnDD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;;;;;;;;;;;;;;;AC1BO,SAASC,mBAAT,CAA6B5P,OAA7B,EAAsC;AAC3C;AACA,OAAK,IAAItQ,IAAI,CAAb,EAAgBA,IAAIsQ,QAAQj3D,MAA5B,EAAoC2mD,GAApC,EAAyC;AACvC;AACA,QAAImgB,OAAOhjE,KAAO;AAChB;AACD,KAFD,MAEO,IAAIgjE,OAAO/iE,OAAX,EAAoB;AACzBy6D,UAAIlxC,IAAJ,CAAS,OAAT;AACD;;AAEDkxC,QAAIlxC,IAAJ,CAASy5C,WAAWD,OAAO1qE,KAAlB,CAAT;;AAEkB;AAChBoiE,UAAIlxC,IAAJ,CAAS,QAAT;AACD,KAFD,MAEO,IAAIw5C,OAAO/iE,OAAX,EAAoB;AACzBy6D,UAAIlxC,IAAJ,CAAS,QAAT;AACD;AACF;AACD,SAAOkxC,IAAIr6D,IAAJ,CAAS,EAAT,CAAP;AACD;;AAED,SAAS4iE,UAAT,CAAoB1I,CAAG;AACrB;AACA2I,MAAIA,EAAEnyC,OAAF,CAAU,IAAV,EAAgB,OAAhB,CAAJ;AACAmyC,MAAIA,EAAEnyC,OAAF,CAAU,IAAV,EAAgB,MAAhB,CAAJ;AACAmyC,MAAIA,EAAEnyC,OAAF,CAAU,IAAV,EAAgB,MAAhB,CAAJ;AACAmyC,MAAIA,EAAEnyC,OAAF,CAAU,IAAV,EAAgB,QAAhB,CAAJ;;AAEA,SAAOmyC,CAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7BY;;AAEb,WAAW,mBAAO,CAAC,+DAAQ;;AAE3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA,gC;;;;;;;;;;;;AChIa;;AAEb,iBAAiB,mBAAO,CAAC,+FAAwB,E;;;;;;;;;;;;ACFpC;;AAEb,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P,oGAAoG,mBAAmB,EAAE,mBAAmB,kGAAkG;;AAE9O;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,kBAAkB;AAC/B;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,SAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC,Y;;;;;;;;;;;ACtbD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1BA;AACA,oBAAoB,mBAAO,CAAC,oFAAgB;;AAE5C;AACA;AACA,WAAW,YAAY;AACvB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AChGA;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,2BAA2B;AACzC,cAAc,2BAA2B;AACzC,cAAc,SAAS;AACvB;AACA,cAAc,EAAE;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;;AAEA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA,WAAW,EAAE;AACb,WAAW,cAAc;AACzB;AACA,YAAY,2BAA2B;AACvC;AACA;AACA;;AAEA,YAAY,2BAA2B;AACvC;;AAEA,YAAY,2BAA2B;AACvC;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;;AAEA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,cAAc,SAAS;AACvB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,2BAA2B,cAAc;AACzC,qBAAqB,gBAAgB;AACrC,cAAc,gBAAgB;AAC9B,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,MAAM,KAA+B,GAAG,EAMtC;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACtKA;AACA;AACA;AACA;AACA;;AAEa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,IAAI,IAAqC;AACzC,6BAA6B,mBAAO,CAAC,yFAA4B;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4GAA4G;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;;AAEA;;;;;;;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,kDAAU;AAChC,aAAa,mBAAO,CAAC,4DAAe;;AAEpC,2BAA2B,mBAAO,CAAC,yFAA4B;AAC/D,qBAAqB,mBAAO,CAAC,qEAAkB;;AAE/C;AACA;;AAEA,IAAI,IAAqC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,6BAA6B;AAC7B,QAAQ;AACR;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B;AAC5B,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,KAAqC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,IAAqC;AAC/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,KAAqC,4FAA4F,SAAM;AAC7I;AACA;;AAEA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AC9kBA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,IAAqC;AACzC,gBAAgB,mBAAO,CAAC,kDAAU;;AAElC;AACA;AACA;AACA,mBAAmB,mBAAO,CAAC,uFAA2B;AACtD,CAAC,MAAM,EAIN;;;;;;;;;;;;;AClBD;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA;;;;;;;;;;;;ACXA;AACA,CAAC;;AAED;AACA,mBAAmB,KAA0B;AAC7C;AACA,kBAAkB,KAAyB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,MAAM;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,SAAS;AACrB;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,KAAK;AACL,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,mCAAmC;AAClE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB;;AAExB,yCAAyC,qBAAqB;;AAE9D;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;;AAEtD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,cAAc,iBAAiB;AAC/B;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B,oBAAoB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE,IAEU;AACZ;AACA,EAAE,mCAAmB;AACrB;AACA,GAAG;AAAA,oGAAC;AACJ,EAAE,MAAM,EAUN;;AAEF,CAAC;;;;;;;;;;;;;;ACjhBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpFa;;AAEb,iCAAiC,mBAAO,CAAC,0DAAU;AACnD,qCAAqC,mBAAO,CAAC,0DAAU;;;;;;;;;;;;;ACH1C;AACb;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,oBAAO;AAC3B,gBAAgB,mBAAO,CAAC,sDAAY;AACpC,eAAe,mBAAO,CAAC,0DAAU;AACjC,qBAAqB,mBAAO,CAAC,kEAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,UAAU,+DAA+D,UAAU,uBAAuB,qCAAqC;AAC7K;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,iCAAiC,EAAE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,WAAW,sBAAsB;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACxHa;AACb;AACA,yBAAyB,mBAAO,CAAC,0FAAoB;AACrD;;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;;;AAIb,IAAI,IAAqC;AACzC;AACA;;AAEA,8CAA8C,cAAc;;AAE5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,sFAAsF,aAAa;AACnG;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,4FAA4F,eAAe;AAC3G;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;AClOa;;AAEb,IAAI,KAAqC,EAAE,EAE1C;AACD,mBAAmB,mBAAO,CAAC,0FAA+B;AAC1D;;;;;;;;;;;;;ACNa;;AAEb,8CAA8C,cAAc;;AAE5D,+BAA+B,iFAAiF;;AAEhH,+BAA+B,mBAAO,CAAC,wFAAgC;AACvE,oDAAoD,mBAAO,CAAC,kIAAqD;AACjH,YAAY,mBAAO,CAAC,oBAAO;AAC3B;AACA,qCAAqC,mBAAO,CAAC,oGAAsC;AACnF,6CAA6C,mBAAO,CAAC,oHAA8C;;AAEnG;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFAAwF,aAAa;AACrG;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,gDAAgD,oBAAoB;AACpE,GAAG,IAAI;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0EAA0E,eAAe;AACzF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,4BAA4B,EAAE;AAC5D;AACA,qBAAqB,mBAAmB,EAAE;AAC1C;AACA,uBAAuB,qBAAqB,EAAE;AAC9C,sBAAsB,oBAAoB,EAAE;AAC5C;AACA,wBAAwB,sBAAsB,EAAE;AAChD;AACA,cAAc,YAAY,EAAE;AAC5B;AACA,yBAAyB,uBAAuB,EAAE;AAClD;AACA,sBAAsB,oBAAoB,EAAE;AAC5C;AACA,8BAA8B,4BAA4B,EAAE;AAC5D;AACA,0BAA0B,wBAAwB,EAAE;AACpD;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sDAAsD;AACtD;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,8FAA8F;AAC9F;;;AAGA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,kJAAkJ;AAClJ;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA,2BAA2B,uCAAuC;AAClE;AACA;AACA;;AAEA,0BAA0B,uCAAuC;AACjE,sDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA,SAAS;;;AAGT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,yGAAyG;;AAEzG,oDAAoD;;AAEpD;;AAEA,yBAAyB,cAAc;AACvC;AACA;AACA;AACA;AACA;AACA,WAAW;;;AAGX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;;AAGT;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,OAAO;;;AAGP;AACA,KAAK;;;AAGL,8EAA8E;;AAE9E;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA,2CAA2C;AAC3C,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC;;AAExC;AACA,sDAAsD;AACtD;;AAEA;AACA,uDAAuD;AACvD;;AAEA;AACA,8EAA8E;;AAE9E,+CAA+C,2DAA2D,0DAA0D;;AAEpK,0BAA0B;;AAE1B,gDAAgD,6DAA6D;AAC7G;AACA;;AAEA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK,EAAE;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA,iBAAiB;AACjB,eAAe;AACf;AACA,aAAa;AACb;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB;AACA,SAAS;;AAET;AACA,sCAAsC;AACtC,yBAAyB;AACzB,SAAS;AACT,OAAO;AACP;AACA,KAAK;;;AAGL;AACA;AACA,KAAK,EAAE;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA,+CAA+C;AAC/C;AACA,2CAA2C;AAC3C,uDAAuD;AACvD,qDAAqD;AACrD,SAAS;AACT,OAAO;AACP;;;AAGA;AACA;AACA,sBAAsB;;AAEtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;;;AAGV;;AAEA;AACA;AACA;AACA,oDAAoD;AACpD;AACA,WAAW;AACX,SAAS,4CAA4C;AACrD,OAAO;AACP,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,2BAA2B;AAC3B;;AAEA;;AAEA;AACA;AACA;;AAEA,+BAA+B;;AAE/B;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;;AAEA,qBAAqB,qBAAqB;AAC1C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;AACA,kBAAkB;;AAElB;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA,4BAA4B;AAC5B;AACA;AACA,+CAA+C;AAC/C;AACA,2CAA2C;AAC3C;AACA,mDAAmD;AACnD;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA,KAAK;;;AAGL,6BAA6B;AAC7B,4BAA4B;;AAE5B,wCAAwC,mBAAmB,cAAc;;AAEzE;AACA;AACA;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,yEAAyE;;AAEzE;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,yDAAyD;AACzD;;AAEA;AACA;;AAEA;AACA,2GAA2G,gGAAgG;AAC3M;AACA;;AAEA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,EAAE;;AAEX;AACA;AACA;;AAEA,0BAA0B,sBAAsB,+BAA+B;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA,4BAA4B,sBAAsB,+BAA+B;AACjF;AACA,WAAW;AACX;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA,sCAAsC,MAAM,GAAG,MAAM;AACrD,gEAAgE,MAAM;AACtE;;AAEA;AACA;AACA;AACA,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,GAAG,EAAE;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG,YAAY;;AAEf;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG,EAAE;;AAEL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG,MAAM;;AAET;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA,4BAA4B,MAAM;AAClC,0CAA0C,MAAM;AAChD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAoC,MAAM;AAC1C,kDAAkD,MAAM;AACxD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,6BAA6B;;;AAG7B;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG,iCAAiC;;AAEpC;AACA;AACA,GAAG,EAAE;;AAEL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,uDAAuD,MAAM;AAC7D,wEAAwE,MAAM;AAC9E;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,iBAAiB;AACjB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA,GAAG,EAAE;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gGAAgG;;AAEhG;;AAEA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;;AAGb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;;AAEA,OAAO;;AAEP;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,8IAA8I;AAC9I;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2BAA2B;;AAE3B,yCAAyC;;AAEzC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG,EAAE;AACL;;AAEA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ;AACA;AACA,KAAK,oBAAoB;;AAEzB;AACA;AACA,GAAG;AACH,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sEAAsE,aAAa;AACnF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA2B,EAAE,cAAc,EAAE,cAAc,EAAE;AAC7D,2BAA2B,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE;AAC7E,2BAA2B,EAAE;AAC7B,2BAA2B,EAAE;;AAE7B;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,+BAA+B;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,2EAA2E;AAC3E;;AAEA,gCAAgC,EAAE,EAAE,IAAI,YAAY,EAAE,+BAA+B,IAAI,mBAAmB;;AAE5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,yCAAyC;AACzC;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,yBAAyB,IAAI,yBAAyB;AACrE;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA,+JAA+J;;AAE/J;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gEAAgE;;AAEhE,6DAA6D;;AAE7D;AACA;AACA;AACA;AACA;AACA,8EAA8E;AAC9E,KAAK;;;AAGL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,GAAG;AACH,CAAC;AACD;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClxEa;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wB;;;;;;;;;;;;ACvBa;;AAEb;AACA;AACA;AACA,cAAc,oBAAoB;AAClC;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;;;;;;;AC/CA;AAAa;;AAEb;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB;AACA,YAAY,QAAQ;AACpB;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACe;AACf;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA,cAAc,uBAAuB;AACrC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,KAAK;AACjB;AACA,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,SAAS;AACvB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;ACjRD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,8BAA8B;AACpD,sBAAsB,8BAA8B;AACpD,sBAAsB,8BAA8B;;AAEpD;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,mBAAmB,OAAO;AACzD,+BAA+B,mBAAmB,OAAO;AACzD,+BAA+B,mBAAmB,OAAO;AACzD;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,gBAAgB;AAChB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,gBAAgB;AAChB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,UAAU;AACzB;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD,wCAAwC;AACxC,wCAAwC;AACxC;;AAEA;AACA;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA;AACA,eAAe,UAAU;AACzB;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA,sDAAsD;AACtD,wCAAwC;AACxC,wCAAwC;AACxC;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA,eAAe,UAAU;AACzB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yCAAyC;AAC5D,mBAAmB,yCAAyC;AAC5D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,wCAAwC;AAC3D,mBAAmB,yCAAyC;AAC5D,mBAAmB,yCAAyC;AAC5D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uCAAuC;AAC1D,mBAAmB,wCAAwC;AAC3D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+DAA+D,WAAW;AAC1E;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2DAA2D,wBAAwB;;AAEnF;AACA;AACA,2CAA2C,wBAAwB;AACnE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,8EAA8E,4BAA4B,gBAAgB;AAC1H,8EAA8E,2BAA2B,gBAAgB;AACzH,qDAAqD,oDAAoD,gBAAgB;AACzH,qDAAqD,oDAAoD,gBAAgB;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,0BAA0B;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA,KAAK,kBAAkB,YAAY,kBAAkB;AACrD;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4BAA4B,YAAY;;AAExC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE,cAAc,EAAE,cAAc,EAAE;AACjE,+BAA+B,EAAE,cAAc,EAAE,cAAc,EAAE;AACjE,+BAA+B,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE;AACjF,+BAA+B,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE;AACjF;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,UAAU,OAAO,UAAU,OAAO,SAAS;AACnF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2CAA2C;AAC3C;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA,IAAI,KAA6B;AACjC;AACA;AACA;AACA,SAAS,IAA0C;AACnD,IAAI,mCAAO,aAAa,kBAAkB;AAAA,oGAAC;AAC3C;AACA;AACA,KAAK,EAEJ;;AAED,CAAC;;;;;;;;;;;;AC1qCD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,4B;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,mCAAmC,uBAAuB;AAC1D,kCAAkC,sBAAsB;AACxD,gCAAgC,oBAAoB;AACpD,iCAAiC,qBAAqB;AACtD,gCAAgC,gBAAgB;AAChD,iCAAiC;AACjC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,+BAA+B,oBAAoB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB;AACpB,uBAAuB;AACvB,yBAAyB;AACzB,wBAAwB;AACxB,0BAA0B;AAC1B,yBAAyB;AACzB,yBAAyB;;AAEzB;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;;;;;;;;;;;;ACzTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,eAAe,mBAAO,CAAC,qDAAU;AACjC,WAAW,mBAAO,CAAC,0CAAQ;;AAE3B;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAK;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,2CAA2C,KAAK;AAChD,0CAA0C,KAAK;AAC/C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,kBAAkB,mBAAO,CAAC,4DAAa;;AAEvC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,yBAAyB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,MAAM;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3tBa;;AAEb;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;ACfA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;ACrBA,aAAa,6CAA6C,EAAE,I;;;;;;;;;;;ACA5D,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,uCAAuC,EAAE,I;;;;;;;;;;;ACAtD,aAAa,2CAA2C,EAAE,I;;;;;;;;;;;ACA1D,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,2CAA2C,EAAE,I;;;;;;;;;;;ACA1D,aAAa,oCAAoC,EAAE,I;;;;;;;;;;;ACAnD,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,sCAAsC,EAAE,I;;;;;;;;;;;ACArD,aAAa,6CAA6C,EAAE,I;;;;;;;;;;;ACA5D,aAAa,qCAAqC,EAAE,I;;;;;;;;;;;ACApD,aAAa,+CAA+C,EAAE,I;;;;;;;;;;;ACA9D,aAAa,kDAAkD,EAAE,I;;;;;;;;;;;ACAjE,aAAa,yCAAyC,EAAE,I;;;;;;;;;;;ACAxD,aAAa,2CAA2C,EAAE,I;;;;;;;;;;;ACA1D,aAAa,yCAAyC,EAAE,I;;;;;;;;;;;ACAxD,aAAa,0CAA0C,EAAE,I;;;;;;;;;;;ACAzD,aAAa,oCAAoC,EAAE,I;;;;;;;;;;;ACAnD,aAAa,yCAAyC,EAAE,I;;;;;;;;;;;ACAxD,aAAa,0CAA0C,EAAE,I;;;;;;;;;;;ACAzD,aAAa,iCAAiC,EAAE,I;;;;;;;;;;;ACAhD,aAAa,gCAAgC,EAAE,I","file":"block-editor.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./node_modules/@wordpress/block-editor/build-module/index.js\");\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","/**\n * External dependencies\n */\nimport { find } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Toolbar } from '@wordpress/components';\nimport { alignLeft, alignRight, alignCenter } from '@wordpress/icons';\n\nconst DEFAULT_ALIGNMENT_CONTROLS = [\n\t{\n\t\ticon: alignLeft,\n\t\ttitle: __( 'Align text left' ),\n\t\talign: 'left',\n\t},\n\t{\n\t\ticon: alignCenter,\n\t\ttitle: __( 'Align text center' ),\n\t\talign: 'center',\n\t},\n\t{\n\t\ticon: alignRight,\n\t\ttitle: __( 'Align text right' ),\n\t\talign: 'right',\n\t},\n];\n\nexport function AlignmentToolbar( props ) {\n\tconst {\n\t\tvalue,\n\t\tonChange,\n\t\talignmentControls = DEFAULT_ALIGNMENT_CONTROLS,\n\t\tlabel = __( 'Change text alignment' ),\n\t\tisCollapsed = true,\n\t} = props;\n\n\tfunction applyOrUnset( align ) {\n\t\treturn () => onChange( value === align ? undefined : align );\n\t}\n\n\tconst activeAlignment = find(\n\t\talignmentControls,\n\t\t( control ) => control.align === value\n\t);\n\n\treturn (\n\t\t<Toolbar\n\t\t\tisCollapsed={ isCollapsed }\n\t\t\ticon={ activeAlignment ? activeAlignment.icon : 'editor-alignleft' }\n\t\t\tlabel={ label }\n\t\t\tcontrols={ alignmentControls.map( ( control ) => {\n\t\t\t\tconst { align } = control;\n\t\t\t\tconst isActive = value === align;\n\n\t\t\t\treturn {\n\t\t\t\t\t...control,\n\t\t\t\t\tisActive,\n\t\t\t\t\trole: isCollapsed ? 'menuitemradio' : undefined,\n\t\t\t\t\tonClick: applyOrUnset( align ),\n\t\t\t\t};\n\t\t\t} ) }\n\t\t/>\n\t);\n}\n\nexport default AlignmentToolbar;\n","/**\n * External dependencies\n */\nimport { clone } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { applyFilters, hasFilter } from '@wordpress/hooks';\nimport { compose } from '@wordpress/compose';\nimport { Autocomplete as OriginalAutocomplete } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { withBlockEditContext } from '../block-edit/context';\n\n/**\n * Wrap the default Autocomplete component with one that\n * supports a filter hook for customizing its list of autocompleters.\n *\n * This function is exported for unit test.\n *\n * @param  {Function} Autocomplete Original component.\n * @return {Function}              Wrapped component\n */\nexport function withFilteredAutocompleters( Autocomplete ) {\n\treturn ( props ) => {\n\t\tlet { completers = [] } = props;\n\n\t\tif ( hasFilter( 'editor.Autocomplete.completers' ) ) {\n\t\t\tcompleters = applyFilters(\n\t\t\t\t'editor.Autocomplete.completers',\n\t\t\t\t// Provide copies so filters may directly modify them.\n\t\t\t\tcompleters.map( clone ),\n\t\t\t\tprops.blockName\n\t\t\t);\n\t\t}\n\n\t\treturn <Autocomplete { ...props } completers={ completers } />;\n\t};\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/autocomplete/README.md\n */\nexport default compose( [\n\twithBlockEditContext( ( { name } ) => ( { blockName: name } ) ),\n\twithFilteredAutocompleters,\n] )( OriginalAutocomplete );\n","/**\n * External dependencies\n */\nimport { castArray, first, last, every } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { hasBlockSupport, switchToBlockType } from '@wordpress/blocks';\n\nfunction BlockActions( {\n\tcanDuplicate,\n\tcanInsertDefaultBlock,\n\tchildren,\n\tisLocked,\n\tonDuplicate,\n\tonGroup,\n\tonInsertAfter,\n\tonInsertBefore,\n\tonRemove,\n\tonUngroup,\n} ) {\n\treturn children( {\n\t\tcanDuplicate,\n\t\tcanInsertDefaultBlock,\n\t\tisLocked,\n\t\tonDuplicate,\n\t\tonGroup,\n\t\tonInsertAfter,\n\t\tonInsertBefore,\n\t\tonRemove,\n\t\tonUngroup,\n\t} );\n}\n\nexport default compose( [\n\twithSelect( ( select, props ) => {\n\t\tconst {\n\t\t\tcanInsertBlockType,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlocksByClientId,\n\t\t\tgetTemplateLock,\n\t\t} = select( 'core/block-editor' );\n\t\tconst { getDefaultBlockName } = select( 'core/blocks' );\n\n\t\tconst blocks = getBlocksByClientId( props.clientIds );\n\t\tconst rootClientId = getBlockRootClientId( props.clientIds[ 0 ] );\n\t\tconst canDuplicate = every( blocks, ( block ) => {\n\t\t\treturn (\n\t\t\t\t!! block &&\n\t\t\t\thasBlockSupport( block.name, 'multiple', true ) &&\n\t\t\t\tcanInsertBlockType( block.name, rootClientId )\n\t\t\t);\n\t\t} );\n\n\t\tconst canInsertDefaultBlock = canInsertBlockType(\n\t\t\tgetDefaultBlockName(),\n\t\t\trootClientId\n\t\t);\n\n\t\treturn {\n\t\t\tblocks,\n\t\t\tcanDuplicate,\n\t\t\tcanInsertDefaultBlock,\n\t\t\textraProps: props,\n\t\t\tisLocked: !! getTemplateLock( rootClientId ),\n\t\t\trootClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, props, { select } ) => {\n\t\tconst { clientIds, blocks } = props;\n\n\t\tconst {\n\t\t\tremoveBlocks,\n\t\t\treplaceBlocks,\n\t\t\tduplicateBlocks,\n\t\t\tinsertAfterBlock,\n\t\t\tinsertBeforeBlock,\n\t\t} = dispatch( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tonDuplicate() {\n\t\t\t\treturn duplicateBlocks( clientIds );\n\t\t\t},\n\t\t\tonRemove() {\n\t\t\t\tremoveBlocks( clientIds );\n\t\t\t},\n\t\t\tonInsertBefore() {\n\t\t\t\tinsertBeforeBlock( first( castArray( clientIds ) ) );\n\t\t\t},\n\t\t\tonInsertAfter() {\n\t\t\t\tinsertAfterBlock( last( castArray( clientIds ) ) );\n\t\t\t},\n\t\t\tonGroup() {\n\t\t\t\tif ( ! blocks.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst { getGroupingBlockName } = select( 'core/blocks' );\n\n\t\t\t\tconst groupingBlockName = getGroupingBlockName();\n\n\t\t\t\t// Activate the `transform` on `core/group` which does the conversion\n\t\t\t\tconst newBlocks = switchToBlockType(\n\t\t\t\t\tblocks,\n\t\t\t\t\tgroupingBlockName\n\t\t\t\t);\n\n\t\t\t\tif ( ! newBlocks ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treplaceBlocks( clientIds, newBlocks );\n\t\t\t},\n\n\t\t\tonUngroup() {\n\t\t\t\tif ( ! blocks.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst innerBlocks = blocks[ 0 ].innerBlocks;\n\n\t\t\t\tif ( ! innerBlocks.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treplaceBlocks( clientIds, innerBlocks );\n\t\t\t},\n\t\t};\n\t} ),\n] )( BlockActions );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Toolbar } from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport {\n\tpositionCenter,\n\tpositionLeft,\n\tpositionRight,\n\tstretchFullWidth,\n\tstretchWide,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { withBlockEditContext } from '../block-edit/context';\n\nconst BLOCK_ALIGNMENTS_CONTROLS = {\n\tleft: {\n\t\ticon: positionLeft,\n\t\ttitle: __( 'Align left' ),\n\t},\n\tcenter: {\n\t\ticon: positionCenter,\n\t\ttitle: __( 'Align center' ),\n\t},\n\tright: {\n\t\ticon: positionRight,\n\t\ttitle: __( 'Align right' ),\n\t},\n\twide: {\n\t\ticon: stretchWide,\n\t\ttitle: __( 'Wide width' ),\n\t},\n\tfull: {\n\t\ticon: stretchFullWidth,\n\t\ttitle: __( 'Full width' ),\n\t},\n};\n\nconst DEFAULT_CONTROLS = [ 'left', 'center', 'right', 'wide', 'full' ];\nconst DEFAULT_CONTROL = 'center';\nconst WIDE_CONTROLS = [ 'wide', 'full' ];\n\nexport function BlockAlignmentToolbar( {\n\tvalue,\n\tonChange,\n\tcontrols = DEFAULT_CONTROLS,\n\tisCollapsed = true,\n\twideControlsEnabled = false,\n} ) {\n\tfunction applyOrUnset( align ) {\n\t\treturn () => onChange( value === align ? undefined : align );\n\t}\n\n\tconst enabledControls = wideControlsEnabled\n\t\t? controls\n\t\t: controls.filter(\n\t\t\t\t( control ) => WIDE_CONTROLS.indexOf( control ) === -1\n\t\t  );\n\n\tconst activeAlignmentControl = BLOCK_ALIGNMENTS_CONTROLS[ value ];\n\tconst defaultAlignmentControl =\n\t\tBLOCK_ALIGNMENTS_CONTROLS[ DEFAULT_CONTROL ];\n\n\treturn (\n\t\t<Toolbar\n\t\t\tisCollapsed={ isCollapsed }\n\t\t\ticon={\n\t\t\t\tactiveAlignmentControl\n\t\t\t\t\t? activeAlignmentControl.icon\n\t\t\t\t\t: defaultAlignmentControl.icon\n\t\t\t}\n\t\t\tlabel={ __( 'Change alignment' ) }\n\t\t\tcontrols={ enabledControls.map( ( control ) => {\n\t\t\t\treturn {\n\t\t\t\t\t...BLOCK_ALIGNMENTS_CONTROLS[ control ],\n\t\t\t\t\tisActive: value === control,\n\t\t\t\t\trole: isCollapsed ? 'menuitemradio' : undefined,\n\t\t\t\t\tonClick: applyOrUnset( control ),\n\t\t\t\t};\n\t\t\t} ) }\n\t\t/>\n\t);\n}\n\nexport default compose(\n\twithBlockEditContext( ( { clientId } ) => {\n\t\treturn {\n\t\t\tclientId,\n\t\t};\n\t} ),\n\twithSelect( ( select ) => {\n\t\tconst { getSettings } = select( 'core/block-editor' );\n\t\tconst settings = getSettings();\n\t\treturn {\n\t\t\twideControlsEnabled: settings.alignWide,\n\t\t};\n\t} )\n)( BlockAlignmentToolbar );\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockTitle from '../block-title';\n\n/**\n * Block breadcrumb component, displaying the hierarchy of the current block selection as a breadcrumb.\n *\n * @return {WPElement} Block Breadcrumb.\n */\nconst BlockBreadcrumb = function() {\n\tconst { selectBlock, clearSelectedBlock } = useDispatch(\n\t\t'core/block-editor'\n\t);\n\tconst { clientId, parents, hasSelection } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetSelectionStart,\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetBlockParents,\n\t\t} = select( 'core/block-editor' );\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\treturn {\n\t\t\tparents: getBlockParents( selectedBlockClientId ),\n\t\t\tclientId: selectedBlockClientId,\n\t\t\thasSelection: !! getSelectionStart().clientId,\n\t\t};\n\t}, [] );\n\n\t/*\n\t * Disable reason: The `list` ARIA role is redundant but\n\t * Safari+VoiceOver won't announce the list otherwise.\n\t */\n\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\treturn (\n\t\t<ul\n\t\t\tclassName=\"block-editor-block-breadcrumb\"\n\t\t\trole=\"list\"\n\t\t\taria-label={ __( 'Block breadcrumb' ) }\n\t\t>\n\t\t\t<li\n\t\t\t\tclassName={\n\t\t\t\t\t! hasSelection\n\t\t\t\t\t\t? 'block-editor-block-breadcrumb__current'\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\taria-current={ ! hasSelection ? 'true' : undefined }\n\t\t\t>\n\t\t\t\t{ hasSelection && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"block-editor-block-breadcrumb__button\"\n\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\tonClick={ clearSelectedBlock }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Document' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\t{ ! hasSelection && __( 'Document' ) }\n\t\t\t</li>\n\t\t\t{ parents.map( ( parentClientId ) => (\n\t\t\t\t<li key={ parentClientId }>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"block-editor-block-breadcrumb__button\"\n\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\tonClick={ () => selectBlock( parentClientId ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockTitle clientId={ parentClientId } />\n\t\t\t\t\t</Button>\n\t\t\t\t</li>\n\t\t\t) ) }\n\t\t\t{ !! clientId && (\n\t\t\t\t<li\n\t\t\t\t\tclassName=\"block-editor-block-breadcrumb__current\"\n\t\t\t\t\taria-current=\"true\"\n\t\t\t\t>\n\t\t\t\t\t<BlockTitle clientId={ clientId } />\n\t\t\t\t</li>\n\t\t\t) }\n\t\t</ul>\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\n\t);\n};\n\nexport default BlockBreadcrumb;\n","/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\n\nfunction BlockCard( { blockType } ) {\n\treturn (\n\t\t<div className=\"block-editor-block-card\">\n\t\t\t<BlockIcon icon={ blockType.icon } showColors />\n\t\t\t<div className=\"block-editor-block-card__content\">\n\t\t\t\t<div className=\"block-editor-block-card__title\">\n\t\t\t\t\t{ blockType.title }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"block-editor-block-card__description\">\n\t\t\t\t\t{ blockType.description }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default BlockCard;\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\n\nconst BlockView = ( {\n\ttitle,\n\trawContent,\n\trenderedContent,\n\taction,\n\tactionText,\n\tclassName,\n} ) => {\n\treturn (\n\t\t<div className={ className }>\n\t\t\t<div className=\"block-editor-block-compare__content\">\n\t\t\t\t<h2 className=\"block-editor-block-compare__heading\">\n\t\t\t\t\t{ title }\n\t\t\t\t</h2>\n\n\t\t\t\t<div className=\"block-editor-block-compare__html\">\n\t\t\t\t\t{ rawContent }\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"block-editor-block-compare__preview edit-post-visual-editor\">\n\t\t\t\t\t{ renderedContent }\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"block-editor-block-compare__action\">\n\t\t\t\t<Button isSecondary tabIndex=\"0\" onClick={ action }>\n\t\t\t\t\t{ actionText }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default BlockView;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { castArray } from 'lodash';\nimport { diffChars } from 'diff';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { getSaveContent, getSaveElement } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport BlockView from './block-view';\n\nclass BlockCompare extends Component {\n\tgetDifference( originalContent, newContent ) {\n\t\tconst difference = diffChars( originalContent, newContent );\n\n\t\treturn difference.map( ( item, pos ) => {\n\t\t\tconst classes = classnames( {\n\t\t\t\t'block-editor-block-compare__added': item.added,\n\t\t\t\t'block-editor-block-compare__removed': item.removed,\n\t\t\t} );\n\n\t\t\treturn (\n\t\t\t\t<span key={ pos } className={ classes }>\n\t\t\t\t\t{ item.value }\n\t\t\t\t</span>\n\t\t\t);\n\t\t} );\n\t}\n\n\tgetOriginalContent( block ) {\n\t\treturn {\n\t\t\trawContent: block.originalContent,\n\t\t\trenderedContent: getSaveElement( block.name, block.attributes ),\n\t\t};\n\t}\n\n\tgetConvertedContent( block ) {\n\t\t// The convertor may return an array of items or a single item\n\t\tconst newBlocks = castArray( block );\n\n\t\t// Get converted block details\n\t\tconst newContent = newBlocks.map( ( item ) =>\n\t\t\tgetSaveContent( item.name, item.attributes, item.innerBlocks )\n\t\t);\n\t\tconst renderedContent = newBlocks.map( ( item ) =>\n\t\t\tgetSaveElement( item.name, item.attributes, item.innerBlocks )\n\t\t);\n\n\t\treturn {\n\t\t\trawContent: newContent.join( '' ),\n\t\t\trenderedContent,\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tblock,\n\t\t\tonKeep,\n\t\t\tonConvert,\n\t\t\tconvertor,\n\t\t\tconvertButtonText,\n\t\t} = this.props;\n\t\tconst original = this.getOriginalContent( block );\n\t\tconst converted = this.getConvertedContent( convertor( block ) );\n\t\tconst difference = this.getDifference(\n\t\t\toriginal.rawContent,\n\t\t\tconverted.rawContent\n\t\t);\n\n\t\treturn (\n\t\t\t<div className=\"block-editor-block-compare__wrapper\">\n\t\t\t\t<BlockView\n\t\t\t\t\ttitle={ __( 'Current' ) }\n\t\t\t\t\tclassName=\"block-editor-block-compare__current\"\n\t\t\t\t\taction={ onKeep }\n\t\t\t\t\tactionText={ __( 'Convert to HTML' ) }\n\t\t\t\t\trawContent={ original.rawContent }\n\t\t\t\t\trenderedContent={ original.renderedContent }\n\t\t\t\t/>\n\n\t\t\t\t<BlockView\n\t\t\t\t\ttitle={ __( 'After Conversion' ) }\n\t\t\t\t\tclassName=\"block-editor-block-compare__converted\"\n\t\t\t\t\taction={ onConvert }\n\t\t\t\t\tactionText={ convertButtonText }\n\t\t\t\t\trawContent={ difference }\n\t\t\t\t\trenderedContent={ converted.renderedContent }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default BlockCompare;\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill, Toolbar } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { ifBlockEditSelected } from '../block-edit/context';\n\nconst { Fill, Slot } = createSlotFill( 'BlockControls' );\n\nconst BlockControlsFill = ( { controls, children } ) => (\n\t<Fill>\n\t\t<Toolbar controls={ controls } />\n\t\t{ children }\n\t</Fill>\n);\n\nconst BlockControls = ifBlockEditSelected( BlockControlsFill );\n\nBlockControls.Slot = Slot;\n\nexport default BlockControls;\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Draggable } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEffect, useRef } from '@wordpress/element';\n\nconst BlockDraggable = ( { children, clientIds } ) => {\n\tconst { srcRootClientId, index, isDraggable } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockIndex,\n\t\t\t\tgetBlockRootClientId,\n\t\t\t\tgetTemplateLock,\n\t\t\t} = select( 'core/block-editor' );\n\t\t\tconst normalizedClientIds = castArray( clientIds );\n\t\t\tconst rootClientId =\n\t\t\t\tnormalizedClientIds.length === 1\n\t\t\t\t\t? getBlockRootClientId( normalizedClientIds[ 0 ] )\n\t\t\t\t\t: null;\n\t\t\tconst templateLock = rootClientId\n\t\t\t\t? getTemplateLock( rootClientId )\n\t\t\t\t: null;\n\n\t\t\treturn {\n\t\t\t\tindex: getBlockIndex( normalizedClientIds[ 0 ], rootClientId ),\n\t\t\t\tsrcRootClientId: rootClientId,\n\t\t\t\tisDraggable:\n\t\t\t\t\tnormalizedClientIds.length === 1 && 'all' !== templateLock,\n\t\t\t};\n\t\t},\n\t\t[ clientIds ]\n\t);\n\tconst isDragging = useRef( false );\n\tconst { startDraggingBlocks, stopDraggingBlocks } = useDispatch(\n\t\t'core/block-editor'\n\t);\n\n\t// Stop dragging blocks if the block draggable is unmounted\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tif ( isDragging.current ) {\n\t\t\t\tstopDraggingBlocks();\n\t\t\t}\n\t\t};\n\t}, [] );\n\n\tif ( ! isDraggable ) {\n\t\treturn null;\n\t}\n\n\tconst normalizedClientIds = castArray( clientIds );\n\tconst blockElementId = `block-${ normalizedClientIds[ 0 ] }`;\n\tconst transferData = {\n\t\ttype: 'block',\n\t\tsrcIndex: index,\n\t\tsrcClientId: normalizedClientIds[ 0 ],\n\t\tsrcRootClientId,\n\t};\n\n\treturn (\n\t\t<Draggable\n\t\t\telementId={ blockElementId }\n\t\t\ttransferData={ transferData }\n\t\t\tonDragStart={ () => {\n\t\t\t\tstartDraggingBlocks();\n\t\t\t\tisDragging.current = true;\n\t\t\t} }\n\t\t\tonDragEnd={ () => {\n\t\t\t\tstopDraggingBlocks();\n\t\t\t\tisDragging.current = false;\n\t\t\t} }\n\t\t>\n\t\t\t{ ( { onDraggableStart, onDraggableEnd } ) => {\n\t\t\t\treturn children( {\n\t\t\t\t\tonDraggableStart,\n\t\t\t\t\tonDraggableEnd,\n\t\t\t\t} );\n\t\t\t} }\n\t\t</Draggable>\n\t);\n};\n\nexport default BlockDraggable;\n","/**\n * WordPress dependencies\n */\nimport { __unstableUseDropZone as useDropZone } from '@wordpress/components';\nimport {\n\tpasteHandler,\n\tgetBlockTransforms,\n\tfindTransform,\n} from '@wordpress/blocks';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useEffect, useState, useCallback } from '@wordpress/element';\n\nconst parseDropEvent = ( event ) => {\n\tlet result = {\n\t\tsrcRootClientId: null,\n\t\tsrcClientId: null,\n\t\tsrcIndex: null,\n\t\ttype: null,\n\t};\n\n\tif ( ! event.dataTransfer ) {\n\t\treturn result;\n\t}\n\n\ttry {\n\t\tresult = Object.assign(\n\t\t\tresult,\n\t\t\tJSON.parse( event.dataTransfer.getData( 'text' ) )\n\t\t);\n\t} catch ( err ) {\n\t\treturn result;\n\t}\n\n\treturn result;\n};\n\nexport default function useBlockDropZone( { element, rootClientId } ) {\n\tconst [ clientId, setClientId ] = useState( null );\n\n\tfunction selector( select ) {\n\t\tconst {\n\t\t\tgetBlockIndex,\n\t\t\tgetClientIdsOfDescendants,\n\t\t\tgetSettings,\n\t\t\tgetTemplateLock,\n\t\t} = select( 'core/block-editor' );\n\t\treturn {\n\t\t\tgetBlockIndex,\n\t\t\tblockIndex: getBlockIndex( clientId, rootClientId ),\n\t\t\tgetClientIdsOfDescendants,\n\t\t\thasUploadPermissions: !! getSettings().mediaUpload,\n\t\t\tisLockedAll: getTemplateLock( rootClientId ) === 'all',\n\t\t};\n\t}\n\n\tconst {\n\t\tgetBlockIndex,\n\t\tblockIndex,\n\t\tgetClientIdsOfDescendants,\n\t\thasUploadPermissions,\n\t\tisLockedAll,\n\t} = useSelect( selector, [ rootClientId, clientId ] );\n\tconst {\n\t\tinsertBlocks,\n\t\tupdateBlockAttributes,\n\t\tmoveBlockToPosition,\n\t} = useDispatch( 'core/block-editor' );\n\n\tconst onFilesDrop = useCallback(\n\t\t( files ) => {\n\t\t\tif ( ! hasUploadPermissions ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst transformation = findTransform(\n\t\t\t\tgetBlockTransforms( 'from' ),\n\t\t\t\t( transform ) =>\n\t\t\t\t\ttransform.type === 'files' && transform.isMatch( files )\n\t\t\t);\n\n\t\t\tif ( transformation ) {\n\t\t\t\tconst blocks = transformation.transform(\n\t\t\t\t\tfiles,\n\t\t\t\t\tupdateBlockAttributes\n\t\t\t\t);\n\t\t\t\tinsertBlocks( blocks, blockIndex, rootClientId );\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\thasUploadPermissions,\n\t\t\tupdateBlockAttributes,\n\t\t\tinsertBlocks,\n\t\t\tblockIndex,\n\t\t\trootClientId,\n\t\t]\n\t);\n\n\tconst onHTMLDrop = useCallback(\n\t\t( HTML ) => {\n\t\t\tconst blocks = pasteHandler( { HTML, mode: 'BLOCKS' } );\n\n\t\t\tif ( blocks.length ) {\n\t\t\t\tinsertBlocks( blocks, blockIndex, rootClientId );\n\t\t\t}\n\t\t},\n\t\t[ insertBlocks, blockIndex, rootClientId ]\n\t);\n\n\tconst onDrop = useCallback(\n\t\t( event ) => {\n\t\t\tconst {\n\t\t\t\tsrcRootClientId,\n\t\t\t\tsrcClientId,\n\t\t\t\tsrcIndex,\n\t\t\t\ttype,\n\t\t\t} = parseDropEvent( event );\n\n\t\t\tconst isBlockDropType = ( dropType ) => dropType === 'block';\n\t\t\tconst isSameLevel = ( srcRoot, dstRoot ) => {\n\t\t\t\t// Note that rootClientId of top-level blocks will be undefined OR a void string,\n\t\t\t\t// so we also need to account for that case separately.\n\t\t\t\treturn (\n\t\t\t\t\tsrcRoot === dstRoot ||\n\t\t\t\t\t( ! srcRoot === true && ! dstRoot === true )\n\t\t\t\t);\n\t\t\t};\n\t\t\tconst isSameBlock = ( src, dst ) => src === dst;\n\t\t\tconst isSrcBlockAnAncestorOfDstBlock = ( src, dst ) =>\n\t\t\t\tgetClientIdsOfDescendants( [ src ] ).some(\n\t\t\t\t\t( id ) => id === dst\n\t\t\t\t);\n\n\t\t\tif (\n\t\t\t\t! isBlockDropType( type ) ||\n\t\t\t\tisSameBlock( srcClientId, clientId ) ||\n\t\t\t\tisSrcBlockAnAncestorOfDstBlock(\n\t\t\t\t\tsrcClientId,\n\t\t\t\t\tclientId || rootClientId\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst dstIndex = clientId\n\t\t\t\t? getBlockIndex( clientId, rootClientId )\n\t\t\t\t: undefined;\n\t\t\tconst positionIndex = blockIndex;\n\t\t\t// If the block is kept at the same level and moved downwards,\n\t\t\t// subtract to account for blocks shifting upward to occupy its old position.\n\t\t\tconst insertIndex =\n\t\t\t\tdstIndex &&\n\t\t\t\tsrcIndex < dstIndex &&\n\t\t\t\tisSameLevel( srcRootClientId, rootClientId )\n\t\t\t\t\t? positionIndex - 1\n\t\t\t\t\t: positionIndex;\n\t\t\tmoveBlockToPosition(\n\t\t\t\tsrcClientId,\n\t\t\t\tsrcRootClientId,\n\t\t\t\trootClientId,\n\t\t\t\tinsertIndex\n\t\t\t);\n\t\t},\n\t\t[\n\t\t\tgetClientIdsOfDescendants,\n\t\t\tgetBlockIndex,\n\t\t\tclientId,\n\t\t\tblockIndex,\n\t\t\tmoveBlockToPosition,\n\t\t\trootClientId,\n\t\t]\n\t);\n\n\tconst { position } = useDropZone( {\n\t\telement,\n\t\tonFilesDrop,\n\t\tonHTMLDrop,\n\t\tonDrop,\n\t\tisDisabled: isLockedAll,\n\t\twithPosition: true,\n\t} );\n\n\tuseEffect( () => {\n\t\tif ( position ) {\n\t\t\tconst { y } = position;\n\t\t\tconst rect = element.current.getBoundingClientRect();\n\n\t\t\tconst offset = y - rect.top;\n\t\t\tconst target = Array.from( element.current.children ).find(\n\t\t\t\t( blockEl ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tblockEl.offsetTop + blockEl.offsetHeight / 2 > offset\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif ( ! target ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst targetClientId = target.id.slice( 'block-'.length );\n\n\t\t\tif ( ! targetClientId ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetClientId( targetClientId );\n\t\t}\n\t}, [ position ] );\n\n\tif ( position ) {\n\t\treturn clientId;\n\t}\n}\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createContext, useContext } from '@wordpress/element';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\nconst Context = createContext( {\n\tname: '',\n\tisSelected: false,\n\tfocusedElement: null,\n\tsetFocusedElement: noop,\n\tclientId: null,\n} );\nconst { Provider, Consumer } = Context;\n\nexport { Provider as BlockEditContextProvider };\n\n/**\n * A hook that returns the block edit context.\n *\n * @return {Object} Block edit context\n */\nexport function useBlockEditContext() {\n\treturn useContext( Context );\n}\n\n/**\n * A Higher Order Component used to inject BlockEdit context to the\n * wrapped component.\n *\n * @param {Function} mapContextToProps Function called on every context change,\n *                                     expected to return object of props to\n *                                     merge with the component's own props.\n *\n * @return {WPComponent} Enhanced component with injected context as props.\n */\nexport const withBlockEditContext = ( mapContextToProps ) =>\n\tcreateHigherOrderComponent( ( OriginalComponent ) => {\n\t\treturn ( props ) => (\n\t\t\t<Consumer>\n\t\t\t\t{ ( context ) => (\n\t\t\t\t\t<OriginalComponent\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t{ ...mapContextToProps( context, props ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Consumer>\n\t\t);\n\t}, 'withBlockEditContext' );\n\n/**\n * A Higher Order Component used to render conditionally the wrapped\n * component only when the BlockEdit has selected state set.\n *\n * @param {WPComponent} OriginalComponent Component to wrap.\n *\n * @return {WPComponent} Component which renders only when the BlockEdit is selected.\n */\nexport const ifBlockEditSelected = createHigherOrderComponent(\n\t( OriginalComponent ) => {\n\t\treturn ( props ) => (\n\t\t\t<Consumer>\n\t\t\t\t{ ( { isSelected } ) =>\n\t\t\t\t\tisSelected && <OriginalComponent { ...props } />\n\t\t\t\t}\n\t\t\t</Consumer>\n\t\t);\n\t},\n\t'ifBlockEditSelected'\n);\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { withFilters } from '@wordpress/components';\nimport {\n\tgetBlockDefaultClassName,\n\thasBlockSupport,\n\tgetBlockType,\n} from '@wordpress/blocks';\n\nexport const Edit = ( props ) => {\n\tconst { attributes = {}, name } = props;\n\tconst blockType = getBlockType( name );\n\n\tif ( ! blockType ) {\n\t\treturn null;\n\t}\n\n\t// Generate a class name for the block's editable form\n\tconst generatedClassName = hasBlockSupport( blockType, 'className', true )\n\t\t? getBlockDefaultClassName( name )\n\t\t: null;\n\tconst className = classnames( generatedClassName, attributes.className );\n\n\t// `edit` and `save` are functions or components describing the markup\n\t// with which a block is displayed. If `blockType` is valid, assign\n\t// them preferentially as the render value for the block.\n\tconst Component = blockType.edit || blockType.save;\n\treturn <Component { ...props } className={ className } />;\n};\n\nexport default withFilters( 'editor.BlockEdit' )( Edit );\n","/**\n * External dependencies\n */\nimport memize from 'memize';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport { BlockEditContextProvider, useBlockEditContext } from './context';\n\nclass BlockEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\t// It is important to return the same object if props haven't changed\n\t\t// to avoid  unnecessary rerenders.\n\t\t// See https://reactjs.org/docs/context.html#caveats.\n\t\tthis.propsToContext = memize( this.propsToContext.bind( this ), {\n\t\t\tmaxSize: 1,\n\t\t} );\n\t}\n\n\tpropsToContext(\n\t\tname,\n\t\tisSelected,\n\t\tclientId,\n\t\tonFocus,\n\t\tonCaretVerticalPositionChange\n\t) {\n\t\treturn {\n\t\t\tname,\n\t\t\tisSelected,\n\t\t\tclientId,\n\t\t\tonFocus,\n\t\t\tonCaretVerticalPositionChange,\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tname,\n\t\t\tisSelected,\n\t\t\tclientId,\n\t\t\tonFocus,\n\t\t\tonCaretVerticalPositionChange,\n\t\t} = this.props;\n\t\tconst value = this.propsToContext(\n\t\t\tname,\n\t\t\tisSelected,\n\t\t\tclientId,\n\t\t\tonFocus,\n\t\t\tonCaretVerticalPositionChange\n\t\t);\n\n\t\treturn (\n\t\t\t<BlockEditContextProvider value={ value }>\n\t\t\t\t<Edit { ...this.props } />\n\t\t\t</BlockEditContextProvider>\n\t\t);\n\t}\n}\n\nexport default BlockEdit;\nexport { useBlockEditContext };\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { ifBlockEditSelected } from '../block-edit/context';\n\nconst { Fill, Slot } = createSlotFill( 'BlockFormatControls' );\n\nconst BlockFormatControls = ifBlockEditSelected( Fill );\n\nBlockFormatControls.Slot = Slot;\n\nexport default BlockFormatControls;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Path, Icon, SVG } from '@wordpress/components';\n\nexport default function BlockIcon( { icon, showColors = false, className } ) {\n\tif ( get( icon, [ 'src' ] ) === 'block-default' ) {\n\t\ticon = {\n\t\t\tsrc: (\n\t\t\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t<Path d=\"M19 7h-1V5h-4v2h-4V5H6v2H5c-1.1 0-2 .9-2 2v10h18V9c0-1.1-.9-2-2-2zm0 10H5V9h14v8z\" />\n\t\t\t\t</SVG>\n\t\t\t),\n\t\t};\n\t}\n\n\tconst renderedIcon = <Icon icon={ icon && icon.src ? icon.src : icon } />;\n\tconst style = showColors\n\t\t? {\n\t\t\t\tbackgroundColor: icon && icon.background,\n\t\t\t\tcolor: icon && icon.foreground,\n\t\t  }\n\t\t: {};\n\n\treturn (\n\t\t<span\n\t\t\tstyle={ style }\n\t\t\tclassName={ classnames( 'block-editor-block-icon', className, {\n\t\t\t\t'has-colors': showColors,\n\t\t\t} ) }\n\t\t>\n\t\t\t{ renderedIcon }\n\t\t</span>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tgetBlockType,\n\tgetUnregisteredTypeHandlerName,\n} from '@wordpress/blocks';\nimport {\n\tPanelBody,\n\t__experimentalUseSlot as useSlot,\n} from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport SkipToSelectedBlock from '../skip-to-selected-block';\nimport BlockCard from '../block-card';\nimport InspectorControls from '../inspector-controls';\nimport InspectorAdvancedControls from '../inspector-advanced-controls';\nimport BlockStyles from '../block-styles';\nimport MultiSelectionInspector from '../multi-selection-inspector';\nimport DefaultStylePicker from '../default-style-picker';\nconst BlockInspector = ( {\n\tblockType,\n\tcount,\n\thasBlockStyles,\n\tselectedBlockClientId,\n\tselectedBlockName,\n\tshowNoBlockSelectedMessage = true,\n} ) => {\n\tconst slot = useSlot( InspectorAdvancedControls.slotName );\n\tconst hasFills = Boolean( slot.fills && slot.fills.length );\n\n\tif ( count > 1 ) {\n\t\treturn <MultiSelectionInspector />;\n\t}\n\n\tconst isSelectedBlockUnregistered =\n\t\tselectedBlockName === getUnregisteredTypeHandlerName();\n\n\t/*\n\t * If the selected block is of an unregistered type, avoid showing it as an actual selection\n\t * because we want the user to focus on the unregistered block warning, not block settings.\n\t */\n\tif (\n\t\t! blockType ||\n\t\t! selectedBlockClientId ||\n\t\tisSelectedBlockUnregistered\n\t) {\n\t\tif ( showNoBlockSelectedMessage ) {\n\t\t\treturn (\n\t\t\t\t<span className=\"block-editor-block-inspector__no-blocks\">\n\t\t\t\t\t{ __( 'No block selected.' ) }\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"block-editor-block-inspector\">\n\t\t\t<BlockCard blockType={ blockType } />\n\t\t\t{ hasBlockStyles && (\n\t\t\t\t<div>\n\t\t\t\t\t<PanelBody title={ __( 'Styles' ) } initialOpen={ false }>\n\t\t\t\t\t\t<BlockStyles clientId={ selectedBlockClientId } />\n\t\t\t\t\t\t<DefaultStylePicker blockName={ blockType.name } />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<InspectorControls.Slot bubblesVirtually />\n\t\t\t<div>\n\t\t\t\t{ hasFills && (\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tclassName=\"block-editor-block-inspector__advanced\"\n\t\t\t\t\t\ttitle={ __( 'Advanced' ) }\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t>\n\t\t\t\t\t\t<InspectorAdvancedControls.Slot bubblesVirtually />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t<SkipToSelectedBlock key=\"back\" />\n\t\t</div>\n\t);\n};\n\nexport default withSelect( ( select ) => {\n\tconst {\n\t\tgetSelectedBlockClientId,\n\t\tgetSelectedBlockCount,\n\t\tgetBlockName,\n\t} = select( 'core/block-editor' );\n\tconst { getBlockStyles } = select( 'core/blocks' );\n\tconst selectedBlockClientId = getSelectedBlockClientId();\n\tconst selectedBlockName =\n\t\tselectedBlockClientId && getBlockName( selectedBlockClientId );\n\tconst blockType =\n\t\tselectedBlockClientId && getBlockType( selectedBlockName );\n\tconst blockStyles =\n\t\tselectedBlockClientId && getBlockStyles( selectedBlockName );\n\treturn {\n\t\tcount: getSelectedBlockCount(),\n\t\thasBlockStyles: blockStyles && blockStyles.length > 0,\n\t\tselectedBlockName,\n\t\tselectedBlockClientId,\n\t\tblockType,\n\t};\n} )( BlockInspector );\n","/**\n * External dependencies\n */\nimport { last } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { getDefaultBlockName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport DefaultBlockAppender from '../default-block-appender';\nimport ButtonBlockAppender from '../button-block-appender';\n\nfunction stopPropagation( event ) {\n\tevent.stopPropagation();\n}\n\nfunction BlockListAppender( {\n\tblockClientIds,\n\trootClientId,\n\tcanInsertDefaultBlock,\n\tisLocked,\n\trenderAppender: CustomAppender,\n\tclassName,\n} ) {\n\tif ( isLocked || CustomAppender === false ) {\n\t\treturn null;\n\t}\n\n\tlet appender;\n\tif ( CustomAppender ) {\n\t\t// Prefer custom render prop if provided.\n\t\tappender = <CustomAppender />;\n\t} else if ( canInsertDefaultBlock ) {\n\t\t// Render the default block appender when renderAppender has not been\n\t\t// provided and the context supports use of the default appender.\n\t\tappender = (\n\t\t\t<DefaultBlockAppender\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tlastBlockClientId={ last( blockClientIds ) }\n\t\t\t/>\n\t\t);\n\t} else {\n\t\t// Fallback in the case no renderAppender has been provided and the\n\t\t// default block can't be inserted.\n\t\tappender = (\n\t\t\t<ButtonBlockAppender\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tclassName=\"block-list-appender__toggle\"\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\t// A `tabIndex` is used on the wrapping `div` element in order to\n\t\t\t// force a focus event to occur when an appender `button` element\n\t\t\t// is clicked. In some browsers (Firefox, Safari), button clicks do\n\t\t\t// not emit a focus event, which could cause this event to propagate\n\t\t\t// unexpectedly. The `tabIndex` ensures that the interaction is\n\t\t\t// captured as a focus, without also adding an extra tab stop.\n\t\t\t//\n\t\t\t// See: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n\t\t\ttabIndex={ -1 }\n\t\t\t// Prevent the block from being selected when the appender is\n\t\t\t// clicked.\n\t\t\tonFocus={ stopPropagation }\n\t\t\tclassName={ classnames( 'block-list-appender', className ) }\n\t\t>\n\t\t\t{ appender }\n\t\t</div>\n\t);\n}\n\nexport default withSelect( ( select, { rootClientId } ) => {\n\tconst { getBlockOrder, canInsertBlockType, getTemplateLock } = select(\n\t\t'core/block-editor'\n\t);\n\n\treturn {\n\t\tisLocked: !! getTemplateLock( rootClientId ),\n\t\tblockClientIds: getBlockOrder( rootClientId ),\n\t\tcanInsertDefaultBlock: canInsertBlockType(\n\t\t\tgetDefaultBlockName(),\n\t\t\trootClientId\n\t\t),\n\t};\n} )( BlockListAppender );\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\nconst { Fill: __experimentalBlockListFooter, Slot } = createSlotFill(\n\t'__experimentalBlockListFooter'\n);\n\n__experimentalBlockListFooter.Slot = Slot;\n\nexport default __experimentalBlockListFooter;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport NavigableToolbar from '../navigable-toolbar';\nimport { BlockToolbar } from '../';\n\nfunction BlockContextualToolbar( { focusOnMount, ...props } ) {\n\treturn (\n\t\t<NavigableToolbar\n\t\t\tfocusOnMount={ focusOnMount }\n\t\t\tclassName=\"block-editor-block-contextual-toolbar\"\n\t\t\t/* translators: accessibility text for the block toolbar */\n\t\t\taria-label={ __( 'Block tools' ) }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t<BlockToolbar />\n\t\t</NavigableToolbar>\n\t);\n}\n\nexport default BlockContextualToolbar;\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\nclass BlockCrashBoundary extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\thasError: false,\n\t\t};\n\t}\n\n\tcomponentDidCatch( error ) {\n\t\tthis.props.onError( error );\n\n\t\tthis.setState( {\n\t\t\thasError: true,\n\t\t} );\n\t}\n\n\trender() {\n\t\tif ( this.state.hasError ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.props.children;\n\t}\n}\n\nexport default BlockCrashBoundary;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport Warning from '../warning';\n\nconst warning = (\n\t<Warning className=\"block-editor-block-list__block-crash-warning\">\n\t\t{ __( 'This block has encountered an error and cannot be previewed.' ) }\n\t</Warning>\n);\n\nexport default () => warning;\n","/**\n * External dependencies\n */\nimport TextareaAutosize from 'react-autosize-textarea';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useState } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tgetBlockAttributes,\n\tgetBlockContent,\n\tgetBlockType,\n\tisValidBlockContent,\n\tgetSaveContent,\n} from '@wordpress/blocks';\n\nfunction BlockHTML( { clientId } ) {\n\tconst [ html, setHtml ] = useState( '' );\n\tconst { block } = useSelect(\n\t\t( select ) => ( {\n\t\t\tblock: select( 'core/block-editor' ).getBlock( clientId ),\n\t\t} ),\n\t\t[ clientId ]\n\t);\n\tconst { updateBlock } = useDispatch( 'core/block-editor' );\n\tconst onChange = () => {\n\t\tconst blockType = getBlockType( block.name );\n\t\tconst attributes = getBlockAttributes(\n\t\t\tblockType,\n\t\t\thtml,\n\t\t\tblock.attributes\n\t\t);\n\n\t\t// If html is empty  we reset the block to the default HTML and mark it as valid to avoid triggering an error\n\t\tconst content = html ? html : getSaveContent( blockType, attributes );\n\t\tconst isValid = html\n\t\t\t? isValidBlockContent( blockType, attributes, content )\n\t\t\t: true;\n\n\t\tupdateBlock( clientId, {\n\t\t\tattributes,\n\t\t\toriginalContent: content,\n\t\t\tisValid,\n\t\t} );\n\n\t\t// Ensure the state is updated if we reset so it displays the default content\n\t\tif ( ! html ) {\n\t\t\tsetHtml( { content } );\n\t\t}\n\t};\n\n\tuseEffect( () => {\n\t\tsetHtml( getBlockContent( block ) );\n\t}, [ block ] );\n\n\treturn (\n\t\t<TextareaAutosize\n\t\t\tclassName=\"block-editor-block-list__block-html-textarea\"\n\t\t\tvalue={ html }\n\t\t\tonBlur={ onChange }\n\t\t\tonChange={ ( event ) => setHtml( event.target.value ) }\n\t\t/>\n\t);\n}\n\nexport default BlockHTML;\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { Button, Modal } from '@wordpress/components';\nimport { Component } from '@wordpress/element';\nimport { getBlockType, createBlock, rawHandler } from '@wordpress/blocks';\nimport { compose } from '@wordpress/compose';\nimport { withDispatch, withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport Warning from '../warning';\nimport BlockCompare from '../block-compare';\n\nexport class BlockInvalidWarning extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = { compare: false };\n\t\tthis.onCompare = this.onCompare.bind( this );\n\t\tthis.onCompareClose = this.onCompareClose.bind( this );\n\t}\n\n\tonCompare() {\n\t\tthis.setState( { compare: true } );\n\t}\n\n\tonCompareClose() {\n\t\tthis.setState( { compare: false } );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tconvertToHTML,\n\t\t\tconvertToBlocks,\n\t\t\tconvertToClassic,\n\t\t\tattemptBlockRecovery,\n\t\t\tblock,\n\t\t} = this.props;\n\t\tconst hasHTMLBlock = !! getBlockType( 'core/html' );\n\t\tconst { compare } = this.state;\n\t\tconst hiddenActions = [\n\t\t\t{\n\t\t\t\ttitle: __( 'Convert to Classic Block' ),\n\t\t\t\tonClick: convertToClassic,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: __( 'Attempt Block Recovery' ),\n\t\t\t\tonClick: attemptBlockRecovery,\n\t\t\t},\n\t\t];\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Warning\n\t\t\t\t\tactions={ [\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey=\"convert\"\n\t\t\t\t\t\t\tonClick={ this.onCompare }\n\t\t\t\t\t\t\tisSecondary={ hasHTMLBlock }\n\t\t\t\t\t\t\tisPrimary={ ! hasHTMLBlock }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ // translators: Button to fix block content\n\t\t\t\t\t\t\t_x( 'Resolve', 'imperative verb' ) }\n\t\t\t\t\t\t</Button>,\n\t\t\t\t\t\thasHTMLBlock && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey=\"edit\"\n\t\t\t\t\t\t\t\tonClick={ convertToHTML }\n\t\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Convert to HTML' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t),\n\t\t\t\t\t] }\n\t\t\t\t\tsecondaryActions={ hiddenActions }\n\t\t\t\t>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'This block contains unexpected or invalid content.'\n\t\t\t\t\t) }\n\t\t\t\t</Warning>\n\t\t\t\t{ compare && (\n\t\t\t\t\t<Modal\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t// translators: Dialog title to fix block content\n\t\t\t\t\t\t\t__( 'Resolve Block' )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonRequestClose={ this.onCompareClose }\n\t\t\t\t\t\tclassName=\"block-editor-block-compare\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockCompare\n\t\t\t\t\t\t\tblock={ block }\n\t\t\t\t\t\t\tonKeep={ convertToHTML }\n\t\t\t\t\t\t\tonConvert={ convertToBlocks }\n\t\t\t\t\t\t\tconvertor={ blockToBlocks }\n\t\t\t\t\t\t\tconvertButtonText={ __( 'Convert to Blocks' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Modal>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t}\n}\n\nconst blockToClassic = ( block ) =>\n\tcreateBlock( 'core/freeform', {\n\t\tcontent: block.originalContent,\n\t} );\nconst blockToHTML = ( block ) =>\n\tcreateBlock( 'core/html', {\n\t\tcontent: block.originalContent,\n\t} );\nconst blockToBlocks = ( block ) =>\n\trawHandler( {\n\t\tHTML: block.originalContent,\n\t} );\nconst recoverBlock = ( { name, attributes, innerBlocks } ) =>\n\tcreateBlock( name, attributes, innerBlocks );\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => ( {\n\t\tblock: select( 'core/block-editor' ).getBlock( clientId ),\n\t} ) ),\n\twithDispatch( ( dispatch, { block } ) => {\n\t\tconst { replaceBlock } = dispatch( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tconvertToClassic() {\n\t\t\t\treplaceBlock( block.clientId, blockToClassic( block ) );\n\t\t\t},\n\t\t\tconvertToHTML() {\n\t\t\t\treplaceBlock( block.clientId, blockToHTML( block ) );\n\t\t\t},\n\t\t\tconvertToBlocks() {\n\t\t\t\treplaceBlock( block.clientId, blockToBlocks( block ) );\n\t\t\t},\n\t\t\tattemptBlockRecovery() {\n\t\t\t\treplaceBlock( block.clientId, recoverBlock( block ) );\n\t\t\t},\n\t\t};\n\t} ),\n] )( BlockInvalidWarning );\n","/**\n * External dependencies\n */\nimport { findIndex } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useCallback, useContext } from '@wordpress/element';\nimport { isUnmodifiedDefaultBlock } from '@wordpress/blocks';\nimport { Popover } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BlockBreadcrumb from './breadcrumb';\nimport BlockContextualToolbar from './block-contextual-toolbar';\nimport Inserter from '../inserter';\nimport { BlockNodes } from './root-container';\n\nfunction selector( select ) {\n\tconst {\n\t\tisNavigationMode,\n\t\tisMultiSelecting,\n\t\thasMultiSelection,\n\t\tisTyping,\n\t\tisCaretWithinFormattedText,\n\t\tgetSettings,\n\t\tgetLastMultiSelectedBlockClientId,\n\t} = select( 'core/block-editor' );\n\treturn {\n\t\tisNavigationMode: isNavigationMode(),\n\t\tisMultiSelecting: isMultiSelecting(),\n\t\tisTyping: isTyping(),\n\t\tisCaretWithinFormattedText: isCaretWithinFormattedText(),\n\t\thasMultiSelection: hasMultiSelection(),\n\t\thasFixedToolbar: getSettings().hasFixedToolbar,\n\t\tlastClientId: getLastMultiSelectedBlockClientId(),\n\t};\n}\n\nfunction BlockPopover( {\n\tclientId,\n\trootClientId,\n\tname,\n\talign,\n\tisValid,\n\tmoverDirection,\n\tisEmptyDefaultBlock,\n\tcapturingClientId,\n} ) {\n\tconst {\n\t\tisNavigationMode,\n\t\tisMultiSelecting,\n\t\tisTyping,\n\t\tisCaretWithinFormattedText,\n\t\thasMultiSelection,\n\t\thasFixedToolbar,\n\t\tlastClientId,\n\t} = useSelect( selector, [] );\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst [ isToolbarForced, setIsToolbarForced ] = useState( false );\n\tconst [ isInserterShown, setIsInserterShown ] = useState( false );\n\tconst [ blockNodes ] = useContext( BlockNodes );\n\n\tconst showEmptyBlockSideInserter =\n\t\t! isNavigationMode && isEmptyDefaultBlock && isValid;\n\tconst shouldShowBreadcrumb = isNavigationMode;\n\tconst shouldShowContextualToolbar =\n\t\t! isNavigationMode &&\n\t\t! hasFixedToolbar &&\n\t\tisLargeViewport &&\n\t\t! showEmptyBlockSideInserter &&\n\t\t! isMultiSelecting &&\n\t\t( ! isTyping || isCaretWithinFormattedText );\n\tconst canFocusHiddenToolbar =\n\t\t! isNavigationMode &&\n\t\t! shouldShowContextualToolbar &&\n\t\t! hasFixedToolbar &&\n\t\t! isEmptyDefaultBlock;\n\n\tuseShortcut(\n\t\t'core/block-editor/focus-toolbar',\n\t\tuseCallback( () => setIsToolbarForced( true ), [] ),\n\t\t{\n\t\t\tbindGlobal: true,\n\t\t\teventName: 'keydown',\n\t\t\tisDisabled: ! canFocusHiddenToolbar,\n\t\t}\n\t);\n\n\tif (\n\t\t! shouldShowBreadcrumb &&\n\t\t! shouldShowContextualToolbar &&\n\t\t! isToolbarForced &&\n\t\t! showEmptyBlockSideInserter\n\t) {\n\t\treturn null;\n\t}\n\n\tlet node = blockNodes[ clientId ];\n\n\tif ( capturingClientId ) {\n\t\tnode = document.getElementById( 'block-' + capturingClientId );\n\t}\n\n\tif ( ! node ) {\n\t\treturn null;\n\t}\n\n\t// A block may specify a different target element for the toolbar.\n\tif ( node.classList.contains( 'is-block-collapsed' ) ) {\n\t\tnode = node.querySelector( '.is-block-content' ) || node;\n\t}\n\n\tlet anchorRef = node;\n\n\tif ( hasMultiSelection ) {\n\t\tconst bottomNode = blockNodes[ lastClientId ];\n\n\t\t// Wait to render the popover until the bottom reference is available\n\t\t// as well.\n\t\tif ( ! bottomNode ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tanchorRef = {\n\t\t\ttop: node,\n\t\t\tbottom: bottomNode,\n\t\t};\n\t}\n\n\tfunction onFocus() {\n\t\tsetIsInserterShown( true );\n\t}\n\n\tfunction onBlur() {\n\t\tsetIsInserterShown( false );\n\t}\n\n\t// Position above the anchor, pop out towards the right, and position in the\n\t// left corner. For the side inserter, pop out towards the left, and\n\t// position in the right corner.\n\t// To do: refactor `Popover` to make this prop clearer.\n\tconst popoverPosition = showEmptyBlockSideInserter\n\t\t? 'top left right'\n\t\t: 'top right left';\n\n\treturn (\n\t\t<Popover\n\t\t\tnoArrow\n\t\t\tanimate={ false }\n\t\t\tposition={ popoverPosition }\n\t\t\tfocusOnMount={ false }\n\t\t\tanchorRef={ anchorRef }\n\t\t\tclassName=\"block-editor-block-list__block-popover\"\n\t\t\t__unstableSticky={ ! showEmptyBlockSideInserter }\n\t\t\t__unstableSlotName=\"block-toolbar\"\n\t\t\t// Allow subpixel positioning for the block movement animation.\n\t\t\t__unstableAllowVerticalSubpixelPosition={\n\t\t\t\tmoverDirection !== 'horizontal' && node\n\t\t\t}\n\t\t\t__unstableAllowHorizontalSubpixelPosition={\n\t\t\t\tmoverDirection === 'horizontal' && node\n\t\t\t}\n\t\t\tonBlur={ () => setIsToolbarForced( false ) }\n\t\t\tshouldAnchorIncludePadding\n\t\t>\n\t\t\t{ ( shouldShowContextualToolbar || isToolbarForced ) && (\n\t\t\t\t<div\n\t\t\t\t\tonFocus={ onFocus }\n\t\t\t\t\tonBlur={ onBlur }\n\t\t\t\t\t// While ideally it would be enough to capture the\n\t\t\t\t\t// bubbling focus event from the Inserter, due to the\n\t\t\t\t\t// characteristics of click focusing of `button`s in\n\t\t\t\t\t// Firefox and Safari, it is not reliable.\n\t\t\t\t\t//\n\t\t\t\t\t// See: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n\t\t\t\t\ttabIndex={ -1 }\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'block-editor-block-list__block-popover-inserter',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'is-visible': isInserterShown,\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t<Inserter\n\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ ( shouldShowContextualToolbar || isToolbarForced ) && (\n\t\t\t\t<BlockContextualToolbar\n\t\t\t\t\t// If the toolbar is being shown because of being forced\n\t\t\t\t\t// it should focus the toolbar right after the mount.\n\t\t\t\t\tfocusOnMount={ isToolbarForced }\n\t\t\t\t\tdata-type={ name }\n\t\t\t\t\tdata-align={ align }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ shouldShowBreadcrumb && (\n\t\t\t\t<BlockBreadcrumb\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\tmoverDirection={ moverDirection }\n\t\t\t\t\tdata-align={ align }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ showEmptyBlockSideInserter && (\n\t\t\t\t<div className=\"block-editor-block-list__empty-block-inserter\">\n\t\t\t\t\t<Inserter\n\t\t\t\t\t\tposition=\"top right\"\n\t\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</Popover>\n\t);\n}\n\nfunction wrapperSelector( select ) {\n\tconst {\n\t\tgetSelectedBlockClientId,\n\t\tgetFirstMultiSelectedBlockClientId,\n\t\tgetBlockRootClientId,\n\t\t__unstableGetBlockWithoutInnerBlocks,\n\t\tgetBlockParents,\n\t\tgetBlockListSettings,\n\t\t__experimentalGetBlockListSettingsForBlocks,\n\t} = select( 'core/block-editor' );\n\n\tconst clientId =\n\t\tgetSelectedBlockClientId() || getFirstMultiSelectedBlockClientId();\n\n\tif ( ! clientId ) {\n\t\treturn;\n\t}\n\n\tconst rootClientId = getBlockRootClientId( clientId );\n\tconst { name, attributes = {}, isValid } =\n\t\t__unstableGetBlockWithoutInnerBlocks( clientId ) || {};\n\tconst blockParentsClientIds = getBlockParents( clientId );\n\tconst { __experimentalMoverDirection } =\n\t\tgetBlockListSettings( rootClientId ) || {};\n\n\t// Get Block List Settings for all ancestors of the current Block clientId\n\tconst ancestorBlockListSettings = __experimentalGetBlockListSettingsForBlocks(\n\t\tblockParentsClientIds\n\t);\n\n\t// Find the index of the first Block with the `captureDescendantsToolbars` prop defined\n\t// This will be the top most ancestor because getBlockParents() returns tree from top -> bottom\n\tconst topmostAncestorWithCaptureDescendantsToolbarsIndex = findIndex(\n\t\tancestorBlockListSettings,\n\t\t[ '__experimentalCaptureToolbars', true ]\n\t);\n\n\tlet capturingClientId;\n\n\tif ( topmostAncestorWithCaptureDescendantsToolbarsIndex !== -1 ) {\n\t\tcapturingClientId =\n\t\t\tblockParentsClientIds[\n\t\t\t\ttopmostAncestorWithCaptureDescendantsToolbarsIndex\n\t\t\t];\n\t}\n\n\treturn {\n\t\tclientId,\n\t\trootClientId: getBlockRootClientId( clientId ),\n\t\tname,\n\t\talign: attributes.align,\n\t\tisValid,\n\t\tmoverDirection: __experimentalMoverDirection,\n\t\tisEmptyDefaultBlock:\n\t\t\tname && isUnmodifiedDefaultBlock( { name, attributes } ),\n\t\tcapturingClientId,\n\t};\n}\n\nexport default function WrappedBlockPopover() {\n\tconst selected = useSelect( wrapperSelector, [] );\n\n\tif ( ! selected ) {\n\t\treturn null;\n\t}\n\n\tconst {\n\t\tclientId,\n\t\trootClientId,\n\t\tname,\n\t\talign,\n\t\tisValid,\n\t\tmoverDirection,\n\t\tisEmptyDefaultBlock,\n\t\tcapturingClientId,\n\t} = selected;\n\n\tif ( ! name ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockPopover\n\t\t\tclientId={ clientId }\n\t\t\trootClientId={ rootClientId }\n\t\t\tname={ name }\n\t\t\talign={ align }\n\t\t\tisValid={ isValid }\n\t\t\tmoverDirection={ moverDirection }\n\t\t\tisEmptyDefaultBlock={ isEmptyDefaultBlock }\n\t\t\tcapturingClientId={ capturingClientId }\n\t\t/>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { first, last, omit } from 'lodash';\nimport { animated } from 'react-spring/web.cjs';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseRef,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseState,\n\tuseContext,\n} from '@wordpress/element';\nimport { focus, isTextField, placeCaretAtHorizontalEdge } from '@wordpress/dom';\nimport { BACKSPACE, DELETE, ENTER } from '@wordpress/keycodes';\nimport {\n\tgetBlockType,\n\tgetSaveElement,\n\tisReusableBlock,\n\tisUnmodifiedDefaultBlock,\n\tgetUnregisteredTypeHandlerName,\n} from '@wordpress/blocks';\nimport { withFilters } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { withDispatch, withSelect, useSelect } from '@wordpress/data';\nimport { withViewportMatch } from '@wordpress/viewport';\nimport { compose, pure, ifCondition } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BlockEdit from '../block-edit';\nimport BlockInvalidWarning from './block-invalid-warning';\nimport BlockCrashWarning from './block-crash-warning';\nimport BlockCrashBoundary from './block-crash-boundary';\nimport BlockHtml from './block-html';\nimport { isInsideRootBlock } from '../../utils/dom';\nimport useMovingAnimation from './moving-animation';\nimport { Context, BlockNodes } from './root-container';\n\nfunction BlockListBlock( {\n\tmode,\n\tisFocusMode,\n\tisLocked,\n\tclientId,\n\tisSelected,\n\tisMultiSelected,\n\tisPartOfMultiSelection,\n\tisFirstMultiSelected,\n\tisLastMultiSelected,\n\tisTypingWithinBlock,\n\tisEmptyDefaultBlock,\n\tisAncestorOfSelectedBlock,\n\tisSelectionEnabled,\n\tclassName,\n\tname,\n\tisValid,\n\tattributes,\n\tinitialPosition,\n\twrapperProps,\n\tsetAttributes,\n\tonReplace,\n\tonInsertBlocksAfter,\n\tonMerge,\n\tonRemove,\n\tonInsertDefaultBlockAfter,\n\ttoggleSelection,\n\tanimateOnChange,\n\tenableAnimation,\n\tisNavigationMode,\n\tisMultiSelecting,\n\thasSelectedUI = true,\n} ) {\n\tconst onSelectionStart = useContext( Context );\n\tconst [ , setBlockNodes ] = useContext( BlockNodes );\n\t// In addition to withSelect, we should favor using useSelect in this component going forward\n\t// to avoid leaking new props to the public API (editor.BlockListBlock filter)\n\tconst { isDraggingBlocks } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tisDraggingBlocks: select( 'core/block-editor' ).isDraggingBlocks(),\n\t\t};\n\t}, [] );\n\n\t// Reference of the wrapper\n\tconst wrapper = useRef( null );\n\n\t// Provide the selected node, or the first and last nodes of a multi-\n\t// selection, so it can be used to position the contextual block toolbar.\n\t// We only provide what is necessary, and remove the nodes again when they\n\t// are no longer selected.\n\tuseLayoutEffect( () => {\n\t\tif ( isSelected || isFirstMultiSelected || isLastMultiSelected ) {\n\t\t\tconst node = wrapper.current;\n\t\t\tsetBlockNodes( ( nodes ) => ( { ...nodes, [ clientId ]: node } ) );\n\t\t\treturn () => {\n\t\t\t\tsetBlockNodes( ( nodes ) => omit( nodes, clientId ) );\n\t\t\t};\n\t\t}\n\t}, [ isSelected, isFirstMultiSelected, isLastMultiSelected ] );\n\n\t// Handling the error state\n\tconst [ hasError, setErrorState ] = useState( false );\n\tconst onBlockError = () => setErrorState( true );\n\n\tconst blockType = getBlockType( name );\n\t// translators: %s: Type of block (i.e. Text, Image etc)\n\tconst blockLabel = sprintf( __( 'Block: %s' ), blockType.title );\n\n\t// Handing the focus of the block on creation and update\n\n\t/**\n\t * When a block becomes selected, transition focus to an inner tabbable.\n\t *\n\t * @param {boolean} ignoreInnerBlocks Should not focus inner blocks.\n\t */\n\tconst focusTabbable = ( ignoreInnerBlocks ) => {\n\t\t// Focus is captured by the wrapper node, so while focus transition\n\t\t// should only consider tabbables within editable display, since it\n\t\t// may be the wrapper itself or a side control which triggered the\n\t\t// focus event, don't unnecessary transition to an inner tabbable.\n\t\tif ( wrapper.current.contains( document.activeElement ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Find all tabbables within node.\n\t\tconst textInputs = focus.tabbable\n\t\t\t.find( wrapper.current )\n\t\t\t.filter( isTextField )\n\t\t\t// Exclude inner blocks\n\t\t\t.filter(\n\t\t\t\t( node ) =>\n\t\t\t\t\t! ignoreInnerBlocks ||\n\t\t\t\t\tisInsideRootBlock( wrapper.current, node )\n\t\t\t);\n\n\t\t// If reversed (e.g. merge via backspace), use the last in the set of\n\t\t// tabbables.\n\t\tconst isReverse = -1 === initialPosition;\n\t\tconst target = ( isReverse ? last : first )( textInputs );\n\n\t\tif ( ! target ) {\n\t\t\twrapper.current.focus();\n\t\t\treturn;\n\t\t}\n\n\t\tplaceCaretAtHorizontalEdge( target, isReverse );\n\t};\n\n\t// Focus the selected block's wrapper or inner input on mount and update\n\tconst isMounting = useRef( true );\n\n\tuseEffect( () => {\n\t\tif ( ! isMultiSelecting && ! isNavigationMode && isSelected ) {\n\t\t\tfocusTabbable( ! isMounting.current );\n\t\t}\n\n\t\tisMounting.current = false;\n\t}, [ isSelected, isMultiSelecting, isNavigationMode ] );\n\n\t// Block Reordering animation\n\tconst animationStyle = useMovingAnimation(\n\t\twrapper,\n\t\tisSelected || isPartOfMultiSelection,\n\t\tisSelected || isFirstMultiSelected,\n\t\tenableAnimation,\n\t\tanimateOnChange\n\t);\n\n\t// Other event handlers\n\n\t/**\n\t * Interprets keydown event intent to remove or insert after block if key\n\t * event occurs on wrapper node. This can occur when the block has no text\n\t * fields of its own, particularly after initial insertion, to allow for\n\t * easy deletion and continuous writing flow to add additional content.\n\t *\n\t * @param {KeyboardEvent} event Keydown event.\n\t */\n\tconst onKeyDown = ( event ) => {\n\t\tconst { keyCode, target } = event;\n\n\t\tswitch ( keyCode ) {\n\t\t\tcase ENTER:\n\t\t\t\tif ( target === wrapper.current ) {\n\t\t\t\t\t// Insert default block after current block if enter and event\n\t\t\t\t\t// not already handled by descendant.\n\t\t\t\t\tonInsertDefaultBlockAfter();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase BACKSPACE:\n\t\t\tcase DELETE:\n\t\t\t\tif ( target === wrapper.current ) {\n\t\t\t\t\t// Remove block on backspace.\n\t\t\t\t\tonRemove( clientId );\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst onMouseLeave = ( { which, buttons } ) => {\n\t\t// The primary button must be pressed to initiate selection. Fall back\n\t\t// to `which` if the standard `buttons` property is falsy. There are\n\t\t// cases where Firefox might always set `buttons` to `0`.\n\t\t// See https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons\n\t\t// See https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\n\t\tif ( ( buttons || which ) === 1 ) {\n\t\t\tonSelectionStart( clientId );\n\t\t}\n\t};\n\n\tconst isUnregisteredBlock = name === getUnregisteredTypeHandlerName();\n\n\t// If the block is selected and we're typing the block should not appear.\n\t// Empty paragraph blocks should always show up as unselected.\n\tconst showEmptyBlockSideInserter =\n\t\t! isNavigationMode && isSelected && isEmptyDefaultBlock && isValid;\n\tconst shouldAppearSelected =\n\t\t! isFocusMode &&\n\t\t! showEmptyBlockSideInserter &&\n\t\tisSelected &&\n\t\t! isTypingWithinBlock;\n\n\tconst isDragging =\n\t\tisDraggingBlocks && ( isSelected || isPartOfMultiSelection );\n\n\t// Determine whether the block has props to apply to the wrapper.\n\tif ( blockType.getEditWrapperProps ) {\n\t\twrapperProps = {\n\t\t\t...wrapperProps,\n\t\t\t...blockType.getEditWrapperProps( attributes ),\n\t\t};\n\t}\n\n\tconst isAligned = wrapperProps && wrapperProps[ 'data-align' ];\n\n\t// The wp-block className is important for editor styles.\n\t// Generate the wrapper class names handling the different states of the block.\n\tconst wrapperClassName = classnames(\n\t\t'wp-block block-editor-block-list__block',\n\t\t{\n\t\t\t'has-selected-ui': hasSelectedUI,\n\t\t\t'has-warning': ! isValid || !! hasError || isUnregisteredBlock,\n\t\t\t'is-selected': shouldAppearSelected && hasSelectedUI,\n\t\t\t'is-multi-selected': isMultiSelected,\n\t\t\t'is-reusable': isReusableBlock( blockType ),\n\t\t\t'is-dragging': isDragging,\n\t\t\t'is-typing': isTypingWithinBlock,\n\t\t\t'is-focused':\n\t\t\t\tisFocusMode && ( isSelected || isAncestorOfSelectedBlock ),\n\t\t\t'is-focus-mode': isFocusMode,\n\t\t\t'has-child-selected': isAncestorOfSelectedBlock,\n\t\t\t'is-block-collapsed': isAligned,\n\t\t},\n\t\tclassName\n\t);\n\n\tconst blockElementId = `block-${ clientId }`;\n\n\t// We wrap the BlockEdit component in a div that hides it when editing in\n\t// HTML mode. This allows us to render all of the ancillary pieces\n\t// (InspectorControls, etc.) which are inside `BlockEdit` but not\n\t// `BlockHTML`, even in HTML mode.\n\tlet blockEdit = (\n\t\t<BlockEdit\n\t\t\tname={ name }\n\t\t\tisSelected={ isSelected }\n\t\t\tattributes={ attributes }\n\t\t\tsetAttributes={ setAttributes }\n\t\t\tinsertBlocksAfter={ isLocked ? undefined : onInsertBlocksAfter }\n\t\t\tonReplace={ isLocked ? undefined : onReplace }\n\t\t\tmergeBlocks={ isLocked ? undefined : onMerge }\n\t\t\tclientId={ clientId }\n\t\t\tisSelectionEnabled={ isSelectionEnabled }\n\t\t\ttoggleSelection={ toggleSelection }\n\t\t/>\n\t);\n\n\t// For aligned blocks, provide a wrapper element so the block can be\n\t// positioned relative to the block column. This is enabled with the\n\t// .is-block-content className.\n\tif ( isAligned ) {\n\t\tblockEdit = <div className=\"is-block-content\">{ blockEdit }</div>;\n\t}\n\n\tif ( mode !== 'visual' ) {\n\t\tblockEdit = <div style={ { display: 'none' } }>{ blockEdit }</div>;\n\t}\n\n\treturn (\n\t\t<animated.div\n\t\t\tid={ blockElementId }\n\t\t\tref={ wrapper }\n\t\t\tclassName={ wrapperClassName }\n\t\t\tdata-block={ clientId }\n\t\t\tdata-type={ name }\n\t\t\t// Only allow shortcuts when a blocks is selected and not locked.\n\t\t\tonKeyDown={ isSelected && ! isLocked ? onKeyDown : undefined }\n\t\t\t// Only allow selection to be started from a selected block.\n\t\t\tonMouseLeave={ isSelected ? onMouseLeave : undefined }\n\t\t\ttabIndex=\"0\"\n\t\t\taria-label={ blockLabel }\n\t\t\trole=\"group\"\n\t\t\t{ ...wrapperProps }\n\t\t\tstyle={\n\t\t\t\twrapperProps && wrapperProps.style\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t...wrapperProps.style,\n\t\t\t\t\t\t\t...animationStyle,\n\t\t\t\t\t  }\n\t\t\t\t\t: animationStyle\n\t\t\t}\n\t\t>\n\t\t\t<BlockCrashBoundary onError={ onBlockError }>\n\t\t\t\t{ isValid && blockEdit }\n\t\t\t\t{ isValid && mode === 'html' && (\n\t\t\t\t\t<BlockHtml clientId={ clientId } />\n\t\t\t\t) }\n\t\t\t\t{ ! isValid && [\n\t\t\t\t\t<BlockInvalidWarning\n\t\t\t\t\t\tkey=\"invalid-warning\"\n\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t/>,\n\t\t\t\t\t<div key=\"invalid-preview\">\n\t\t\t\t\t\t{ getSaveElement( blockType, attributes ) }\n\t\t\t\t\t</div>,\n\t\t\t\t] }\n\t\t\t</BlockCrashBoundary>\n\t\t\t{ !! hasError && <BlockCrashWarning /> }\n\t\t</animated.div>\n\t);\n}\n\nconst applyWithSelect = withSelect(\n\t( select, { clientId, rootClientId, isLargeViewport } ) => {\n\t\tconst {\n\t\t\tisBlockSelected,\n\t\t\tisAncestorMultiSelected,\n\t\t\tisBlockMultiSelected,\n\t\t\tisFirstMultiSelectedBlock,\n\t\t\tgetLastMultiSelectedBlockClientId,\n\t\t\tisTyping,\n\t\t\tgetBlockMode,\n\t\t\tisSelectionEnabled,\n\t\t\tgetSelectedBlocksInitialCaretPosition,\n\t\t\tgetSettings,\n\t\t\thasSelectedInnerBlock,\n\t\t\tgetTemplateLock,\n\t\t\t__unstableGetBlockWithoutInnerBlocks,\n\t\t\tisNavigationMode,\n\t\t} = select( 'core/block-editor' );\n\n\t\tconst block = __unstableGetBlockWithoutInnerBlocks( clientId );\n\t\tconst isSelected = isBlockSelected( clientId );\n\t\tconst { focusMode, isRTL } = getSettings();\n\t\tconst templateLock = getTemplateLock( rootClientId );\n\t\tconst checkDeep = true;\n\n\t\t// \"ancestor\" is the more appropriate label due to \"deep\" check\n\t\tconst isAncestorOfSelectedBlock = hasSelectedInnerBlock(\n\t\t\tclientId,\n\t\t\tcheckDeep\n\t\t);\n\n\t\t// The fallback to `{}` is a temporary fix.\n\t\t// This function should never be called when a block is not present in the state.\n\t\t// It happens now because the order in withSelect rendering is not correct.\n\t\tconst { name, attributes, isValid } = block || {};\n\n\t\treturn {\n\t\t\tisMultiSelected: isBlockMultiSelected( clientId ),\n\t\t\tisPartOfMultiSelection:\n\t\t\t\tisBlockMultiSelected( clientId ) ||\n\t\t\t\tisAncestorMultiSelected( clientId ),\n\t\t\tisFirstMultiSelected: isFirstMultiSelectedBlock( clientId ),\n\t\t\tisLastMultiSelected:\n\t\t\t\tgetLastMultiSelectedBlockClientId() === clientId,\n\n\t\t\t// We only care about this prop when the block is selected\n\t\t\t// Thus to avoid unnecessary rerenders we avoid updating the prop if the block is not selected.\n\t\t\tisTypingWithinBlock:\n\t\t\t\t( isSelected || isAncestorOfSelectedBlock ) && isTyping(),\n\n\t\t\tmode: getBlockMode( clientId ),\n\t\t\tisSelectionEnabled: isSelectionEnabled(),\n\t\t\tinitialPosition: isSelected\n\t\t\t\t? getSelectedBlocksInitialCaretPosition()\n\t\t\t\t: null,\n\t\t\tisEmptyDefaultBlock:\n\t\t\t\tname && isUnmodifiedDefaultBlock( { name, attributes } ),\n\t\t\tisLocked: !! templateLock,\n\t\t\tisFocusMode: focusMode && isLargeViewport,\n\t\t\tisNavigationMode: isNavigationMode(),\n\t\t\tisRTL,\n\n\t\t\t// Users of the editor.BlockListBlock filter used to be able to access the block prop\n\t\t\t// Ideally these blocks would rely on the clientId prop only.\n\t\t\t// This is kept for backward compatibility reasons.\n\t\t\tblock,\n\n\t\t\tname,\n\t\t\tattributes,\n\t\t\tisValid,\n\t\t\tisSelected,\n\t\t\tisAncestorOfSelectedBlock,\n\t\t};\n\t}\n);\n\nconst applyWithDispatch = withDispatch( ( dispatch, ownProps, { select } ) => {\n\tconst {\n\t\tupdateBlockAttributes,\n\t\tinsertBlocks,\n\t\tinsertDefaultBlock,\n\t\tremoveBlock,\n\t\tmergeBlocks,\n\t\treplaceBlocks,\n\t\ttoggleSelection,\n\t\t__unstableMarkLastChangeAsPersistent,\n\t} = dispatch( 'core/block-editor' );\n\n\treturn {\n\t\tsetAttributes( newAttributes ) {\n\t\t\tconst { clientId } = ownProps;\n\t\t\tupdateBlockAttributes( clientId, newAttributes );\n\t\t},\n\t\tonInsertBlocks( blocks, index ) {\n\t\t\tconst { rootClientId } = ownProps;\n\t\t\tinsertBlocks( blocks, index, rootClientId );\n\t\t},\n\t\tonInsertDefaultBlockAfter() {\n\t\t\tconst { clientId, rootClientId } = ownProps;\n\t\t\tconst { getBlockIndex } = select( 'core/block-editor' );\n\t\t\tconst index = getBlockIndex( clientId, rootClientId );\n\t\t\tinsertDefaultBlock( {}, rootClientId, index + 1 );\n\t\t},\n\t\tonInsertBlocksAfter( blocks ) {\n\t\t\tconst { clientId, rootClientId } = ownProps;\n\t\t\tconst { getBlockIndex } = select( 'core/block-editor' );\n\t\t\tconst index = getBlockIndex( clientId, rootClientId );\n\t\t\tinsertBlocks( blocks, index + 1, rootClientId );\n\t\t},\n\t\tonRemove( clientId ) {\n\t\t\tremoveBlock( clientId );\n\t\t},\n\t\tonMerge( forward ) {\n\t\t\tconst { clientId } = ownProps;\n\t\t\tconst { getPreviousBlockClientId, getNextBlockClientId } = select(\n\t\t\t\t'core/block-editor'\n\t\t\t);\n\n\t\t\tif ( forward ) {\n\t\t\t\tconst nextBlockClientId = getNextBlockClientId( clientId );\n\t\t\t\tif ( nextBlockClientId ) {\n\t\t\t\t\tmergeBlocks( clientId, nextBlockClientId );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst previousBlockClientId = getPreviousBlockClientId(\n\t\t\t\t\tclientId\n\t\t\t\t);\n\t\t\t\tif ( previousBlockClientId ) {\n\t\t\t\t\tmergeBlocks( previousBlockClientId, clientId );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonReplace( blocks, indexToSelect ) {\n\t\t\tif (\n\t\t\t\tblocks.length &&\n\t\t\t\t! isUnmodifiedDefaultBlock( blocks[ blocks.length - 1 ] )\n\t\t\t) {\n\t\t\t\t__unstableMarkLastChangeAsPersistent();\n\t\t\t}\n\t\t\treplaceBlocks( [ ownProps.clientId ], blocks, indexToSelect );\n\t\t},\n\t\ttoggleSelection( selectionEnabled ) {\n\t\t\ttoggleSelection( selectionEnabled );\n\t\t},\n\t};\n} );\n\nexport default compose(\n\tpure,\n\twithViewportMatch( { isLargeViewport: 'medium' } ),\n\tapplyWithSelect,\n\tapplyWithDispatch,\n\t// block is sometimes not mounted at the right time, causing it be undefined\n\t// see issue for more info https://github.com/WordPress/gutenberg/issues/17013\n\tifCondition( ( { block } ) => !! block ),\n\twithFilters( 'editor.BlockListBlock' )\n)( BlockListBlock );\n","/**\n * WordPress dependencies\n */\nimport { Toolbar, Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEffect, useRef } from '@wordpress/element';\nimport { BACKSPACE, DELETE } from '@wordpress/keycodes';\nimport {\n\tgetBlockType,\n\t__experimentalGetAccessibleBlockLabel as getAccessibleBlockLabel,\n} from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport BlockTitle from '../block-title';\n\n/**\n * Block breadcrumb component, displaying the label of the block. If the block\n * descends from a root block, a button is displayed enabling the user to select\n * the root block.\n *\n * @param {string} props          Component props.\n * @param {string} props.clientId Client ID of block.\n *\n * @return {WPComponent} The component to be rendered.\n */\nfunction BlockBreadcrumb( {\n\tclientId,\n\trootClientId,\n\tmoverDirection,\n\t...props\n} ) {\n\tconst selected = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\t__unstableGetBlockWithoutInnerBlocks,\n\t\t\t\tgetBlockIndex,\n\t\t\t} = select( 'core/block-editor' );\n\t\t\tconst index = getBlockIndex( clientId, rootClientId );\n\t\t\tconst { name, attributes } = __unstableGetBlockWithoutInnerBlocks(\n\t\t\t\tclientId\n\t\t\t);\n\t\t\treturn { index, name, attributes };\n\t\t},\n\t\t[ clientId, rootClientId ]\n\t);\n\tconst { index, name, attributes } = selected;\n\tconst { setNavigationMode, removeBlock } = useDispatch(\n\t\t'core/block-editor'\n\t);\n\tconst ref = useRef();\n\n\t// Focus the breadcrumb in navigation mode.\n\tuseEffect( () => {\n\t\tref.current.focus();\n\t} );\n\n\tfunction onKeyDown( event ) {\n\t\tconst { keyCode } = event;\n\n\t\tif ( keyCode === BACKSPACE || keyCode === DELETE ) {\n\t\t\tremoveBlock( clientId );\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\tconst blockType = getBlockType( name );\n\tconst label = getAccessibleBlockLabel(\n\t\tblockType,\n\t\tattributes,\n\t\tindex + 1,\n\t\tmoverDirection\n\t);\n\n\treturn (\n\t\t<div className=\"block-editor-block-list__breadcrumb\" { ...props }>\n\t\t\t<Toolbar>\n\t\t\t\t<Button\n\t\t\t\t\tref={ ref }\n\t\t\t\t\tonClick={ () => setNavigationMode( false ) }\n\t\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\t\tlabel={ label }\n\t\t\t\t>\n\t\t\t\t\t<BlockTitle clientId={ clientId } />\n\t\t\t\t</Button>\n\t\t\t</Toolbar>\n\t\t</div>\n\t);\n}\n\nexport default BlockBreadcrumb;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { AsyncModeProvider, useSelect } from '@wordpress/data';\nimport { useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport BlockListBlock from './block';\nimport BlockListAppender from '../block-list-appender';\nimport __experimentalBlockListFooter from '../block-list-footer';\nimport RootContainer from './root-container';\nimport useBlockDropZone from '../block-drop-zone';\n\n/**\n * If the block count exceeds the threshold, we disable the reordering animation\n * to avoid laginess.\n */\nconst BLOCK_ANIMATION_THRESHOLD = 200;\n\nconst forceSyncUpdates = ( WrappedComponent ) => ( props ) => {\n\treturn (\n\t\t<AsyncModeProvider value={ false }>\n\t\t\t<WrappedComponent { ...props } />\n\t\t</AsyncModeProvider>\n\t);\n};\n\nfunction BlockList( {\n\tclassName,\n\trootClientId,\n\tisDraggable,\n\trenderAppender,\n\t__experimentalUIParts = {},\n} ) {\n\tfunction selector( select ) {\n\t\tconst {\n\t\t\tgetBlockOrder,\n\t\t\tisMultiSelecting,\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetMultiSelectedBlockClientIds,\n\t\t\thasMultiSelection,\n\t\t\tgetGlobalBlockCount,\n\t\t\tisTyping,\n\t\t} = select( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tblockClientIds: getBlockOrder( rootClientId ),\n\t\t\tisMultiSelecting: isMultiSelecting(),\n\t\t\tselectedBlockClientId: getSelectedBlockClientId(),\n\t\t\tmultiSelectedBlockClientIds: getMultiSelectedBlockClientIds(),\n\t\t\thasMultiSelection: hasMultiSelection(),\n\t\t\tenableAnimation:\n\t\t\t\t! isTyping() &&\n\t\t\t\tgetGlobalBlockCount() <= BLOCK_ANIMATION_THRESHOLD,\n\t\t};\n\t}\n\n\tconst {\n\t\tblockClientIds,\n\t\tisMultiSelecting,\n\t\tselectedBlockClientId,\n\t\tmultiSelectedBlockClientIds,\n\t\thasMultiSelection,\n\t\tenableAnimation,\n\t} = useSelect( selector, [ rootClientId ] );\n\n\tconst Container = rootClientId ? 'div' : RootContainer;\n\tconst ref = useRef();\n\tconst targetClientId = useBlockDropZone( {\n\t\telement: ref,\n\t\trootClientId,\n\t} );\n\tconst __experimentalContainerProps = rootClientId\n\t\t? {}\n\t\t: { hasPopover: __experimentalUIParts.hasPopover };\n\n\treturn (\n\t\t<Container\n\t\t\tref={ ref }\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-block-list__layout',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\t{ ...__experimentalContainerProps }\n\t\t>\n\t\t\t{ blockClientIds.map( ( clientId, index ) => {\n\t\t\t\tconst isBlockInSelection = hasMultiSelection\n\t\t\t\t\t? multiSelectedBlockClientIds.includes( clientId )\n\t\t\t\t\t: selectedBlockClientId === clientId;\n\n\t\t\t\treturn (\n\t\t\t\t\t<AsyncModeProvider\n\t\t\t\t\t\tkey={ clientId }\n\t\t\t\t\t\tvalue={ ! isBlockInSelection }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockListBlock\n\t\t\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\t\tisDraggable={ isDraggable }\n\t\t\t\t\t\t\tisMultiSelecting={ isMultiSelecting }\n\t\t\t\t\t\t\t// This prop is explicitely computed and passed down\n\t\t\t\t\t\t\t// to avoid being impacted by the async mode\n\t\t\t\t\t\t\t// otherwise there might be a small delay to trigger the animation.\n\t\t\t\t\t\t\tanimateOnChange={ index }\n\t\t\t\t\t\t\tenableAnimation={ enableAnimation }\n\t\t\t\t\t\t\thasSelectedUI={\n\t\t\t\t\t\t\t\t__experimentalUIParts.hasSelectedUI\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\tclientId === targetClientId\n\t\t\t\t\t\t\t\t\t? 'is-drop-target'\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</AsyncModeProvider>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t<BlockListAppender\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\trenderAppender={ renderAppender }\n\t\t\t\tclassName={\n\t\t\t\t\ttargetClientId === null ? 'is-drop-target' : undefined\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<__experimentalBlockListFooter.Slot />\n\t\t</Container>\n\t);\n}\n\n// This component needs to always be synchronous\n// as it's the one changing the async mode\n// depending on the block selection.\nexport default forceSyncUpdates( BlockList );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useState, useRef } from '@wordpress/element';\nimport { Popover } from '@wordpress/components';\nimport { placeCaretAtVerticalEdge } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport Inserter from '../inserter';\nimport { getClosestTabbable } from '../writing-flow';\nimport { getBlockDOMNode } from '../../utils/dom';\n\nfunction Indicator( { clientId } ) {\n\tconst showInsertionPoint = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockIndex,\n\t\t\t\tgetBlockInsertionPoint,\n\t\t\t\tisBlockInsertionPointVisible,\n\t\t\t\tgetBlockRootClientId,\n\t\t\t} = select( 'core/block-editor' );\n\t\t\tconst rootClientId = getBlockRootClientId( clientId );\n\t\t\tconst blockIndex = getBlockIndex( clientId, rootClientId );\n\t\t\tconst insertionPoint = getBlockInsertionPoint();\n\t\t\treturn (\n\t\t\t\tisBlockInsertionPointVisible() &&\n\t\t\t\tinsertionPoint.index === blockIndex &&\n\t\t\t\tinsertionPoint.rootClientId === rootClientId\n\t\t\t);\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tif ( ! showInsertionPoint ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"block-editor-block-list__insertion-point-indicator\" />\n\t);\n}\n\nexport default function InsertionPoint( {\n\tclassName,\n\tisMultiSelecting,\n\thasMultiSelection,\n\tselectedBlockClientId,\n\tchildren,\n\tcontainerRef,\n} ) {\n\tconst [ isInserterShown, setIsInserterShown ] = useState( false );\n\tconst [ isInserterForced, setIsInserterForced ] = useState( false );\n\tconst [ inserterElement, setInserterElement ] = useState( null );\n\tconst [ inserterClientId, setInserterClientId ] = useState( null );\n\tconst ref = useRef();\n\tconst { multiSelectedBlockClientIds } = useSelect( ( select ) => {\n\t\tconst { getMultiSelectedBlockClientIds } = select(\n\t\t\t'core/block-editor'\n\t\t);\n\n\t\treturn {\n\t\t\tmultiSelectedBlockClientIds: getMultiSelectedBlockClientIds(),\n\t\t};\n\t} );\n\n\tfunction onMouseMove( event ) {\n\t\tif ( event.target.className !== className ) {\n\t\t\tif ( isInserterShown ) {\n\t\t\t\tsetIsInserterShown( false );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tconst rect = event.target.getBoundingClientRect();\n\t\tconst offset = event.clientY - rect.top;\n\t\tconst element = Array.from( event.target.children ).find(\n\t\t\t( blockEl ) => {\n\t\t\t\treturn blockEl.offsetTop > offset;\n\t\t\t}\n\t\t);\n\n\t\tif ( ! element ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst clientId = element.id.slice( 'block-'.length );\n\n\t\tif ( ! clientId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst elementRect = element.getBoundingClientRect();\n\n\t\tif (\n\t\t\tevent.clientX > elementRect.right ||\n\t\t\tevent.clientX < elementRect.left\n\t\t) {\n\t\t\tif ( isInserterShown ) {\n\t\t\t\tsetIsInserterShown( false );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsInserterShown( true );\n\t\tsetInserterElement( element );\n\t\tsetInserterClientId( clientId );\n\t}\n\n\tfunction focusClosestTabbable( event ) {\n\t\tconst { clientX, clientY, target } = event;\n\n\t\t// Only handle click on the wrapper specifically, and not an event\n\t\t// bubbled from the inserter itself.\n\t\tif ( target !== ref.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst targetRect = target.getBoundingClientRect();\n\t\tconst isReverse = clientY < targetRect.top + targetRect.height / 2;\n\t\tconst blockNode = getBlockDOMNode( inserterClientId );\n\t\tconst container = isReverse ? containerRef.current : blockNode;\n\t\tconst closest = getClosestTabbable( blockNode, true, container );\n\t\tconst rect = new window.DOMRect( clientX, clientY, 0, 16 );\n\n\t\tif ( closest ) {\n\t\t\tplaceCaretAtVerticalEdge( closest, isReverse, rect, false );\n\t\t}\n\t}\n\n\t// Hide the inserter above the selected block and during multi-selection.\n\tconst isInserterHidden = hasMultiSelection\n\t\t? multiSelectedBlockClientIds.includes( inserterClientId )\n\t\t: inserterClientId === selectedBlockClientId;\n\n\treturn (\n\t\t<>\n\t\t\t{ ! isMultiSelecting && ( isInserterShown || isInserterForced ) && (\n\t\t\t\t<Popover\n\t\t\t\t\tnoArrow\n\t\t\t\t\tanimate={ false }\n\t\t\t\t\tanchorRef={ inserterElement }\n\t\t\t\t\tposition=\"top right left\"\n\t\t\t\t\tfocusOnMount={ false }\n\t\t\t\t\tclassName=\"block-editor-block-list__insertion-point-popover\"\n\t\t\t\t\t__unstableSlotName=\"block-toolbar\"\n\t\t\t\t\t__unstableFixedPosition={ false }\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"block-editor-block-list__insertion-point\"\n\t\t\t\t\t\tstyle={ { width: inserterElement.offsetWidth } }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Indicator clientId={ inserterClientId } />\n\t\t\t\t\t\t{ /* eslint-disable-next-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events */ }\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\t\tonFocus={ () => setIsInserterForced( true ) }\n\t\t\t\t\t\t\tonBlur={ () => setIsInserterForced( false ) }\n\t\t\t\t\t\t\tonClick={ focusClosestTabbable }\n\t\t\t\t\t\t\t// While ideally it would be enough to capture the\n\t\t\t\t\t\t\t// bubbling focus event from the Inserter, due to the\n\t\t\t\t\t\t\t// characteristics of click focusing of `button`s in\n\t\t\t\t\t\t\t// Firefox and Safari, it is not reliable.\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t// See: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n\t\t\t\t\t\t\ttabIndex={ -1 }\n\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t'block-editor-block-list__insertion-point-inserter',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'is-inserter-hidden': isInserterHidden,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Inserter clientId={ inserterClientId } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Popover>\n\t\t\t) }\n\t\t\t<div\n\t\t\t\tonMouseMove={\n\t\t\t\t\t! isInserterForced && ! isMultiSelecting\n\t\t\t\t\t\t? onMouseMove\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { useSpring, interpolate } from 'react-spring/web.cjs';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseState,\n\tuseLayoutEffect,\n\tuseReducer,\n\tuseMemo,\n} from '@wordpress/element';\nimport { useReducedMotion } from '@wordpress/compose';\nimport { getScrollContainer } from '@wordpress/dom';\n\n/**\n * Simple reducer used to increment a counter.\n *\n * @param {number} state  Previous counter value.\n * @return {number} New state value.\n */\nconst counterReducer = ( state ) => state + 1;\n\nconst getAbsolutePosition = ( element ) => {\n\treturn {\n\t\ttop: element.offsetTop,\n\t\tleft: element.offsetLeft,\n\t};\n};\n\n/**\n * Hook used to compute the styles required to move a div into a new position.\n *\n * The way this animation works is the following:\n *  - It first renders the element as if there was no animation.\n *  - It takes a snapshot of the position of the block to use it\n *    as a destination point for the animation.\n *  - It restores the element to the previous position using a CSS transform\n *  - It uses the \"resetAnimation\" flag to reset the animation\n *    from the beginning in order to animate to the new destination point.\n *\n * @param {Object}  ref                      Reference to the element to animate.\n * @param {boolean} isSelected               Whether it's the current block or not.\n * @param {boolean} adjustScrolling          Adjust the scroll position to the current block.\n * @param {boolean} enableAnimation          Enable/Disable animation.\n * @param {*}       triggerAnimationOnChange Variable used to trigger the animation if it changes.\n *\n * @return {Object} Style object.\n */\nfunction useMovingAnimation(\n\tref,\n\tisSelected,\n\tadjustScrolling,\n\tenableAnimation,\n\ttriggerAnimationOnChange\n) {\n\tconst prefersReducedMotion = useReducedMotion() || ! enableAnimation;\n\tconst [ triggeredAnimation, triggerAnimation ] = useReducer(\n\t\tcounterReducer,\n\t\t0\n\t);\n\tconst [ finishedAnimation, endAnimation ] = useReducer( counterReducer, 0 );\n\tconst [ transform, setTransform ] = useState( {\n\t\tx: 0,\n\t\ty: 0,\n\t\tscrollTop: 0,\n\t} );\n\n\tconst previous = ref.current ? getAbsolutePosition( ref.current ) : null;\n\tconst scrollContainer = useMemo( () => {\n\t\tif ( ! adjustScrolling ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn getScrollContainer( ref.current );\n\t}, [ adjustScrolling ] );\n\n\tuseLayoutEffect( () => {\n\t\tif ( triggeredAnimation ) {\n\t\t\tendAnimation();\n\t\t}\n\t}, [ triggeredAnimation ] );\n\tuseLayoutEffect( () => {\n\t\tif ( prefersReducedMotion ) {\n\t\t\tif ( adjustScrolling && scrollContainer ) {\n\t\t\t\t// if the animation is disabled and the scroll needs to be adjusted,\n\t\t\t\t// just move directly to the final scroll position\n\t\t\t\tref.current.style.transform = 'none';\n\t\t\t\tconst destination = getAbsolutePosition( ref.current );\n\t\t\t\tscrollContainer.scrollTop =\n\t\t\t\t\tscrollContainer.scrollTop - previous.top + destination.top;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\t\tref.current.style.transform = 'none';\n\t\tconst destination = getAbsolutePosition( ref.current );\n\t\tconst newTransform = {\n\t\t\tx: previous ? previous.left - destination.left : 0,\n\t\t\ty: previous ? previous.top - destination.top : 0,\n\t\t\tscrollTop:\n\t\t\t\tprevious && scrollContainer\n\t\t\t\t\t? scrollContainer.scrollTop - previous.top + destination.top\n\t\t\t\t\t: 0,\n\t\t};\n\t\tref.current.style.transform =\n\t\t\tnewTransform.x === 0 && newTransform.y === 0\n\t\t\t\t? undefined\n\t\t\t\t: `translate3d(${ newTransform.x }px,${ newTransform.y }px,0)`;\n\t\ttriggerAnimation();\n\t\tsetTransform( newTransform );\n\t}, [ triggerAnimationOnChange ] );\n\n\tconst animationProps = useSpring( {\n\t\tfrom: {\n\t\t\tx: transform.x,\n\t\t\ty: transform.y,\n\t\t},\n\t\tto: {\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t},\n\t\treset: triggeredAnimation !== finishedAnimation,\n\t\tconfig: { mass: 5, tension: 2000, friction: 200 },\n\t\timmediate: prefersReducedMotion,\n\t\tonFrame: ( props ) => {\n\t\t\tif (\n\t\t\t\tadjustScrolling &&\n\t\t\t\tscrollContainer &&\n\t\t\t\t! prefersReducedMotion &&\n\t\t\t\tprops.y\n\t\t\t) {\n\t\t\t\tscrollContainer.scrollTop = transform.scrollTop + props.y;\n\t\t\t}\n\t\t},\n\t} );\n\n\t// Dismiss animations if disabled.\n\treturn prefersReducedMotion\n\t\t? {}\n\t\t: {\n\t\t\t\ttransformOrigin: 'center',\n\t\t\t\ttransform: interpolate(\n\t\t\t\t\t[ animationProps.x, animationProps.y ],\n\t\t\t\t\t( x, y ) =>\n\t\t\t\t\t\tx === 0 && y === 0\n\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t: `translate3d(${ x }px,${ y }px,0)`\n\t\t\t\t),\n\t\t\t\tzIndex: interpolate(\n\t\t\t\t\t[ animationProps.x, animationProps.y ],\n\t\t\t\t\t( x, y ) =>\n\t\t\t\t\t\t! isSelected || ( x === 0 && y === 0 ) ? undefined : `1`\n\t\t\t\t),\n\t\t  };\n}\n\nexport default useMovingAnimation;\n","/**\n * WordPress dependencies\n */\nimport { createContext, forwardRef, useState } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport useMultiSelection from './use-multi-selection';\nimport { getBlockClientId } from '../../utils/dom';\nimport InsertionPoint from './insertion-point';\nimport BlockPopover from './block-popover';\n\n/** @typedef {import('@wordpress/element').WPSyntheticEvent} WPSyntheticEvent */\n\nexport const Context = createContext();\nexport const BlockNodes = createContext();\n\nfunction selector( select ) {\n\tconst {\n\t\tgetSelectedBlockClientId,\n\t\thasMultiSelection,\n\t\tisMultiSelecting,\n\t} = select( 'core/block-editor' );\n\n\treturn {\n\t\tselectedBlockClientId: getSelectedBlockClientId(),\n\t\thasMultiSelection: hasMultiSelection(),\n\t\tisMultiSelecting: isMultiSelecting(),\n\t};\n}\n\n/**\n * Prevents default dragging behavior within a block.\n * To do: we must handle this in the future and clean up the drag target.\n * Previously dragging was prevented for multi-selected, but this is no longer\n * needed.\n *\n * @param {WPSyntheticEvent} event Synthetic drag event.\n */\nfunction onDragStart( event ) {\n\t// Ensure we target block content, not block controls.\n\tif ( getBlockClientId( event.target ) ) {\n\t\tevent.preventDefault();\n\t}\n}\n\nfunction RootContainer( { children, className, hasPopover = true }, ref ) {\n\tconst {\n\t\tselectedBlockClientId,\n\t\thasMultiSelection,\n\t\tisMultiSelecting,\n\t} = useSelect( selector, [] );\n\tconst { selectBlock } = useDispatch( 'core/block-editor' );\n\tconst onSelectionStart = useMultiSelection( ref );\n\n\t/**\n\t * Marks the block as selected when focused and not already selected. This\n\t * specifically handles the case where block does not set focus on its own\n\t * (via `setFocus`), typically if there is no focusable input in the block.\n\t *\n\t * @param {WPSyntheticEvent} event\n\t */\n\tfunction onFocus( event ) {\n\t\tif ( hasMultiSelection ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst clientId = getBlockClientId( event.target );\n\n\t\tif ( clientId && clientId !== selectedBlockClientId ) {\n\t\t\tselectBlock( clientId );\n\t\t}\n\t}\n\n\treturn (\n\t\t<InsertionPoint\n\t\t\tclassName={ className }\n\t\t\tisMultiSelecting={ isMultiSelecting }\n\t\t\thasMultiSelection={ hasMultiSelection }\n\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\tcontainerRef={ ref }\n\t\t>\n\t\t\t<BlockNodes.Provider value={ useState( {} ) }>\n\t\t\t\t{ hasPopover ? <BlockPopover /> : null }\n\t\t\t\t<div\n\t\t\t\t\tref={ ref }\n\t\t\t\t\tclassName={ className }\n\t\t\t\t\tonFocus={ onFocus }\n\t\t\t\t\tonDragStart={ onDragStart }\n\t\t\t\t>\n\t\t\t\t\t<Context.Provider value={ onSelectionStart }>\n\t\t\t\t\t\t{ children }\n\t\t\t\t\t</Context.Provider>\n\t\t\t\t</div>\n\t\t\t</BlockNodes.Provider>\n\t\t</InsertionPoint>\n\t);\n}\n\nexport default forwardRef( RootContainer );\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useRef, useCallback } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { getBlockClientId, getBlockDOMNode } from '../../utils/dom';\n\n/**\n * Returns for the deepest node at the start or end of a container node. Ignores\n * any text nodes that only contain HTML formatting whitespace.\n *\n * @param {Element} node Container to search.\n * @param {string} type 'start' or 'end'.\n */\nfunction getDeepestNode( node, type ) {\n\tconst child = type === 'start' ? 'firstChild' : 'lastChild';\n\tconst sibling = type === 'start' ? 'nextSibling' : 'previousSibling';\n\n\twhile ( node[ child ] ) {\n\t\tnode = node[ child ];\n\n\t\twhile (\n\t\t\tnode.nodeType === node.TEXT_NODE &&\n\t\t\t/^[ \\t\\n]*$/.test( node.data ) &&\n\t\t\tnode[ sibling ]\n\t\t) {\n\t\t\tnode = node[ sibling ];\n\t\t}\n\t}\n\n\treturn node;\n}\n\nfunction selector( select ) {\n\tconst {\n\t\tisSelectionEnabled,\n\t\tisMultiSelecting,\n\t\tgetMultiSelectedBlockClientIds,\n\t\thasMultiSelection,\n\t\tgetBlockParents,\n\t\tgetSelectedBlockClientId,\n\t} = select( 'core/block-editor' );\n\n\treturn {\n\t\tisSelectionEnabled: isSelectionEnabled(),\n\t\tisMultiSelecting: isMultiSelecting(),\n\t\tmultiSelectedBlockClientIds: getMultiSelectedBlockClientIds(),\n\t\thasMultiSelection: hasMultiSelection(),\n\t\tgetBlockParents,\n\t\tselectedBlockClientId: getSelectedBlockClientId(),\n\t};\n}\n\nfunction toggleRichText( container, toggle ) {\n\tArray.from( container.querySelectorAll( '.rich-text' ) ).forEach(\n\t\t( node ) => {\n\t\t\tif ( toggle ) {\n\t\t\t\tnode.setAttribute( 'contenteditable', true );\n\t\t\t} else {\n\t\t\t\tnode.removeAttribute( 'contenteditable' );\n\t\t\t}\n\t\t}\n\t);\n}\n\nexport default function useMultiSelection( ref ) {\n\tconst {\n\t\tisSelectionEnabled,\n\t\tisMultiSelecting,\n\t\tmultiSelectedBlockClientIds,\n\t\thasMultiSelection,\n\t\tgetBlockParents,\n\t\tselectedBlockClientId,\n\t} = useSelect( selector, [] );\n\tconst {\n\t\tstartMultiSelect,\n\t\tstopMultiSelect,\n\t\tmultiSelect,\n\t\tselectBlock,\n\t} = useDispatch( 'core/block-editor' );\n\tconst rafId = useRef();\n\tconst startClientId = useRef();\n\tconst anchorElement = useRef();\n\n\t/**\n\t * When the component updates, and there is multi selection, we need to\n\t * select the entire block contents.\n\t */\n\tuseEffect( () => {\n\t\tif ( ! hasMultiSelection || isMultiSelecting ) {\n\t\t\tif ( ! selectedBlockClientId || isMultiSelecting ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selection = window.getSelection();\n\n\t\t\tif ( selection.rangeCount && ! selection.isCollapsed ) {\n\t\t\t\tconst blockNode = getBlockDOMNode( selectedBlockClientId );\n\t\t\t\tconst { startContainer, endContainer } = selection.getRangeAt(\n\t\t\t\t\t0\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\t!! blockNode &&\n\t\t\t\t\t( ! blockNode.contains( startContainer ) ||\n\t\t\t\t\t\t! blockNode.contains( endContainer ) )\n\t\t\t\t) {\n\t\t\t\t\tselection.removeAllRanges();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst { length } = multiSelectedBlockClientIds;\n\n\t\tif ( length < 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// These must be in the right DOM order.\n\t\tconst start = multiSelectedBlockClientIds[ 0 ];\n\t\tconst end = multiSelectedBlockClientIds[ length - 1 ];\n\n\t\tlet startNode = getBlockDOMNode( start );\n\t\tlet endNode = getBlockDOMNode( end );\n\n\t\tconst selection = window.getSelection();\n\t\tconst range = document.createRange();\n\n\t\t// The most stable way to select the whole block contents is to start\n\t\t// and end at the deepest points.\n\t\tstartNode = getDeepestNode( startNode, 'start' );\n\t\tendNode = getDeepestNode( endNode, 'end' );\n\n\t\trange.setStartBefore( startNode );\n\t\trange.setEndAfter( endNode );\n\n\t\tselection.removeAllRanges();\n\t\tselection.addRange( range );\n\t}, [\n\t\thasMultiSelection,\n\t\tisMultiSelecting,\n\t\tmultiSelectedBlockClientIds,\n\t\tselectBlock,\n\t\tselectedBlockClientId,\n\t] );\n\n\tconst onSelectionChange = useCallback(\n\t\t( { isSelectionEnd } ) => {\n\t\t\tconst selection = window.getSelection();\n\n\t\t\t// If no selection is found, end multi selection and enable all rich\n\t\t\t// text areas.\n\t\t\tif ( ! selection.rangeCount || selection.isCollapsed ) {\n\t\t\t\ttoggleRichText( ref.current, true );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst clientId = getBlockClientId( selection.focusNode );\n\t\t\tconst isSingularSelection = startClientId.current === clientId;\n\n\t\t\tif ( isSingularSelection ) {\n\t\t\t\tselectBlock( clientId );\n\n\t\t\t\t// If the selection is complete (on mouse up), and no multiple\n\t\t\t\t// blocks have been selected, set focus back to the anchor element\n\t\t\t\t// if the anchor element contains the selection. Additionally, rich\n\t\t\t\t// text elements that were previously disabled can now be enabled\n\t\t\t\t// again.\n\t\t\t\tif ( isSelectionEnd ) {\n\t\t\t\t\ttoggleRichText( ref.current, true );\n\n\t\t\t\t\tif ( selection.rangeCount ) {\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\tcommonAncestorContainer,\n\t\t\t\t\t\t} = selection.getRangeAt( 0 );\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tanchorElement.current.contains(\n\t\t\t\t\t\t\t\tcommonAncestorContainer\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tanchorElement.current.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst startPath = [\n\t\t\t\t\t...getBlockParents( startClientId.current ),\n\t\t\t\t\tstartClientId.current,\n\t\t\t\t];\n\t\t\t\tconst endPath = [ ...getBlockParents( clientId ), clientId ];\n\t\t\t\tconst depth = Math.min( startPath.length, endPath.length ) - 1;\n\n\t\t\t\tmultiSelect( startPath[ depth ], endPath[ depth ] );\n\t\t\t}\n\t\t},\n\t\t[ selectBlock, getBlockParents, multiSelect ]\n\t);\n\n\t/**\n\t * Handles a mouseup event to end the current mouse multi-selection.\n\t */\n\tconst onSelectionEnd = useCallback( () => {\n\t\tdocument.removeEventListener( 'selectionchange', onSelectionChange );\n\t\t// Equivalent to attaching the listener once.\n\t\twindow.removeEventListener( 'mouseup', onSelectionEnd );\n\t\t// The browser selection won't have updated yet at this point, so wait\n\t\t// until the next animation frame to get the browser selection.\n\t\trafId.current = window.requestAnimationFrame( () => {\n\t\t\tonSelectionChange( { isSelectionEnd: true } );\n\t\t\tstopMultiSelect();\n\t\t} );\n\t}, [ onSelectionChange, stopMultiSelect ] );\n\n\t// Only clean up when unmounting, these are added and cleaned up elsewhere.\n\tuseEffect(\n\t\t() => () => {\n\t\t\tdocument.removeEventListener(\n\t\t\t\t'selectionchange',\n\t\t\t\tonSelectionChange\n\t\t\t);\n\t\t\twindow.removeEventListener( 'mouseup', onSelectionEnd );\n\t\t\twindow.cancelAnimationFrame( rafId.current );\n\t\t},\n\t\t[ onSelectionChange, onSelectionEnd ]\n\t);\n\n\t/**\n\t * Binds event handlers to the document for tracking a pending multi-select\n\t * in response to a mousedown event occurring in a rendered block.\n\t */\n\treturn useCallback(\n\t\t( clientId ) => {\n\t\t\tif ( ! isSelectionEnabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstartClientId.current = clientId;\n\t\t\tanchorElement.current = document.activeElement;\n\t\t\tstartMultiSelect();\n\n\t\t\t// `onSelectionStart` is called after `mousedown` and `mouseleave`\n\t\t\t// (from a block). The selection ends when `mouseup` happens anywhere\n\t\t\t// in the window.\n\t\t\tdocument.addEventListener( 'selectionchange', onSelectionChange );\n\t\t\twindow.addEventListener( 'mouseup', onSelectionEnd );\n\n\t\t\t// Removing the contenteditable attributes within the block editor is\n\t\t\t// essential for selection to work across editable areas. The edible\n\t\t\t// hosts are removed, allowing selection to be extended outside the\n\t\t\t// DOM element. `startMultiSelect` sets a flag in the store so the rich\n\t\t\t// text components are updated, but the rerender may happen very slowly,\n\t\t\t// especially in Safari for the blocks that are asynchonously rendered.\n\t\t\t// To ensure the browser instantly removes the selection boundaries, we\n\t\t\t// remove the contenteditable attributes manually.\n\t\t\ttoggleRichText( ref.current, false );\n\t\t},\n\t\t[ isSelectionEnabled, startMultiSelect, onSelectionEnd ]\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/components';\n\nexport const leftArrow = (\n\t<SVG\n\t\twidth=\"18\"\n\t\theight=\"18\"\n\t\tviewBox=\"0 0 18 18\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<Path d=\"M4.5 9l5.6-5.7 1.4 1.5L7.3 9l4.2 4.2-1.4 1.5L4.5 9z\" />\n\t</SVG>\n);\n\nexport const rightArrow = (\n\t<SVG\n\t\twidth=\"18\"\n\t\theight=\"18\"\n\t\tviewBox=\"0 0 18 18\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<Path d=\"M13.5 9L7.9 3.3 6.5 4.8 10.7 9l-4.2 4.2 1.4 1.5L13.5 9z\" />\n\t</SVG>\n);\n\nexport const dragHandle = (\n\t<SVG\n\t\twidth=\"18\"\n\t\theight=\"18\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 18 18\"\n\t>\n\t\t<Path\n\t\t\td=\"M13,8c0.6,0,1-0.4,1-1s-0.4-1-1-1s-1,0.4-1,1S12.4,8,13,8z M5,6C4.4,6,4,6.4,4,7s0.4,1,1,1s1-0.4,1-1S5.6,6,5,6z M5,10\n\t\t\tc-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S5.6,10,5,10z M13,10c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S13.6,10,13,10z M9,6\n\t\t\tC8.4,6,8,6.4,8,7s0.4,1,1,1s1-0.4,1-1S9.6,6,9,6z M9,10c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S9.6,10,9,10z\"\n\t\t/>\n\t</SVG>\n);\n","/**\n * External dependencies\n */\nimport { first, last, partial, castArray } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button, ToolbarGroup } from '@wordpress/components';\nimport { getBlockType } from '@wordpress/blocks';\nimport { Component } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { withInstanceId, compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { getBlockMoverDescription } from './mover-description';\nimport { leftArrow, rightArrow, dragHandle } from './icons';\nimport { chevronUp, chevronDown } from '@wordpress/icons';\nimport BlockDraggable from '../block-draggable';\n\nexport class BlockMover extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\tisFocused: false,\n\t\t};\n\t\tthis.onFocus = this.onFocus.bind( this );\n\t\tthis.onBlur = this.onBlur.bind( this );\n\t}\n\n\tonFocus() {\n\t\tthis.setState( {\n\t\t\tisFocused: true,\n\t\t} );\n\t}\n\n\tonBlur() {\n\t\tthis.setState( {\n\t\t\tisFocused: false,\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tonMoveUp,\n\t\t\tonMoveDown,\n\t\t\t__experimentalOrientation: orientation,\n\t\t\tisRTL,\n\t\t\tisFirst,\n\t\t\tisLast,\n\t\t\tclientIds,\n\t\t\tblockType,\n\t\t\tfirstIndex,\n\t\t\tisLocked,\n\t\t\tinstanceId,\n\t\t\tisHidden,\n\t\t\trootClientId,\n\t\t\thideDragHandle,\n\t\t} = this.props;\n\t\tconst { isFocused } = this.state;\n\t\tconst blocksCount = castArray( clientIds ).length;\n\t\tif ( isLocked || ( isFirst && isLast && ! rootClientId ) ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst getArrowIcon = ( moveDirection ) => {\n\t\t\tif ( moveDirection === 'up' ) {\n\t\t\t\tif ( orientation === 'horizontal' ) {\n\t\t\t\t\treturn isRTL ? rightArrow : leftArrow;\n\t\t\t\t}\n\t\t\t\treturn chevronUp;\n\t\t\t} else if ( moveDirection === 'down' ) {\n\t\t\t\tif ( orientation === 'horizontal' ) {\n\t\t\t\t\treturn isRTL ? leftArrow : rightArrow;\n\t\t\t\t}\n\t\t\t\treturn chevronDown;\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t\tconst getMovementDirectionLabel = ( moveDirection ) => {\n\t\t\tif ( moveDirection === 'up' ) {\n\t\t\t\tif ( orientation === 'horizontal' ) {\n\t\t\t\t\treturn isRTL ? __( 'Move right' ) : __( 'Move left' );\n\t\t\t\t}\n\t\t\t\treturn __( 'Move up' );\n\t\t\t} else if ( moveDirection === 'down' ) {\n\t\t\t\tif ( orientation === 'horizontal' ) {\n\t\t\t\t\treturn isRTL ? __( 'Move left' ) : __( 'Move right' );\n\t\t\t\t}\n\t\t\t\treturn __( 'Move down' );\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t\t// We emulate a disabled state because forcefully applying the `disabled`\n\t\t// attribute on the button while it has focus causes the screen to change\n\t\t// to an unfocused state (body as active element) without firing blur on,\n\t\t// the rendering parent, leaving it unable to react to focus out.\n\t\treturn (\n\t\t\t<ToolbarGroup\n\t\t\t\tclassName={ classnames( 'block-editor-block-mover', {\n\t\t\t\t\t'is-visible': isFocused || ! isHidden,\n\t\t\t\t\t'is-horizontal': orientation === 'horizontal',\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"block-editor-block-mover__control\"\n\t\t\t\t\tonClick={ isFirst ? null : onMoveUp }\n\t\t\t\t\ticon={ getArrowIcon( 'up' ) }\n\t\t\t\t\tlabel={ getMovementDirectionLabel( 'up' ) }\n\t\t\t\t\taria-describedby={ `block-editor-block-mover__up-description-${ instanceId }` }\n\t\t\t\t\taria-disabled={ isFirst }\n\t\t\t\t\tonFocus={ this.onFocus }\n\t\t\t\t\tonBlur={ this.onBlur }\n\t\t\t\t/>\n\n\t\t\t\t{ ! hideDragHandle && (\n\t\t\t\t\t<BlockDraggable clientIds={ clientIds }>\n\t\t\t\t\t\t{ ( { onDraggableStart, onDraggableEnd } ) => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ticon={ dragHandle }\n\t\t\t\t\t\t\t\tclassName=\"block-editor-block-mover__control-drag-handle block-editor-block-mover__control\"\n\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t// Should not be able to tab to drag handle as this\n\t\t\t\t\t\t\t\t// button can only be used with a pointer device.\n\t\t\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\t\t\tonDragStart={ onDraggableStart }\n\t\t\t\t\t\t\t\tonDragEnd={ onDraggableEnd }\n\t\t\t\t\t\t\t\tdraggable\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</BlockDraggable>\n\t\t\t\t) }\n\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"block-editor-block-mover__control\"\n\t\t\t\t\tonClick={ isLast ? null : onMoveDown }\n\t\t\t\t\ticon={ getArrowIcon( 'down' ) }\n\t\t\t\t\tlabel={ getMovementDirectionLabel( 'down' ) }\n\t\t\t\t\taria-describedby={ `block-editor-block-mover__down-description-${ instanceId }` }\n\t\t\t\t\taria-disabled={ isLast }\n\t\t\t\t\tonFocus={ this.onFocus }\n\t\t\t\t\tonBlur={ this.onBlur }\n\t\t\t\t/>\n\t\t\t\t<span\n\t\t\t\t\tid={ `block-editor-block-mover__up-description-${ instanceId }` }\n\t\t\t\t\tclassName=\"block-editor-block-mover__description\"\n\t\t\t\t>\n\t\t\t\t\t{ getBlockMoverDescription(\n\t\t\t\t\t\tblocksCount,\n\t\t\t\t\t\tblockType && blockType.title,\n\t\t\t\t\t\tfirstIndex,\n\t\t\t\t\t\tisFirst,\n\t\t\t\t\t\tisLast,\n\t\t\t\t\t\t-1,\n\t\t\t\t\t\torientation,\n\t\t\t\t\t\tisRTL\n\t\t\t\t\t) }\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\tid={ `block-editor-block-mover__down-description-${ instanceId }` }\n\t\t\t\t\tclassName=\"block-editor-block-mover__description\"\n\t\t\t\t>\n\t\t\t\t\t{ getBlockMoverDescription(\n\t\t\t\t\t\tblocksCount,\n\t\t\t\t\t\tblockType && blockType.title,\n\t\t\t\t\t\tfirstIndex,\n\t\t\t\t\t\tisFirst,\n\t\t\t\t\t\tisLast,\n\t\t\t\t\t\t1,\n\t\t\t\t\t\torientation,\n\t\t\t\t\t\tisRTL\n\t\t\t\t\t) }\n\t\t\t\t</span>\n\t\t\t</ToolbarGroup>\n\t\t);\n\t}\n}\n\nexport default compose(\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst {\n\t\t\tgetBlock,\n\t\t\tgetBlockIndex,\n\t\t\tgetTemplateLock,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlockOrder,\n\t\t} = select( 'core/block-editor' );\n\t\tconst normalizedClientIds = castArray( clientIds );\n\t\tconst firstClientId = first( normalizedClientIds );\n\t\tconst block = getBlock( firstClientId );\n\t\tconst rootClientId = getBlockRootClientId(\n\t\t\tfirst( normalizedClientIds )\n\t\t);\n\t\tconst blockOrder = getBlockOrder( rootClientId );\n\t\tconst firstIndex = getBlockIndex( firstClientId, rootClientId );\n\t\tconst lastIndex = getBlockIndex(\n\t\t\tlast( normalizedClientIds ),\n\t\t\trootClientId\n\t\t);\n\t\tconst { getSettings } = select( 'core/block-editor' );\n\t\tconst { isRTL } = getSettings();\n\n\t\treturn {\n\t\t\tblockType: block ? getBlockType( block.name ) : null,\n\t\t\tisLocked: getTemplateLock( rootClientId ) === 'all',\n\t\t\trootClientId,\n\t\t\tfirstIndex,\n\t\t\tisRTL,\n\t\t\tisFirst: firstIndex === 0,\n\t\t\tisLast: lastIndex === blockOrder.length - 1,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientIds, rootClientId } ) => {\n\t\tconst { moveBlocksDown, moveBlocksUp } = dispatch(\n\t\t\t'core/block-editor'\n\t\t);\n\t\treturn {\n\t\t\tonMoveDown: partial( moveBlocksDown, clientIds, rootClientId ),\n\t\t\tonMoveUp: partial( moveBlocksUp, clientIds, rootClientId ),\n\t\t};\n\t} ),\n\twithInstanceId\n)( BlockMover );\n","/**\n * WordPress dependencies\n */\nimport { __, _n, sprintf } from '@wordpress/i18n';\n\n/**\n * Return a label for the block movement controls depending on block position.\n *\n * @param {number}  selectedCount Number of blocks selected.\n * @param {string}  type          Block type - in the case of a single block, should\n *                                 define its 'type'. I.e. 'Text', 'Heading', 'Image' etc.\n * @param {number}  firstIndex    The index (position - 1) of the first block selected.\n * @param {boolean} isFirst       This is the first block.\n * @param {boolean} isLast        This is the last block.\n * @param {number}  dir           Direction of movement (> 0 is considered to be going\n *                                 down, < 0 is up).\n * @param {string}  orientation   The orientation of the block movers, vertical or\n * \t\t\t\t\t\t\t\t   horizontal.\n * @param {boolean} isRTL   \t  True if current writing system is right to left.\n *\n * @return {string} Label for the block movement controls.\n */\nexport function getBlockMoverDescription(\n\tselectedCount,\n\ttype,\n\tfirstIndex,\n\tisFirst,\n\tisLast,\n\tdir,\n\torientation,\n\tisRTL\n) {\n\tconst position = firstIndex + 1;\n\n\tconst getMovementDirection = ( moveDirection ) => {\n\t\tif ( moveDirection === 'up' ) {\n\t\t\tif ( orientation === 'horizontal' ) {\n\t\t\t\treturn isRTL ? 'right' : 'left';\n\t\t\t}\n\t\t\treturn 'up';\n\t\t} else if ( moveDirection === 'down' ) {\n\t\t\tif ( orientation === 'horizontal' ) {\n\t\t\t\treturn isRTL ? 'left' : 'right';\n\t\t\t}\n\t\t\treturn 'down';\n\t\t}\n\t\treturn null;\n\t};\n\n\tif ( selectedCount > 1 ) {\n\t\treturn getMultiBlockMoverDescription(\n\t\t\tselectedCount,\n\t\t\tfirstIndex,\n\t\t\tisFirst,\n\t\t\tisLast,\n\t\t\tdir\n\t\t);\n\t}\n\n\tif ( isFirst && isLast ) {\n\t\t// translators: %s: Type of block (i.e. Text, Image etc)\n\t\treturn sprintf(\n\t\t\t__( 'Block %s is the only block, and cannot be moved' ),\n\t\t\ttype\n\t\t);\n\t}\n\n\tif ( dir > 0 && ! isLast ) {\n\t\t// moving down\n\t\tconst movementDirection = getMovementDirection( 'down' );\n\n\t\tif ( movementDirection === 'down' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc), 2: Position of selected block, 3: New position\n\t\t\t\t__(\n\t\t\t\t\t'Move %1$s block from position %2$d down to position %3$d'\n\t\t\t\t),\n\t\t\t\ttype,\n\t\t\t\tposition,\n\t\t\t\tposition + 1\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'left' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc), 2: Position of selected block, 3: New position\n\t\t\t\t__(\n\t\t\t\t\t'Move %1$s block from position %2$d left to position %3$d'\n\t\t\t\t),\n\t\t\t\ttype,\n\t\t\t\tposition,\n\t\t\t\tposition + 1\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'right' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc), 2: Position of selected block, 3: New position\n\t\t\t\t__(\n\t\t\t\t\t'Move %1$s block from position %2$d right to position %3$d'\n\t\t\t\t),\n\t\t\t\ttype,\n\t\t\t\tposition,\n\t\t\t\tposition + 1\n\t\t\t);\n\t\t}\n\t}\n\n\tif ( dir > 0 && isLast ) {\n\t\t// moving down, and is the last item\n\t\tconst movementDirection = getMovementDirection( 'down' );\n\n\t\tif ( movementDirection === 'down' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc)\n\t\t\t\t__(\n\t\t\t\t\t'Block %1$s is at the end of the content and can’t be moved down'\n\t\t\t\t),\n\t\t\t\ttype\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'left' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc)\n\t\t\t\t__(\n\t\t\t\t\t'Block %1$s is at the end of the content and can’t be moved left'\n\t\t\t\t),\n\t\t\t\ttype\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'right' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc)\n\t\t\t\t__(\n\t\t\t\t\t'Block %1$s is at the end of the content and can’t be moved right'\n\t\t\t\t),\n\t\t\t\ttype\n\t\t\t);\n\t\t}\n\t}\n\n\tif ( dir < 0 && ! isFirst ) {\n\t\t// moving up\n\t\tconst movementDirection = getMovementDirection( 'up' );\n\n\t\tif ( movementDirection === 'up' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc), 2: Position of selected block, 3: New position\n\t\t\t\t__( 'Move %1$s block from position %2$d up to position %3$d' ),\n\t\t\t\ttype,\n\t\t\t\tposition,\n\t\t\t\tposition - 1\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'left' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc), 2: Position of selected block, 3: New position\n\t\t\t\t__(\n\t\t\t\t\t'Move %1$s block from position %2$d left to position %3$d'\n\t\t\t\t),\n\t\t\t\ttype,\n\t\t\t\tposition,\n\t\t\t\tposition - 1\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'right' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc), 2: Position of selected block, 3: New position\n\t\t\t\t__(\n\t\t\t\t\t'Move %1$s block from position %2$d right to position %3$d'\n\t\t\t\t),\n\t\t\t\ttype,\n\t\t\t\tposition,\n\t\t\t\tposition - 1\n\t\t\t);\n\t\t}\n\t}\n\n\tif ( dir < 0 && isFirst ) {\n\t\t// moving up, and is the first item\n\t\tconst movementDirection = getMovementDirection( 'up' );\n\n\t\tif ( movementDirection === 'up' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc)\n\t\t\t\t__(\n\t\t\t\t\t'Block %1$s is at the beginning of the content and can’t be moved up'\n\t\t\t\t),\n\t\t\t\ttype\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'left' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc)\n\t\t\t\t__(\n\t\t\t\t\t'Block %1$s is at the beginning of the content and can’t be moved left'\n\t\t\t\t),\n\t\t\t\ttype\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'right' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc)\n\t\t\t\t__(\n\t\t\t\t\t'Block %1$s is at the beginning of the content and can’t be moved right'\n\t\t\t\t),\n\t\t\t\ttype\n\t\t\t);\n\t\t}\n\t}\n}\n\n/**\n * Return a label for the block movement controls depending on block position.\n *\n * @param {number}  selectedCount Number of blocks selected.\n * @param {number}  firstIndex    The index (position - 1) of the first block selected.\n * @param {boolean} isFirst       This is the first block.\n * @param {boolean} isLast        This is the last block.\n * @param {number}  dir           Direction of movement (> 0 is considered to be going\n *                                 down, < 0 is up).\n *\n * @return {string} Label for the block movement controls.\n */\nexport function getMultiBlockMoverDescription(\n\tselectedCount,\n\tfirstIndex,\n\tisFirst,\n\tisLast,\n\tdir\n) {\n\tconst position = firstIndex + 1;\n\n\tif ( dir < 0 && isFirst ) {\n\t\treturn __( 'Blocks cannot be moved up as they are already at the top' );\n\t}\n\n\tif ( dir > 0 && isLast ) {\n\t\treturn __(\n\t\t\t'Blocks cannot be moved down as they are already at the bottom'\n\t\t);\n\t}\n\n\tif ( dir < 0 && ! isFirst ) {\n\t\treturn sprintf(\n\t\t\t// translators: 1: Number of selected blocks, 2: Position of selected blocks\n\t\t\t_n(\n\t\t\t\t'Move %1$d block from position %2$d up by one place',\n\t\t\t\t'Move %1$d blocks from position %2$d up by one place',\n\t\t\t\tselectedCount\n\t\t\t),\n\t\t\tselectedCount,\n\t\t\tposition\n\t\t);\n\t}\n\n\tif ( dir > 0 && ! isLast ) {\n\t\treturn sprintf(\n\t\t\t// translators: 1: Number of selected blocks, 2: Position of selected blocks\n\t\t\t_n(\n\t\t\t\t'Move %1$d block from position %2$d down by one place',\n\t\t\t\t'Move %1$d blocks from position %2$d down by one place',\n\t\t\t\tselectedCount\n\t\t\t),\n\t\t\tselectedCount,\n\t\t\tposition\n\t\t);\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { Button, Dropdown, SVG, Path } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport BlockNavigation from './';\n\nconst MenuIcon = (\n\t<SVG\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"20\"\n\t\theight=\"20\"\n\t>\n\t\t<Path d=\"M5 5H3v2h2V5zm3 8h11v-2H8v2zm9-8H6v2h11V5zM7 11H5v2h2v-2zm0 8h2v-2H7v2zm3-2v2h11v-2H10z\" />\n\t</SVG>\n);\n\nfunction BlockNavigationDropdownToggle( { isEnabled, onToggle, isOpen } ) {\n\tuseShortcut(\n\t\t'core/edit-post/toggle-block-navigation',\n\t\tuseCallback( onToggle, [ onToggle ] ),\n\t\t{\n\t\t\tbindGlobal: true,\n\t\t\tisDisabled: ! isEnabled,\n\t\t}\n\t);\n\tconst shortcut = useSelect(\n\t\t( select ) =>\n\t\t\tselect( 'core/keyboard-shortcuts' ).getShortcutRepresentation(\n\t\t\t\t'core/edit-post/toggle-block-navigation'\n\t\t\t),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<Button\n\t\t\ticon={ MenuIcon }\n\t\t\taria-expanded={ isOpen }\n\t\t\tonClick={ isEnabled ? onToggle : undefined }\n\t\t\tlabel={ __( 'Block navigation' ) }\n\t\t\tclassName=\"block-editor-block-navigation\"\n\t\t\tshortcut={ shortcut }\n\t\t\taria-disabled={ ! isEnabled }\n\t\t/>\n\t);\n}\n\nfunction BlockNavigationDropdown( { isDisabled } ) {\n\tconst hasBlocks = useSelect(\n\t\t( select ) => !! select( 'core/block-editor' ).getBlockCount(),\n\t\t[]\n\t);\n\tconst isEnabled = hasBlocks && ! isDisabled;\n\n\treturn (\n\t\t<Dropdown\n\t\t\tcontentClassName=\"block-editor-block-navigation__popover\"\n\t\t\trenderToggle={ ( toggleProps ) => (\n\t\t\t\t<BlockNavigationDropdownToggle\n\t\t\t\t\t{ ...toggleProps }\n\t\t\t\t\tisEnabled={ isEnabled }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t<BlockNavigation onSelect={ onClose } />\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nexport default BlockNavigationDropdown;\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { NavigableMenu } from '@wordpress/components';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockNavigationList from './list';\n\nfunction BlockNavigation( {\n\trootBlock,\n\trootBlocks,\n\tselectedBlockClientId,\n\tselectBlock,\n} ) {\n\tif ( ! rootBlocks || rootBlocks.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst hasHierarchy =\n\t\trootBlock &&\n\t\t( rootBlock.clientId !== selectedBlockClientId ||\n\t\t\t( rootBlock.innerBlocks && rootBlock.innerBlocks.length !== 0 ) );\n\n\treturn (\n\t\t<NavigableMenu\n\t\t\trole=\"presentation\"\n\t\t\tclassName=\"block-editor-block-navigation__container\"\n\t\t>\n\t\t\t<p className=\"block-editor-block-navigation__label\">\n\t\t\t\t{ __( 'Block navigation' ) }\n\t\t\t</p>\n\t\t\t{ hasHierarchy && (\n\t\t\t\t<BlockNavigationList\n\t\t\t\t\tblocks={ [ rootBlock ] }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\tshowNestedBlocks\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! hasHierarchy && (\n\t\t\t\t<BlockNavigationList\n\t\t\t\t\tblocks={ rootBlocks }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</NavigableMenu>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetBlockHierarchyRootClientId,\n\t\t\tgetBlock,\n\t\t\tgetBlocks,\n\t\t} = select( 'core/block-editor' );\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\treturn {\n\t\t\trootBlocks: getBlocks(),\n\t\t\trootBlock: selectedBlockClientId\n\t\t\t\t? getBlock(\n\t\t\t\t\t\tgetBlockHierarchyRootClientId( selectedBlockClientId )\n\t\t\t\t  )\n\t\t\t\t: null,\n\t\t\tselectedBlockClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onSelect = noop } ) => {\n\t\treturn {\n\t\t\tselectBlock( clientId ) {\n\t\t\t\tdispatch( 'core/block-editor' ).selectBlock( clientId );\n\t\t\t\tonSelect( clientId );\n\t\t\t},\n\t\t};\n\t} )\n)( BlockNavigation );\n","/**\n * External dependencies\n */\nimport { isNil, map, omitBy } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport {\n\t__experimentalGetBlockLabel as getBlockLabel,\n\tgetBlockType,\n} from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\nimport ButtonBlockAppender from '../button-block-appender';\n\nexport default function BlockNavigationList( {\n\tblocks,\n\tselectedBlockClientId,\n\tselectBlock,\n\tshowAppender,\n\n\t// Internal use only.\n\tshowNestedBlocks,\n\tparentBlockClientId,\n} ) {\n\tconst shouldShowAppender = showAppender && !! parentBlockClientId;\n\n\treturn (\n\t\t/*\n\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t */\n\t\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t\t<ul className=\"block-editor-block-navigation__list\" role=\"list\">\n\t\t\t{ map( omitBy( blocks, isNil ), ( block ) => {\n\t\t\t\tconst blockType = getBlockType( block.name );\n\t\t\t\tconst isSelected = block.clientId === selectedBlockClientId;\n\n\t\t\t\treturn (\n\t\t\t\t\t<li key={ block.clientId }>\n\t\t\t\t\t\t<div className=\"block-editor-block-navigation__item\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t'block-editor-block-navigation__item-button',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'is-selected': isSelected,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tonClick={ () => selectBlock( block.clientId ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BlockIcon icon={ blockType.icon } showColors />\n\t\t\t\t\t\t\t\t{ getBlockLabel( blockType, block.attributes ) }\n\t\t\t\t\t\t\t\t{ isSelected && (\n\t\t\t\t\t\t\t\t\t<span className=\"screen-reader-text\">\n\t\t\t\t\t\t\t\t\t\t{ __( '(selected block)' ) }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{ showNestedBlocks &&\n\t\t\t\t\t\t\t!! block.innerBlocks &&\n\t\t\t\t\t\t\t!! block.innerBlocks.length && (\n\t\t\t\t\t\t\t\t<BlockNavigationList\n\t\t\t\t\t\t\t\t\tblocks={ block.innerBlocks }\n\t\t\t\t\t\t\t\t\tselectedBlockClientId={\n\t\t\t\t\t\t\t\t\t\tselectedBlockClientId\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\t\t\t\t\tparentBlockClientId={ block.clientId }\n\t\t\t\t\t\t\t\t\tshowAppender={ showAppender }\n\t\t\t\t\t\t\t\t\tshowNestedBlocks\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ shouldShowAppender && (\n\t\t\t\t<li>\n\t\t\t\t\t<div className=\"block-editor-block-navigation__item\">\n\t\t\t\t\t\t<ButtonBlockAppender\n\t\t\t\t\t\t\trootClientId={ parentBlockClientId }\n\t\t\t\t\t\t\t__experimentalSelectBlockOnInsert={ false }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t) }\n\t\t</ul>\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\n\t);\n}\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Disabled } from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\nimport {\n\tuseLayoutEffect,\n\tuseState,\n\tuseRef,\n\tuseReducer,\n\tuseMemo,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport BlockEditorProvider from '../provider';\nimport BlockList from '../block-list';\nimport { getBlockPreviewContainerDOMNode } from '../../utils/dom';\n\nfunction ScaledBlockPreview( { blocks, viewportWidth, padding = 0 } ) {\n\tconst previewRef = useRef( null );\n\n\tconst [ isReady, setIsReady ] = useState( false );\n\tconst [ previewScale, setPreviewScale ] = useState( 1 );\n\tconst [ { x, y }, setPosition ] = useState( { x: 0, y: 0 } );\n\n\t// Dynamically calculate the scale factor\n\tuseLayoutEffect( () => {\n\t\t// Timer - required to account for async render of `BlockEditorProvider`\n\t\tconst timerId = setTimeout( () => {\n\t\t\tconst containerElement = previewRef.current;\n\t\t\tif ( ! containerElement ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If we're previewing a single block, scale the preview to fit it.\n\t\t\tif ( blocks.length === 1 ) {\n\t\t\t\tconst block = blocks[ 0 ];\n\t\t\t\tconst previewElement = getBlockPreviewContainerDOMNode(\n\t\t\t\t\tblock.clientId\n\t\t\t\t);\n\t\t\t\tif ( ! previewElement ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet containerElementRect = containerElement.getBoundingClientRect();\n\t\t\t\tcontainerElementRect = {\n\t\t\t\t\twidth: containerElementRect.width - padding * 2,\n\t\t\t\t\theight: containerElementRect.height - padding * 2,\n\t\t\t\t\tleft: containerElementRect.left,\n\t\t\t\t\ttop: containerElementRect.top,\n\t\t\t\t};\n\t\t\t\tconst scaledElementRect = previewElement.getBoundingClientRect();\n\n\t\t\t\tconst scale =\n\t\t\t\t\tcontainerElementRect.width / scaledElementRect.width || 1;\n\t\t\t\tconst offsetX =\n\t\t\t\t\t-( scaledElementRect.left - containerElementRect.left ) *\n\t\t\t\t\t\tscale +\n\t\t\t\t\tpadding;\n\t\t\t\tconst offsetY =\n\t\t\t\t\tcontainerElementRect.height >\n\t\t\t\t\tscaledElementRect.height * scale\n\t\t\t\t\t\t? ( containerElementRect.height -\n\t\t\t\t\t\t\t\tscaledElementRect.height * scale ) /\n\t\t\t\t\t\t\t\t2 +\n\t\t\t\t\t\t  padding\n\t\t\t\t\t\t: 0;\n\n\t\t\t\tsetPreviewScale( scale );\n\t\t\t\tsetPosition( { x: offsetX, y: offsetY } );\n\n\t\t\t\t// Hack: we need  to reset the scaled elements margins\n\t\t\t\tpreviewElement.style.marginTop = '0';\n\t\t\t} else {\n\t\t\t\tconst containerElementRect = containerElement.getBoundingClientRect();\n\t\t\t\tsetPreviewScale( containerElementRect.width / viewportWidth );\n\t\t\t}\n\n\t\t\tsetIsReady( true );\n\t\t}, 100 );\n\n\t\t// Cleanup\n\t\treturn () => {\n\t\t\tif ( timerId ) {\n\t\t\t\twindow.clearTimeout( timerId );\n\t\t\t}\n\t\t};\n\t}, [] );\n\n\tif ( ! blocks || blocks.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst previewStyles = {\n\t\ttransform: `scale(${ previewScale })`,\n\t\tvisibility: isReady ? 'visible' : 'hidden',\n\t\tleft: x,\n\t\ttop: y,\n\t\twidth: viewportWidth,\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tref={ previewRef }\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-block-preview__container editor-styles-wrapper',\n\t\t\t\t{\n\t\t\t\t\t'is-ready': isReady,\n\t\t\t\t}\n\t\t\t) }\n\t\t\taria-hidden\n\t\t>\n\t\t\t<Disabled\n\t\t\t\tstyle={ previewStyles }\n\t\t\t\tclassName=\"block-editor-block-preview__content\"\n\t\t\t>\n\t\t\t\t<BlockList />\n\t\t\t</Disabled>\n\t\t</div>\n\t);\n}\n\nexport function BlockPreview( {\n\tblocks,\n\tviewportWidth = 700,\n\tpadding,\n\tsettings,\n} ) {\n\tconst renderedBlocks = useMemo( () => castArray( blocks ), [ blocks ] );\n\tconst [ recompute, triggerRecompute ] = useReducer(\n\t\t( state ) => state + 1,\n\t\t0\n\t);\n\tuseLayoutEffect( triggerRecompute, [ blocks ] );\n\treturn (\n\t\t<BlockEditorProvider value={ renderedBlocks } settings={ settings }>\n\t\t\t{ /*\n\t\t\t * The key prop is used to force recomputing the preview\n\t\t\t * by remounting the component, ScaledBlockPreview is not meant to\n\t\t\t * be rerendered.\n\t\t\t */ }\n\t\t\t<ScaledBlockPreview\n\t\t\t\tkey={ recompute }\n\t\t\t\tblocks={ renderedBlocks }\n\t\t\t\tviewportWidth={ viewportWidth }\n\t\t\t\tpadding={ padding }\n\t\t\t/>\n\t\t</BlockEditorProvider>\n\t);\n}\n\n/**\n * BlockPreview renders a preview of a block or array of blocks.\n *\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/block-preview/README.md\n *\n * @param {Array|Object} blocks A block instance (object) or an array of blocks to be previewed.\n * @param {number} viewportWidth Width of the preview container in pixels. Controls at what size the blocks will be rendered inside the preview. Default: 700.\n * @return {WPComponent} The component to be rendered.\n */\nexport default withSelect( ( select ) => {\n\treturn {\n\t\tsettings: select( 'core/block-editor' ).getSettings(),\n\t};\n} )( BlockPreview );\n","/**\n * External dependencies\n */\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\nclass BlockSelectionClearer extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.bindContainer = this.bindContainer.bind( this );\n\t\tthis.clearSelectionIfFocusTarget = this.clearSelectionIfFocusTarget.bind(\n\t\t\tthis\n\t\t);\n\t}\n\n\tbindContainer( ref ) {\n\t\tthis.container = ref;\n\t}\n\n\t/**\n\t * Clears the selected block on focus if the container is the target of the\n\t * focus. This assumes no other descendents have received focus until event\n\t * has bubbled to the container.\n\t *\n\t * @param {FocusEvent} event Focus event.\n\t */\n\tclearSelectionIfFocusTarget( event ) {\n\t\tconst {\n\t\t\thasSelectedBlock,\n\t\t\thasMultiSelection,\n\t\t\tclearSelectedBlock,\n\t\t} = this.props;\n\n\t\tconst hasSelection = hasSelectedBlock || hasMultiSelection;\n\t\tif ( event.target === this.container && hasSelection ) {\n\t\t\tclearSelectedBlock();\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\ttabIndex={ -1 }\n\t\t\t\tonFocus={ this.clearSelectionIfFocusTarget }\n\t\t\t\tref={ this.bindContainer }\n\t\t\t\t{ ...omit( this.props, [\n\t\t\t\t\t'clearSelectedBlock',\n\t\t\t\t\t'hasSelectedBlock',\n\t\t\t\t\t'hasMultiSelection',\n\t\t\t\t] ) }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { hasSelectedBlock, hasMultiSelection } = select(\n\t\t\t'core/block-editor'\n\t\t);\n\n\t\treturn {\n\t\t\thasSelectedBlock: hasSelectedBlock(),\n\t\t\thasMultiSelection: hasMultiSelection(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { clearSelectedBlock } = dispatch( 'core/block-editor' );\n\t\treturn { clearSelectedBlock };\n\t} ),\n] )( BlockSelectionClearer );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\n\nexport default function BlockConvertButton( { shouldRender, onClick, small } ) {\n\tif ( ! shouldRender ) {\n\t\treturn null;\n\t}\n\n\tconst label = __( 'Convert to Blocks' );\n\treturn (\n\t\t<MenuItem onClick={ onClick } icon=\"screenoptions\">\n\t\t\t{ ! small && label }\n\t\t</MenuItem>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { rawHandler, getBlockContent } from '@wordpress/blocks';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BlockConvertButton from './block-convert-button';\n\nexport default compose(\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst block = select( 'core/block-editor' ).getBlock( clientId );\n\n\t\treturn {\n\t\t\tblock,\n\t\t\tshouldRender: block && block.name === 'core/html',\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { block } ) => ( {\n\t\tonClick: () =>\n\t\t\tdispatch( 'core/block-editor' ).replaceBlocks(\n\t\t\t\tblock.clientId,\n\t\t\t\trawHandler( { HTML: getBlockContent( block ) } )\n\t\t\t),\n\t} ) )\n)( BlockConvertButton );\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\nimport { getBlockType, hasBlockSupport } from '@wordpress/blocks';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\nexport function BlockModeToggle( {\n\tblockType,\n\tmode,\n\tonToggleMode,\n\tsmall = false,\n\tisCodeEditingEnabled = true,\n} ) {\n\tif (\n\t\t! hasBlockSupport( blockType, 'html', true ) ||\n\t\t! isCodeEditingEnabled\n\t) {\n\t\treturn null;\n\t}\n\n\tconst label =\n\t\tmode === 'visual' ? __( 'Edit as HTML' ) : __( 'Edit visually' );\n\n\treturn (\n\t\t<MenuItem onClick={ onToggleMode } icon=\"html\">\n\t\t\t{ ! small && label }\n\t\t</MenuItem>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst { getBlock, getBlockMode, getSettings } = select(\n\t\t\t'core/block-editor'\n\t\t);\n\t\tconst block = getBlock( clientId );\n\t\tconst isCodeEditingEnabled = getSettings().codeEditingEnabled;\n\n\t\treturn {\n\t\t\tmode: getBlockMode( clientId ),\n\t\t\tblockType: block ? getBlockType( block.name ) : null,\n\t\t\tisCodeEditingEnabled,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onToggle = noop, clientId } ) => ( {\n\t\tonToggleMode() {\n\t\t\tdispatch( 'core/block-editor' ).toggleBlockMode( clientId );\n\t\t\tonToggle();\n\t\t},\n\t} ) ),\n] )( BlockModeToggle );\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\nconst { Fill: __experimentalBlockSettingsMenuFirstItem, Slot } = createSlotFill(\n\t'__experimentalBlockSettingsMenuFirstItem'\n);\n\n__experimentalBlockSettingsMenuFirstItem.Slot = Slot;\n\nexport default __experimentalBlockSettingsMenuFirstItem;\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\nconst {\n\tFill: __experimentalBlockSettingsMenuPluginsExtension,\n\tSlot,\n} = createSlotFill( '__experimentalBlockSettingsMenuPluginsExtension' );\n\n__experimentalBlockSettingsMenuPluginsExtension.Slot = Slot;\n\nexport default __experimentalBlockSettingsMenuPluginsExtension;\n","/**\n * WordPress dependencies\n */\nimport {\n\tgetFreeformContentHandlerName,\n\trawHandler,\n\tserialize,\n} from '@wordpress/blocks';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BlockConvertButton from './block-convert-button';\n\nexport default compose(\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst block = select( 'core/block-editor' ).getBlock( clientId );\n\n\t\treturn {\n\t\t\tblock,\n\t\t\tshouldRender:\n\t\t\t\tblock && block.name === getFreeformContentHandlerName(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { block } ) => ( {\n\t\tonClick: () =>\n\t\t\tdispatch( 'core/block-editor' ).replaceBlocks(\n\t\t\t\tblock.clientId,\n\t\t\t\trawHandler( { HTML: serialize( block ) } )\n\t\t\t),\n\t} ) )\n)( BlockConvertButton );\n","/**\n * External dependencies\n */\nimport { castArray, flow } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _n } from '@wordpress/i18n';\nimport {\n\tToolbar,\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItem,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { trash, moreHorizontal } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport BlockActions from '../block-actions';\nimport BlockModeToggle from './block-mode-toggle';\nimport BlockHTMLConvertButton from './block-html-convert-button';\nimport BlockUnknownConvertButton from './block-unknown-convert-button';\nimport __experimentalBlockSettingsMenuFirstItem from './block-settings-menu-first-item';\nimport __experimentalBlockSettingsMenuPluginsExtension from './block-settings-menu-plugins-extension';\n\nconst POPOVER_PROPS = {\n\tclassName: 'block-editor-block-settings-menu__popover',\n\tposition: 'bottom right',\n};\n\nexport function BlockSettingsMenu( { clientIds } ) {\n\tconst blockClientIds = castArray( clientIds );\n\tconst count = blockClientIds.length;\n\tconst firstBlockClientId = blockClientIds[ 0 ];\n\n\tconst shortcuts = useSelect( ( select ) => {\n\t\tconst { getShortcutRepresentation } = select(\n\t\t\t'core/keyboard-shortcuts'\n\t\t);\n\t\treturn {\n\t\t\tduplicate: getShortcutRepresentation(\n\t\t\t\t'core/block-editor/duplicate'\n\t\t\t),\n\t\t\tremove: getShortcutRepresentation( 'core/block-editor/remove' ),\n\t\t\tinsertAfter: getShortcutRepresentation(\n\t\t\t\t'core/block-editor/insert-after'\n\t\t\t),\n\t\t\tinsertBefore: getShortcutRepresentation(\n\t\t\t\t'core/block-editor/insert-before'\n\t\t\t),\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<BlockActions clientIds={ clientIds }>\n\t\t\t{ ( {\n\t\t\t\tcanDuplicate,\n\t\t\t\tcanInsertDefaultBlock,\n\t\t\t\tisLocked,\n\t\t\t\tonDuplicate,\n\t\t\t\tonInsertAfter,\n\t\t\t\tonInsertBefore,\n\t\t\t\tonRemove,\n\t\t\t} ) => (\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\ticon={ moreHorizontal }\n\t\t\t\t\t\tlabel={ __( 'More options' ) }\n\t\t\t\t\t\tclassName=\"block-editor-block-settings-menu\"\n\t\t\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t<__experimentalBlockSettingsMenuFirstItem.Slot\n\t\t\t\t\t\t\t\t\t\tfillProps={ { onClose } }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{ count === 1 && (\n\t\t\t\t\t\t\t\t\t\t<BlockUnknownConvertButton\n\t\t\t\t\t\t\t\t\t\t\tclientId={ firstBlockClientId }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ count === 1 && (\n\t\t\t\t\t\t\t\t\t\t<BlockHTMLConvertButton\n\t\t\t\t\t\t\t\t\t\t\tclientId={ firstBlockClientId }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ canDuplicate && (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tonClick={ flow(\n\t\t\t\t\t\t\t\t\t\t\t\tonClose,\n\t\t\t\t\t\t\t\t\t\t\t\tonDuplicate\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\ticon=\"admin-page\"\n\t\t\t\t\t\t\t\t\t\t\tshortcut={ shortcuts.duplicate }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Duplicate' ) }\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ canInsertDefaultBlock && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ flow(\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClose,\n\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertBefore\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"insert-before\"\n\t\t\t\t\t\t\t\t\t\t\t\tshortcut={\n\t\t\t\t\t\t\t\t\t\t\t\t\tshortcuts.insertBefore\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Insert Before' ) }\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ flow(\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClose,\n\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertAfter\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"insert-after\"\n\t\t\t\t\t\t\t\t\t\t\t\tshortcut={\n\t\t\t\t\t\t\t\t\t\t\t\t\tshortcuts.insertAfter\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Insert After' ) }\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ count === 1 && (\n\t\t\t\t\t\t\t\t\t\t<BlockModeToggle\n\t\t\t\t\t\t\t\t\t\t\tclientId={ firstBlockClientId }\n\t\t\t\t\t\t\t\t\t\t\tonToggle={ onClose }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t<__experimentalBlockSettingsMenuPluginsExtension.Slot\n\t\t\t\t\t\t\t\t\t\tfillProps={ { clientIds, onClose } }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t{ ! isLocked && (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tonClick={ flow(\n\t\t\t\t\t\t\t\t\t\t\t\tonClose,\n\t\t\t\t\t\t\t\t\t\t\t\tonRemove\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\ticon={ trash }\n\t\t\t\t\t\t\t\t\t\t\tshortcut={ shortcuts.remove }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ _n(\n\t\t\t\t\t\t\t\t\t\t\t\t'Remove Block',\n\t\t\t\t\t\t\t\t\t\t\t\t'Remove Blocks',\n\t\t\t\t\t\t\t\t\t\t\t\tcount\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</DropdownMenu>\n\t\t\t\t</Toolbar>\n\t\t\t) }\n\t\t</BlockActions>\n\t);\n}\n\nexport default BlockSettingsMenu;\n","/**\n * External dependencies\n */\nimport { find, noop } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport TokenList from '@wordpress/token-list';\nimport { ENTER, SPACE } from '@wordpress/keycodes';\nimport { _x } from '@wordpress/i18n';\nimport {\n\tgetBlockType,\n\tcloneBlock,\n\tgetBlockFromExample,\n} from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport BlockPreview from '../block-preview';\n\n/**\n * Returns the active style from the given className.\n *\n * @param {Array} styles Block style variations.\n * @param {string} className  Class name\n *\n * @return {Object?} The active style.\n */\nexport function getActiveStyle( styles, className ) {\n\tfor ( const style of new TokenList( className ).values() ) {\n\t\tif ( style.indexOf( 'is-style-' ) === -1 ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst potentialStyleName = style.substring( 9 );\n\t\tconst activeStyle = find( styles, { name: potentialStyleName } );\n\t\tif ( activeStyle ) {\n\t\t\treturn activeStyle;\n\t\t}\n\t}\n\n\treturn find( styles, 'isDefault' );\n}\n\n/**\n * Replaces the active style in the block's className.\n *\n * @param {string}  className   Class name.\n * @param {Object?} activeStyle The replaced style.\n * @param {Object}  newStyle    The replacing style.\n *\n * @return {string} The updated className.\n */\nexport function replaceActiveStyle( className, activeStyle, newStyle ) {\n\tconst list = new TokenList( className );\n\n\tif ( activeStyle ) {\n\t\tlist.remove( 'is-style-' + activeStyle.name );\n\t}\n\n\tlist.add( 'is-style-' + newStyle.name );\n\n\treturn list.value;\n}\n\nfunction BlockStyles( {\n\tstyles,\n\tclassName,\n\tonChangeClassName,\n\ttype,\n\tblock,\n\tonSwitch = noop,\n\tonHoverClassName = noop,\n} ) {\n\tif ( ! styles || styles.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tif ( ! type.styles && ! find( styles, 'isDefault' ) ) {\n\t\tstyles = [\n\t\t\t{\n\t\t\t\tname: 'default',\n\t\t\t\tlabel: _x( 'Default', 'block style' ),\n\t\t\t\tisDefault: true,\n\t\t\t},\n\t\t\t...styles,\n\t\t];\n\t}\n\n\tconst activeStyle = getActiveStyle( styles, className );\n\tfunction updateClassName( style ) {\n\t\tconst updatedClassName = replaceActiveStyle(\n\t\t\tclassName,\n\t\t\tactiveStyle,\n\t\t\tstyle\n\t\t);\n\t\tonChangeClassName( updatedClassName );\n\t\tonHoverClassName( null );\n\t\tonSwitch();\n\t}\n\n\treturn (\n\t\t<div className=\"block-editor-block-styles\">\n\t\t\t{ styles.map( ( style ) => {\n\t\t\t\tconst styleClassName = replaceActiveStyle(\n\t\t\t\t\tclassName,\n\t\t\t\t\tactiveStyle,\n\t\t\t\t\tstyle\n\t\t\t\t);\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={ style.name }\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'block-editor-block-styles__item',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'is-active': activeStyle === style,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ () => updateClassName( style ) }\n\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tENTER === event.keyCode ||\n\t\t\t\t\t\t\t\tSPACE === event.keyCode\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tupdateClassName( style );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonMouseEnter={ () =>\n\t\t\t\t\t\t\tonHoverClassName( styleClassName )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonMouseLeave={ () => onHoverClassName( null ) }\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\taria-label={ style.label || style.name }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"block-editor-block-styles__item-preview\">\n\t\t\t\t\t\t\t<BlockPreview\n\t\t\t\t\t\t\t\tviewportWidth={ 500 }\n\t\t\t\t\t\t\t\tblocks={\n\t\t\t\t\t\t\t\t\ttype.example\n\t\t\t\t\t\t\t\t\t\t? getBlockFromExample( block.name, {\n\t\t\t\t\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t...type.example.attributes,\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: styleClassName,\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tinnerBlocks:\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype.example.innerBlocks,\n\t\t\t\t\t\t\t\t\t\t  } )\n\t\t\t\t\t\t\t\t\t\t: cloneBlock( block, {\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: styleClassName,\n\t\t\t\t\t\t\t\t\t\t  } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"block-editor-block-styles__item-label\">\n\t\t\t\t\t\t\t{ style.label || style.name }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</div>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst { getBlock } = select( 'core/block-editor' );\n\t\tconst { getBlockStyles } = select( 'core/blocks' );\n\t\tconst block = getBlock( clientId );\n\t\tconst blockType = getBlockType( block.name );\n\n\t\treturn {\n\t\t\tblock,\n\t\t\tclassName: block.attributes.className || '',\n\t\t\tstyles: getBlockStyles( block.name ),\n\t\t\ttype: blockType,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientId } ) => {\n\t\treturn {\n\t\t\tonChangeClassName( newClassName ) {\n\t\t\t\tdispatch( 'core/block-editor' ).updateBlockAttributes(\n\t\t\t\t\tclientId,\n\t\t\t\t\t{\n\t\t\t\t\t\tclassName: newClassName,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t};\n\t} ),\n] )( BlockStyles );\n","/**\n * External dependencies\n */\nimport { castArray, filter, first, mapKeys, orderBy, uniq, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport {\n\tDropdown,\n\tButton,\n\tToolbar,\n\tPanelBody,\n\tPath,\n\tSVG,\n} from '@wordpress/components';\nimport {\n\tgetBlockType,\n\tgetPossibleBlockTransformations,\n\tswitchToBlockType,\n\tcloneBlock,\n\tgetBlockFromExample,\n} from '@wordpress/blocks';\nimport { Component } from '@wordpress/element';\nimport { DOWN } from '@wordpress/keycodes';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\nimport BlockStyles from '../block-styles';\nimport BlockPreview from '../block-preview';\nimport BlockTypesList from '../block-types-list';\n\nexport class BlockSwitcher extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\thoveredClassName: null,\n\t\t};\n\t\tthis.onHoverClassName = this.onHoverClassName.bind( this );\n\t}\n\n\tonHoverClassName( className ) {\n\t\tthis.setState( { hoveredClassName: className } );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tblocks,\n\t\t\tonTransform,\n\t\t\tinserterItems,\n\t\t\thasBlockStyles,\n\t\t} = this.props;\n\t\tconst { hoveredClassName } = this.state;\n\n\t\tif ( ! blocks || ! blocks.length ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst hoveredBlock = hoveredClassName ? blocks[ 0 ] : null;\n\t\tconst hoveredBlockType = hoveredClassName\n\t\t\t? getBlockType( hoveredBlock.name )\n\t\t\t: null;\n\n\t\tconst itemsByName = mapKeys( inserterItems, ( { name } ) => name );\n\t\tconst possibleBlockTransformations = orderBy(\n\t\t\tfilter(\n\t\t\t\tgetPossibleBlockTransformations( blocks ),\n\t\t\t\t( block ) => block && !! itemsByName[ block.name ]\n\t\t\t),\n\t\t\t( block ) => itemsByName[ block.name ].frecency,\n\t\t\t'desc'\n\t\t);\n\n\t\t// When selection consists of blocks of multiple types, display an\n\t\t// appropriate icon to communicate the non-uniformity.\n\t\tconst isSelectionOfSameType =\n\t\t\tuniq( map( blocks, 'name' ) ).length === 1;\n\n\t\tlet icon;\n\t\tif ( isSelectionOfSameType ) {\n\t\t\tconst sourceBlockName = blocks[ 0 ].name;\n\t\t\tconst blockType = getBlockType( sourceBlockName );\n\t\t\ticon = blockType.icon;\n\t\t} else {\n\t\t\ticon = 'layout';\n\t\t}\n\n\t\tif ( ! hasBlockStyles && ! possibleBlockTransformations.length ) {\n\t\t\treturn (\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t\tclassName=\"block-editor-block-switcher__no-switcher-icon\"\n\t\t\t\t\t\tlabel={ __( 'Block icon' ) }\n\t\t\t\t\t\ticon={ <BlockIcon icon={ icon } showColors /> }\n\t\t\t\t\t/>\n\t\t\t\t</Toolbar>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t\tposition=\"bottom right\"\n\t\t\t\tclassName=\"block-editor-block-switcher\"\n\t\t\t\tcontentClassName=\"block-editor-block-switcher__popover\"\n\t\t\t\trenderToggle={ ( { onToggle, isOpen } ) => {\n\t\t\t\t\tconst openOnArrowDown = ( event ) => {\n\t\t\t\t\t\tif ( ! isOpen && event.keyCode === DOWN ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tconst label =\n\t\t\t\t\t\t1 === blocks.length\n\t\t\t\t\t\t\t? __( 'Change block type or style' )\n\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t\t'Change type of %d block',\n\t\t\t\t\t\t\t\t\t\t'Change type of %d blocks',\n\t\t\t\t\t\t\t\t\t\tblocks.length\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tblocks.length\n\t\t\t\t\t\t\t  );\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"block-editor-block-switcher__toggle\"\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t\t\tonKeyDown={ openOnArrowDown }\n\t\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<BlockIcon icon={ icon } showColors />\n\t\t\t\t\t\t\t\t\t\t<SVG\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"block-editor-block-switcher__transform\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Path d=\"M6.5 8.9c.6-.6 1.4-.9 2.2-.9h6.9l-1.3 1.3 1.4 1.4L19.4 7l-3.7-3.7-1.4 1.4L15.6 6H8.7c-1.4 0-2.6.5-3.6 1.5l-2.8 2.8 1.4 1.4 2.8-2.8zm13.8 2.4l-2.8 2.8c-.6.6-1.3.9-2.1.9h-7l1.3-1.3-1.4-1.4L4.6 16l3.7 3.7 1.4-1.4L8.4 17h6.9c1.3 0 2.6-.5 3.5-1.5l2.8-2.8-1.3-1.4z\" />\n\t\t\t\t\t\t\t\t\t\t</SVG>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ ( hasBlockStyles ||\n\t\t\t\t\t\t\tpossibleBlockTransformations.length !== 0 ) && (\n\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__container\">\n\t\t\t\t\t\t\t\t{ hasBlockStyles && (\n\t\t\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\t\t\ttitle={ __( 'Block Styles' ) }\n\t\t\t\t\t\t\t\t\t\tinitialOpen\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<BlockStyles\n\t\t\t\t\t\t\t\t\t\t\tclientId={ blocks[ 0 ].clientId }\n\t\t\t\t\t\t\t\t\t\t\tonSwitch={ onClose }\n\t\t\t\t\t\t\t\t\t\t\tonHoverClassName={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.onHoverClassName\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ possibleBlockTransformations.length !== 0 && (\n\t\t\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\t\t\ttitle={ __( 'Transform To:' ) }\n\t\t\t\t\t\t\t\t\t\tinitialOpen\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<BlockTypesList\n\t\t\t\t\t\t\t\t\t\t\titems={ possibleBlockTransformations.map(\n\t\t\t\t\t\t\t\t\t\t\t\t( destinationBlockType ) => ( {\n\t\t\t\t\t\t\t\t\t\t\t\t\tid:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdestinationBlockType.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdestinationBlockType.icon,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdestinationBlockType.title,\n\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tonSelect={ ( item ) => {\n\t\t\t\t\t\t\t\t\t\t\t\tonTransform( blocks, item.id );\n\t\t\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ hoveredClassName !== null && (\n\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__preview\">\n\t\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__preview-title\">\n\t\t\t\t\t\t\t\t\t{ __( 'Preview' ) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<BlockPreview\n\t\t\t\t\t\t\t\t\tviewportWidth={ 500 }\n\t\t\t\t\t\t\t\t\tblocks={\n\t\t\t\t\t\t\t\t\t\thoveredBlockType.example\n\t\t\t\t\t\t\t\t\t\t\t? getBlockFromExample(\n\t\t\t\t\t\t\t\t\t\t\t\t\thoveredBlock.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...hoveredBlockType\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.example\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.attributes,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: hoveredClassName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinnerBlocks:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thoveredBlockType\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.example\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.innerBlocks,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t: cloneBlock( hoveredBlock, {\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: hoveredClassName,\n\t\t\t\t\t\t\t\t\t\t\t  } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default compose(\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst {\n\t\t\tgetBlocksByClientId,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetInserterItems,\n\t\t} = select( 'core/block-editor' );\n\t\tconst { getBlockStyles } = select( 'core/blocks' );\n\t\tconst rootClientId = getBlockRootClientId(\n\t\t\tfirst( castArray( clientIds ) )\n\t\t);\n\t\tconst blocks = getBlocksByClientId( clientIds );\n\t\tconst firstBlock = blocks && blocks.length === 1 ? blocks[ 0 ] : null;\n\t\tconst styles = firstBlock && getBlockStyles( firstBlock.name );\n\t\treturn {\n\t\t\tblocks,\n\t\t\tinserterItems: getInserterItems( rootClientId ),\n\t\t\thasBlockStyles: styles && styles.length > 0,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => ( {\n\t\tonTransform( blocks, name ) {\n\t\t\tdispatch( 'core/block-editor' ).replaceBlocks(\n\t\t\t\townProps.clientIds,\n\t\t\t\tswitchToBlockType( blocks, name )\n\t\t\t);\n\t\t},\n\t} ) )\n)( BlockSwitcher );\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BlockSwitcher from './';\n\nexport function MultiBlocksSwitcher( {\n\tisMultiBlockSelection,\n\tselectedBlockClientIds,\n} ) {\n\tif ( ! isMultiBlockSelection ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<BlockSwitcher key=\"switcher\" clientIds={ selectedBlockClientIds } />\n\t);\n}\n\nexport default withSelect( ( select ) => {\n\tconst selectedBlockClientIds = select(\n\t\t'core/block-editor'\n\t).getMultiSelectedBlockClientIds();\n\treturn {\n\t\tisMultiBlockSelection: selectedBlockClientIds.length > 1,\n\t\tselectedBlockClientIds,\n\t};\n} )( MultiBlocksSwitcher );\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { getBlockType } from '@wordpress/blocks';\n\n/**\n * Renders the block's configured title as a string, or empty if the title\n * cannot be determined.\n *\n * @example\n *\n * ```jsx\n * <BlockTitle clientId=\"afd1cb17-2c08-4e7a-91be-007ba7ddc3a1\" />\n * ```\n *\n * @param {Object}  props\n * @param {?string} props.name Block name.\n *\n * @return {?string} Block title.\n */\nexport function BlockTitle( { name } ) {\n\tif ( ! name ) {\n\t\treturn null;\n\t}\n\n\tconst blockType = getBlockType( name );\n\tif ( ! blockType ) {\n\t\treturn null;\n\t}\n\n\treturn blockType.title;\n}\n\nexport default withSelect( ( select, ownProps ) => {\n\tconst { getBlockName } = select( 'core/block-editor' );\n\tconst { clientId } = ownProps;\n\n\treturn {\n\t\tname: getBlockName( clientId ),\n\t};\n} )( BlockTitle );\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\n\nimport BlockControls from '../block-controls';\nimport BlockFormatControls from '../block-format-controls';\nimport BlockSettingsMenu from '../block-settings-menu';\nimport BlockSwitcher from '../block-switcher';\nimport MultiBlocksSwitcher from '../block-switcher/multi-blocks-switcher';\nimport BlockMover from '../block-mover';\n\nexport default function BlockToolbar( { hideDragHandle } ) {\n\tconst {\n\t\tblockClientIds,\n\t\tisValid,\n\t\tmode,\n\t\tmoverDirection,\n\t\thasMovers = true,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetBlockMode,\n\t\t\tgetSelectedBlockClientIds,\n\t\t\tisBlockValid,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlockListSettings,\n\t\t} = select( 'core/block-editor' );\n\t\tconst selectedBlockClientIds = getSelectedBlockClientIds();\n\t\tconst blockRootClientId = getBlockRootClientId(\n\t\t\tselectedBlockClientIds[ 0 ]\n\t\t);\n\n\t\tconst { __experimentalMoverDirection, __experimentalUIParts = {} } =\n\t\t\tgetBlockListSettings( blockRootClientId ) || {};\n\n\t\treturn {\n\t\t\tblockClientIds: selectedBlockClientIds,\n\t\t\trootClientId: blockRootClientId,\n\t\t\tisValid:\n\t\t\t\tselectedBlockClientIds.length === 1\n\t\t\t\t\t? isBlockValid( selectedBlockClientIds[ 0 ] )\n\t\t\t\t\t: null,\n\t\t\tmode:\n\t\t\t\tselectedBlockClientIds.length === 1\n\t\t\t\t\t? getBlockMode( selectedBlockClientIds[ 0 ] )\n\t\t\t\t\t: null,\n\t\t\tmoverDirection: __experimentalMoverDirection,\n\t\t\thasMovers: __experimentalUIParts.hasMovers,\n\t\t};\n\t}, [] );\n\n\tif ( blockClientIds.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tif ( blockClientIds.length > 1 ) {\n\t\treturn (\n\t\t\t<div className=\"block-editor-block-toolbar\">\n\t\t\t\t{ hasMovers && (\n\t\t\t\t\t<BlockMover\n\t\t\t\t\t\tclientIds={ blockClientIds }\n\t\t\t\t\t\t__experimentalOrientation={ moverDirection }\n\t\t\t\t\t\thideDragHandle={ hideDragHandle }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<MultiBlocksSwitcher />\n\t\t\t\t<BlockSettingsMenu clientIds={ blockClientIds } />\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"block-editor-block-toolbar\">\n\t\t\t{ hasMovers && (\n\t\t\t\t<BlockMover\n\t\t\t\t\tclientIds={ blockClientIds }\n\t\t\t\t\t__experimentalOrientation={ moverDirection }\n\t\t\t\t\thideDragHandle={ hideDragHandle }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ mode === 'visual' && isValid && (\n\t\t\t\t<>\n\t\t\t\t\t<BlockSwitcher clientIds={ blockClientIds } />\n\t\t\t\t\t<BlockControls.Slot\n\t\t\t\t\t\tbubblesVirtually\n\t\t\t\t\t\tclassName=\"block-editor-block-toolbar__slot\"\n\t\t\t\t\t/>\n\t\t\t\t\t<BlockFormatControls.Slot\n\t\t\t\t\t\tbubblesVirtually\n\t\t\t\t\t\tclassName=\"block-editor-block-toolbar__slot\"\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t<BlockSettingsMenu clientIds={ blockClientIds } />\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { getBlockMenuDefaultClassName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport InserterListItem from '../inserter-list-item';\n\nfunction BlockTypesList( {\n\titems = [],\n\tonSelect,\n\tonHover = () => {},\n\tchildren,\n} ) {\n\tconst normalizedItems = items.reduce( ( result, item ) => {\n\t\tconst { variations = [] } = item;\n\t\tconst hasDefaultVariation = variations.some(\n\t\t\t( { isDefault } ) => isDefault\n\t\t);\n\n\t\t// If there is no default inserter variation provided,\n\t\t// then default block type is displayed.\n\t\tif ( ! hasDefaultVariation ) {\n\t\t\tresult.push( item );\n\t\t}\n\n\t\tif ( variations.length ) {\n\t\t\tresult = result.concat(\n\t\t\t\tvariations.map( ( variation ) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tid: `${ item.id }-${ variation.name }`,\n\t\t\t\t\t\ticon: variation.icon || item.icon,\n\t\t\t\t\t\ttitle: variation.title || item.title,\n\t\t\t\t\t\tdescription: variation.description || item.description,\n\t\t\t\t\t\t// If `example` is explicitly undefined for the variation, the preview will not be shown.\n\t\t\t\t\t\texample: variation.hasOwnProperty( 'example' )\n\t\t\t\t\t\t\t? variation.example\n\t\t\t\t\t\t\t: item.example,\n\t\t\t\t\t\tinitialAttributes: {\n\t\t\t\t\t\t\t...item.initialAttributes,\n\t\t\t\t\t\t\t...variation.attributes,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinnerBlocks: variation.innerBlocks,\n\t\t\t\t\t};\n\t\t\t\t} )\n\t\t\t);\n\t\t}\n\n\t\treturn result;\n\t}, [] );\n\n\treturn (\n\t\t/*\n\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t */\n\t\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t\t<ul role=\"list\" className=\"block-editor-block-types-list\">\n\t\t\t{ normalizedItems.map( ( item ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<InserterListItem\n\t\t\t\t\t\tkey={ item.id }\n\t\t\t\t\t\tclassName={ getBlockMenuDefaultClassName( item.id ) }\n\t\t\t\t\t\ticon={ item.icon }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tonSelect( item );\n\t\t\t\t\t\t\tonHover( null );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonFocus={ () => onHover( item ) }\n\t\t\t\t\t\tonMouseEnter={ () => onHover( item ) }\n\t\t\t\t\t\tonMouseLeave={ () => onHover( null ) }\n\t\t\t\t\t\tonBlur={ () => onHover( null ) }\n\t\t\t\t\t\tisDisabled={ item.isDisabled }\n\t\t\t\t\t\ttitle={ item.title }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ children }\n\t\t</ul>\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\n\t);\n}\n\nexport default BlockTypesList;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button, Placeholder } from '@wordpress/components';\n\nfunction BlockVariationPicker( {\n\ticon = 'layout',\n\tlabel = __( 'Choose variation' ),\n\tinstructions = __( 'Select a variation to start with.' ),\n\tvariations,\n\tonSelect,\n\tallowSkip,\n} ) {\n\tconst classes = classnames( 'block-editor-block-variation-picker', {\n\t\t'has-many-variations': variations.length > 4,\n\t} );\n\n\treturn (\n\t\t<Placeholder\n\t\t\ticon={ icon }\n\t\t\tlabel={ label }\n\t\t\tinstructions={ instructions }\n\t\t\tclassName={ classes }\n\t\t>\n\t\t\t{ /*\n\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t */\n\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t<ul\n\t\t\t\tclassName=\"block-editor-block-variation-picker__variations\"\n\t\t\t\trole=\"list\"\n\t\t\t>\n\t\t\t\t{ variations.map( ( variation ) => (\n\t\t\t\t\t<li key={ variation.name }>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\ticon={ variation.icon }\n\t\t\t\t\t\t\ticonSize={ 48 }\n\t\t\t\t\t\t\tonClick={ () => onSelect( variation ) }\n\t\t\t\t\t\t\tclassName=\"block-editor-block-variation-picker__variation\"\n\t\t\t\t\t\t\tlabel={ variation.title }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t\t{ allowSkip && (\n\t\t\t\t<div className=\"block-editor-block-variation-picker__skip\">\n\t\t\t\t\t<Button isLink onClick={ () => onSelect() }>\n\t\t\t\t\t\t{ __( 'Skip' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</Placeholder>\n\t);\n}\n\nexport default BlockVariationPicker;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/components';\n\nexport const alignBottom = (\n\t<SVG\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\twidth=\"20\"\n\t\theight=\"20\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n\t\t<Path d=\"M16 13h-3V3h-2v10H8l4 4 4-4zM4 19v2h16v-2H4z\" />\n\t</SVG>\n);\n\nexport const alignCenter = (\n\t<SVG\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\twidth=\"20\"\n\t\theight=\"20\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n\t\t<Path d=\"M8 19h3v4h2v-4h3l-4-4-4 4zm8-14h-3V1h-2v4H8l4 4 4-4zM4 11v2h16v-2H4z\" />\n\t</SVG>\n);\n\nexport const alignTop = (\n\t<SVG\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\twidth=\"20\"\n\t\theight=\"20\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n\t\t<Path d=\"M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z\" />\n\t</SVG>\n);\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@wordpress/i18n';\nimport { Toolbar } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { alignTop, alignCenter, alignBottom } from './icons';\n\nconst BLOCK_ALIGNMENTS_CONTROLS = {\n\ttop: {\n\t\ticon: alignTop,\n\t\ttitle: _x( 'Vertically Align Top', 'Block vertical alignment setting' ),\n\t},\n\tcenter: {\n\t\ticon: alignCenter,\n\t\ttitle: _x(\n\t\t\t'Vertically Align Middle',\n\t\t\t'Block vertical alignment setting'\n\t\t),\n\t},\n\tbottom: {\n\t\ticon: alignBottom,\n\t\ttitle: _x(\n\t\t\t'Vertically Align Bottom',\n\t\t\t'Block vertical alignment setting'\n\t\t),\n\t},\n};\n\nconst DEFAULT_CONTROLS = [ 'top', 'center', 'bottom' ];\nconst DEFAULT_CONTROL = 'top';\n\nexport function BlockVerticalAlignmentToolbar( {\n\tvalue,\n\tonChange,\n\tcontrols = DEFAULT_CONTROLS,\n\tisCollapsed = true,\n} ) {\n\tfunction applyOrUnset( align ) {\n\t\treturn () => onChange( value === align ? undefined : align );\n\t}\n\n\tconst activeAlignment = BLOCK_ALIGNMENTS_CONTROLS[ value ];\n\tconst defaultAlignmentControl =\n\t\tBLOCK_ALIGNMENTS_CONTROLS[ DEFAULT_CONTROL ];\n\n\treturn (\n\t\t<Toolbar\n\t\t\tisCollapsed={ isCollapsed }\n\t\t\ticon={\n\t\t\t\tactiveAlignment\n\t\t\t\t\t? activeAlignment.icon\n\t\t\t\t\t: defaultAlignmentControl.icon\n\t\t\t}\n\t\t\tlabel={ _x(\n\t\t\t\t'Change vertical alignment',\n\t\t\t\t'Block vertical alignment setting label'\n\t\t\t) }\n\t\t\tcontrols={ controls.map( ( control ) => {\n\t\t\t\treturn {\n\t\t\t\t\t...BLOCK_ALIGNMENTS_CONTROLS[ control ],\n\t\t\t\t\tisActive: value === control,\n\t\t\t\t\trole: isCollapsed ? 'menuitemradio' : undefined,\n\t\t\t\t\tonClick: applyOrUnset( control ),\n\t\t\t\t};\n\t\t\t} ) }\n\t\t/>\n\t);\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/block-vertical-alignment-toolbar/README.md\n */\nexport default BlockVerticalAlignmentToolbar;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Button, Tooltip } from '@wordpress/components';\nimport { _x, sprintf } from '@wordpress/i18n';\nimport { Icon, plusCircle } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport Inserter from '../inserter';\n\nfunction ButtonBlockAppender( {\n\trootClientId,\n\tclassName,\n\t__experimentalSelectBlockOnInsert: selectBlockOnInsert,\n} ) {\n\treturn (\n\t\t<Inserter\n\t\t\trootClientId={ rootClientId }\n\t\t\t__experimentalSelectBlockOnInsert={ selectBlockOnInsert }\n\t\t\trenderToggle={ ( {\n\t\t\t\tonToggle,\n\t\t\t\tdisabled,\n\t\t\t\tisOpen,\n\t\t\t\tblockTitle,\n\t\t\t\thasSingleBlockType,\n\t\t\t} ) => {\n\t\t\t\tlet label;\n\t\t\t\tif ( hasSingleBlockType ) {\n\t\t\t\t\t// translators: %s: the name of the block when there is only one\n\t\t\t\t\tlabel = sprintf(\n\t\t\t\t\t\t_x( 'Add %s', 'directly add the only allowed block' ),\n\t\t\t\t\t\tblockTitle\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tlabel = _x(\n\t\t\t\t\t\t'Add block',\n\t\t\t\t\t\t'Generic label for block inserter button'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst isToggleButton = ! hasSingleBlockType;\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip text={ label }>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\t'block-editor-button-block-appender'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\taria-haspopup={\n\t\t\t\t\t\t\t\tisToggleButton ? 'true' : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-expanded={\n\t\t\t\t\t\t\t\tisToggleButton ? isOpen : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"screen-reader-text\">\n\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<Icon icon={ plusCircle } />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\t} }\n\t\t\tisAppender\n\t\t/>\n\t);\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/button-block-appender/README.md\n */\nexport default ButtonBlockAppender;\n","/**\n * Internal dependencies\n */\nimport ColorGradientControl from '../colors-gradients/control';\n\nexport default function ColorPaletteControl( {\n\tonChange,\n\tvalue,\n\t...otherProps\n} ) {\n\treturn (\n\t\t<ColorGradientControl\n\t\t\t{ ...otherProps }\n\t\t\tonColorChange={ onChange }\n\t\t\tcolorValue={ value }\n\t\t\tgradients={ [] }\n\t\t\tdisableCustomGradients={ true }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { ColorPalette } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport withColorContext from './with-color-context';\n\nexport default withColorContext( ColorPalette );\n","/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\nexport default createHigherOrderComponent(\n\twithSelect( ( select, ownProps ) => {\n\t\tconst settings = select( 'core/block-editor' ).getSettings();\n\t\tconst colors =\n\t\t\townProps.colors === undefined ? settings.colors : ownProps.colors;\n\n\t\tconst disableCustomColors =\n\t\t\townProps.disableCustomColors === undefined\n\t\t\t\t? settings.disableCustomColors\n\t\t\t\t: ownProps.disableCustomColors;\n\t\treturn {\n\t\t\tcolors,\n\t\t\tdisableCustomColors,\n\t\t\thasColorsToChoose: ! isEmpty( colors ) || ! disableCustomColors,\n\t\t};\n\t} ),\n\t'withColorContext'\n);\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { every, isEmpty, pick } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tButton,\n\tButtonGroup,\n\tColorIndicator,\n\tColorPalette,\n\t__experimentalGradientPicker as GradientPicker,\n} from '@wordpress/components';\nimport { sprintf, __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { getColorObjectByColorValue } from '../colors';\nimport { __experimentalGetGradientObjectByGradientValue } from '../gradients';\n\n// translators: first %s: the color name or value (e.g. red or #ff0000)\nconst colorIndicatorAriaLabel = __( '(Color: %s)' );\n\n// translators: first %s: the gradient name or value (e.g. red to green or linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)\nconst gradientIndicatorAriaLabel = __( '(Gradient: %s)' );\n\nconst colorsAndGradientKeys = [\n\t'colors',\n\t'disableCustomColors',\n\t'gradients',\n\t'disableCustomGradients',\n];\n\nfunction VisualLabel( {\n\tcolors,\n\tgradients,\n\tlabel,\n\tcurrentTab,\n\tcolorValue,\n\tgradientValue,\n} ) {\n\tlet value, ariaLabel;\n\tif ( currentTab === 'color' ) {\n\t\tif ( colorValue ) {\n\t\t\tvalue = colorValue;\n\t\t\tconst colorObject = getColorObjectByColorValue( colors, value );\n\t\t\tconst colorName = colorObject && colorObject.name;\n\t\t\tariaLabel = sprintf( colorIndicatorAriaLabel, colorName || value );\n\t\t}\n\t} else if ( currentTab === 'gradient' && gradientValue ) {\n\t\tvalue = gradientValue;\n\t\tconst gradientObject = __experimentalGetGradientObjectByGradientValue(\n\t\t\tgradients,\n\t\t\tvalue\n\t\t);\n\t\tconst gradientName = gradientObject && gradientObject.name;\n\t\tariaLabel = sprintf(\n\t\t\tgradientIndicatorAriaLabel,\n\t\t\tgradientName || value\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ label }\n\t\t\t{ !! value && (\n\t\t\t\t<ColorIndicator colorValue={ value } aria-label={ ariaLabel } />\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction ColorGradientControlInner( {\n\tcolors,\n\tgradients,\n\tdisableCustomColors,\n\tdisableCustomGradients,\n\tclassName,\n\tlabel,\n\tonColorChange,\n\tonGradientChange,\n\tcolorValue,\n\tgradientValue,\n} ) {\n\tconst canChooseAColor =\n\t\tonColorChange && ( ! isEmpty( colors ) || ! disableCustomColors );\n\tconst canChooseAGradient =\n\t\tonGradientChange &&\n\t\t( ! isEmpty( gradients ) || ! disableCustomGradients );\n\tconst [ currentTab, setCurrentTab ] = useState(\n\t\tgradientValue ? 'gradient' : !! canChooseAColor && 'color'\n\t);\n\n\tif ( ! canChooseAColor && ! canChooseAGradient ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<BaseControl\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-color-gradient-control',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t>\n\t\t\t<fieldset>\n\t\t\t\t<legend>\n\t\t\t\t\t<div className=\"block-editor-color-gradient-control__color-indicator\">\n\t\t\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t\t\t<VisualLabel\n\t\t\t\t\t\t\t\tcurrentTab={ currentTab }\n\t\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t\t\tcolorValue={ colorValue }\n\t\t\t\t\t\t\t\tgradientValue={ gradientValue }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t</div>\n\t\t\t\t</legend>\n\t\t\t\t{ canChooseAColor && canChooseAGradient && (\n\t\t\t\t\t<ButtonGroup className=\"block-editor-color-gradient-control__button-tabs\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\tisPrimary={ currentTab === 'color' }\n\t\t\t\t\t\t\tisSecondary={ currentTab !== 'color' }\n\t\t\t\t\t\t\tonClick={ () => setCurrentTab( 'color' ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Solid' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\tisPrimary={ currentTab === 'gradient' }\n\t\t\t\t\t\t\tisSecondary={ currentTab !== 'gradient' }\n\t\t\t\t\t\t\tonClick={ () => setCurrentTab( 'gradient' ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Gradient' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t) }\n\t\t\t\t{ ( currentTab === 'color' || ! canChooseAGradient ) && (\n\t\t\t\t\t<ColorPalette\n\t\t\t\t\t\tvalue={ colorValue }\n\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\tcanChooseAGradient\n\t\t\t\t\t\t\t\t? ( newColor ) => {\n\t\t\t\t\t\t\t\t\t\tonColorChange( newColor );\n\t\t\t\t\t\t\t\t\t\tonGradientChange();\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: onColorChange\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ ...{ colors, disableCustomColors } }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ( currentTab === 'gradient' || ! canChooseAColor ) && (\n\t\t\t\t\t<GradientPicker\n\t\t\t\t\t\tvalue={ gradientValue }\n\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\tcanChooseAColor\n\t\t\t\t\t\t\t\t? ( newGradient ) => {\n\t\t\t\t\t\t\t\t\t\tonGradientChange( newGradient );\n\t\t\t\t\t\t\t\t\t\tonColorChange();\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: onGradientChange\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ ...{ gradients, disableCustomGradients } }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</fieldset>\n\t\t</BaseControl>\n\t);\n}\n\nfunction ColorGradientControlSelect( props ) {\n\tconst colorGradientSettings = useSelect( ( select ) => {\n\t\tconst settings = select( 'core/block-editor' ).getSettings();\n\t\treturn pick( settings, colorsAndGradientKeys );\n\t} );\n\treturn (\n\t\t<ColorGradientControlInner\n\t\t\t{ ...{ ...colorGradientSettings, ...props } }\n\t\t/>\n\t);\n}\n\nfunction ColorGradientControl( props ) {\n\tif (\n\t\tevery( colorsAndGradientKeys, ( key ) => props.hasOwnProperty( key ) )\n\t) {\n\t\treturn <ColorGradientControlInner { ...props } />;\n\t}\n\treturn <ColorGradientControlSelect { ...props } />;\n}\n\nexport default ColorGradientControl;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { every, isEmpty, pick } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { PanelBody, ColorIndicator } from '@wordpress/components';\nimport { sprintf, __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport ColorGradientControl from './control';\nimport { getColorObjectByColorValue } from '../colors';\nimport { __experimentalGetGradientObjectByGradientValue } from '../gradients';\n\n// translators: first %s: The type of color or gradient (e.g. background, overlay...), second %s: the color name or value (e.g. red or #ff0000)\nconst colorIndicatorAriaLabel = __( '(%s: color %s)' );\n\n// translators: first %s: The type of color or gradient (e.g. background, overlay...), second %s: the color name or value (e.g. red or #ff0000)\nconst gradientIndicatorAriaLabel = __( '(%s: gradient %s)' );\n\nconst colorsAndGradientKeys = [\n\t'colors',\n\t'disableCustomColors',\n\t'gradients',\n\t'disableCustomGradients',\n];\n\nconst Indicators = ( { colors, gradients, settings } ) => {\n\treturn settings.map(\n\t\t(\n\t\t\t{\n\t\t\t\tcolorValue,\n\t\t\t\tgradientValue,\n\t\t\t\tlabel,\n\t\t\t\tcolors: availableColors,\n\t\t\t\tgradients: availableGradients,\n\t\t\t},\n\t\t\tindex\n\t\t) => {\n\t\t\tif ( ! colorValue && ! gradientValue ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tlet ariaLabel;\n\t\t\tif ( colorValue ) {\n\t\t\t\tconst colorObject = getColorObjectByColorValue(\n\t\t\t\t\tavailableColors || colors,\n\t\t\t\t\tcolorValue\n\t\t\t\t);\n\t\t\t\tariaLabel = sprintf(\n\t\t\t\t\tcolorIndicatorAriaLabel,\n\t\t\t\t\tlabel.toLowerCase(),\n\t\t\t\t\t( colorObject && colorObject.name ) || colorValue\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tconst gradientObject = __experimentalGetGradientObjectByGradientValue(\n\t\t\t\t\tavailableGradients || gradients,\n\t\t\t\t\tcolorValue\n\t\t\t\t);\n\t\t\t\tariaLabel = sprintf(\n\t\t\t\t\tgradientIndicatorAriaLabel,\n\t\t\t\t\tlabel.toLowerCase(),\n\t\t\t\t\t( gradientObject && gradientObject.name ) || gradientValue\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<ColorIndicator\n\t\t\t\t\tkey={ index }\n\t\t\t\t\tcolorValue={ colorValue || gradientValue }\n\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t);\n};\n\nexport const PanelColorGradientSettingsInner = ( {\n\tclassName,\n\tcolors,\n\tgradients,\n\tdisableCustomColors,\n\tdisableCustomGradients,\n\tchildren,\n\tsettings,\n\ttitle,\n\t...props\n} ) => {\n\tif (\n\t\tisEmpty( colors ) &&\n\t\tisEmpty( gradients ) &&\n\t\tdisableCustomColors &&\n\t\tdisableCustomGradients &&\n\t\tevery(\n\t\t\tsettings,\n\t\t\t( setting ) =>\n\t\t\t\tisEmpty( setting.colors ) &&\n\t\t\t\tisEmpty( setting.gradients ) &&\n\t\t\t\t( setting.disableCustomColors === undefined ||\n\t\t\t\t\tsetting.disableCustomColors ) &&\n\t\t\t\t( setting.disableCustomGradients === undefined ||\n\t\t\t\t\tsetting.disableCustomGradients )\n\t\t)\n\t) {\n\t\treturn null;\n\t}\n\n\tconst titleElement = (\n\t\t<span className=\"block-editor-panel-color-gradient-settings__panel-title\">\n\t\t\t{ title }\n\t\t\t<Indicators\n\t\t\t\tcolors={ colors }\n\t\t\t\tgradients={ gradients }\n\t\t\t\tsettings={ settings }\n\t\t\t/>\n\t\t</span>\n\t);\n\treturn (\n\t\t<PanelBody\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-panel-color-gradient-settings',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\ttitle={ titleElement }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ settings.map( ( setting, index ) => (\n\t\t\t\t<ColorGradientControl\n\t\t\t\t\tkey={ index }\n\t\t\t\t\t{ ...{\n\t\t\t\t\t\tcolors,\n\t\t\t\t\t\tgradients,\n\t\t\t\t\t\tdisableCustomColors,\n\t\t\t\t\t\tdisableCustomGradients,\n\t\t\t\t\t\t...setting,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t\t{ children }\n\t\t</PanelBody>\n\t);\n};\n\nconst PanelColorGradientSettingsSelect = ( props ) => {\n\tconst colorGradientSettings = useSelect( ( select ) => {\n\t\tconst settings = select( 'core/block-editor' ).getSettings();\n\t\treturn pick( settings, colorsAndGradientKeys );\n\t} );\n\treturn (\n\t\t<PanelColorGradientSettingsInner\n\t\t\t{ ...{ ...colorGradientSettings, ...props } }\n\t\t/>\n\t);\n};\n\nconst PanelColorGradientSettings = ( props ) => {\n\tif (\n\t\tevery( colorsAndGradientKeys, ( key ) => props.hasOwnProperty( key ) )\n\t) {\n\t\treturn <PanelColorGradientSettingsInner { ...props } />;\n\t}\n\treturn <PanelColorGradientSettingsSelect { ...props } />;\n};\n\nexport default PanelColorGradientSettings;\n","export {\n\tgetColorClassName,\n\tgetColorObjectByAttributeValues,\n\tgetColorObjectByColorValue,\n} from './utils';\nexport { createCustomColorsHOC, default as withColors } from './with-colors';\nexport { default as __experimentalUseColors } from './use-colors';\n","/**\n * External dependencies\n */\nimport memoize from 'memize';\nimport classnames from 'classnames';\nimport { map, kebabCase, camelCase, castArray, startCase } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tuseCallback,\n\tuseMemo,\n\tuseEffect,\n\tChildren,\n\tcloneElement,\n\tuseState,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport PanelColorSettings from '../panel-color-settings';\nimport ContrastChecker from '../contrast-checker';\nimport InspectorControls from '../inspector-controls';\nimport { useBlockEditContext } from '../block-edit';\n\n/**\n * Browser dependencies\n */\nconst { getComputedStyle, Node } = window;\n\nconst DEFAULT_COLORS = [];\n\nconst COMMON_COLOR_LABELS = {\n\ttextColor: __( 'Text Color' ),\n\tbackgroundColor: __( 'Background Color' ),\n};\n\nconst resolveContrastCheckerColor = ( color, colorSettings, detectedColor ) => {\n\tif ( typeof color === 'function' ) {\n\t\treturn color( colorSettings );\n\t} else if ( color === true ) {\n\t\treturn detectedColor;\n\t}\n\treturn color;\n};\n\nconst ColorPanel = ( {\n\ttitle,\n\tcolorSettings,\n\tcolorPanelProps,\n\tcontrastCheckers,\n\tdetectedBackgroundColor,\n\tdetectedColor,\n\tpanelChildren,\n\tinitialOpen,\n} ) => (\n\t<PanelColorSettings\n\t\ttitle={ title }\n\t\tinitialOpen={ initialOpen }\n\t\tcolorSettings={ Object.values( colorSettings ) }\n\t\t{ ...colorPanelProps }\n\t>\n\t\t{ contrastCheckers &&\n\t\t\t( Array.isArray( contrastCheckers )\n\t\t\t\t? contrastCheckers.map(\n\t\t\t\t\t\t( { backgroundColor, textColor, ...rest } ) => {\n\t\t\t\t\t\t\tbackgroundColor = resolveContrastCheckerColor(\n\t\t\t\t\t\t\t\tbackgroundColor,\n\t\t\t\t\t\t\t\tcolorSettings,\n\t\t\t\t\t\t\t\tdetectedBackgroundColor\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\ttextColor = resolveContrastCheckerColor(\n\t\t\t\t\t\t\t\ttextColor,\n\t\t\t\t\t\t\t\tcolorSettings,\n\t\t\t\t\t\t\t\tdetectedColor\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ContrastChecker\n\t\t\t\t\t\t\t\t\tkey={ `${ backgroundColor }-${ textColor }` }\n\t\t\t\t\t\t\t\t\tbackgroundColor={ backgroundColor }\n\t\t\t\t\t\t\t\t\ttextColor={ textColor }\n\t\t\t\t\t\t\t\t\t{ ...rest }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t  )\n\t\t\t\t: map( colorSettings, ( { value } ) => {\n\t\t\t\t\t\tlet { backgroundColor, textColor } = contrastCheckers;\n\t\t\t\t\t\tbackgroundColor = resolveContrastCheckerColor(\n\t\t\t\t\t\t\tbackgroundColor || value,\n\t\t\t\t\t\t\tcolorSettings,\n\t\t\t\t\t\t\tdetectedBackgroundColor\n\t\t\t\t\t\t);\n\t\t\t\t\t\ttextColor = resolveContrastCheckerColor(\n\t\t\t\t\t\t\ttextColor || value,\n\t\t\t\t\t\t\tcolorSettings,\n\t\t\t\t\t\t\tdetectedColor\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ContrastChecker\n\t\t\t\t\t\t\t\t{ ...contrastCheckers }\n\t\t\t\t\t\t\t\tkey={ `${ backgroundColor }-${ textColor }` }\n\t\t\t\t\t\t\t\tbackgroundColor={ backgroundColor }\n\t\t\t\t\t\t\t\ttextColor={ textColor }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t  } ) ) }\n\t\t{ typeof panelChildren === 'function'\n\t\t\t? panelChildren( colorSettings )\n\t\t\t: panelChildren }\n\t</PanelColorSettings>\n);\nconst InspectorControlsColorPanel = ( props ) => (\n\t<InspectorControls>\n\t\t<ColorPanel { ...props } />\n\t</InspectorControls>\n);\n\nexport default function __experimentalUseColors(\n\tcolorConfigs,\n\t{\n\t\tpanelTitle = __( 'Color settings' ),\n\t\tcolorPanelProps,\n\t\tcontrastCheckers,\n\t\tpanelChildren,\n\t\tcolorDetector: {\n\t\t\ttargetRef,\n\t\t\tbackgroundColorTargetRef = targetRef,\n\t\t\ttextColorTargetRef = targetRef,\n\t\t} = {},\n\t} = {\n\t\tpanelTitle: __( 'Color settings' ),\n\t},\n\tdeps = []\n) {\n\tconst { clientId } = useBlockEditContext();\n\tconst { attributes, settingsColors } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockAttributes, getSettings } = select(\n\t\t\t\t'core/block-editor'\n\t\t\t);\n\t\t\tconst colors = getSettings().colors;\n\t\t\treturn {\n\t\t\t\tattributes: getBlockAttributes( clientId ),\n\t\t\t\tsettingsColors:\n\t\t\t\t\t! colors || colors === true ? DEFAULT_COLORS : colors,\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\tconst { updateBlockAttributes } = useDispatch( 'core/block-editor' );\n\tconst setAttributes = useCallback(\n\t\t( newAttributes ) => updateBlockAttributes( clientId, newAttributes ),\n\t\t[ updateBlockAttributes, clientId ]\n\t);\n\n\tconst createComponent = useMemo(\n\t\t() =>\n\t\t\tmemoize(\n\t\t\t\t(\n\t\t\t\t\tname,\n\t\t\t\t\tproperty,\n\t\t\t\t\tclassName,\n\t\t\t\t\tcolor,\n\t\t\t\t\tcolorValue,\n\t\t\t\t\tcustomColor\n\t\t\t\t) => ( {\n\t\t\t\t\tchildren,\n\t\t\t\t\tclassName: componentClassName = '',\n\t\t\t\t\tstyle: componentStyle = {},\n\t\t\t\t} ) =>\n\t\t\t\t\t// Clone children, setting the style property from the color configuration,\n\t\t\t\t\t// if not already set explicitly through props.\n\t\t\t\t\tChildren.map( children, ( child ) => {\n\t\t\t\t\t\tlet colorStyle = {};\n\t\t\t\t\t\tif ( color ) {\n\t\t\t\t\t\t\tcolorStyle = { [ property ]: colorValue };\n\t\t\t\t\t\t} else if ( customColor ) {\n\t\t\t\t\t\t\tcolorStyle = { [ property ]: customColor };\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn cloneElement( child, {\n\t\t\t\t\t\t\tclassName: classnames(\n\t\t\t\t\t\t\t\tcomponentClassName,\n\t\t\t\t\t\t\t\tchild.props.className,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t[ `has-${ kebabCase( color ) }-${ kebabCase(\n\t\t\t\t\t\t\t\t\t\tproperty\n\t\t\t\t\t\t\t\t\t) }` ]: color,\n\t\t\t\t\t\t\t\t\t[ className ||\n\t\t\t\t\t\t\t\t\t`has-${ kebabCase( name ) }` ]:\n\t\t\t\t\t\t\t\t\t\tcolor || customColor,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t...colorStyle,\n\t\t\t\t\t\t\t\t...componentStyle,\n\t\t\t\t\t\t\t\t...( child.props.style || {} ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t} );\n\t\t\t\t\t} ),\n\t\t\t\t{ maxSize: colorConfigs.length }\n\t\t\t),\n\t\t[ colorConfigs.length ]\n\t);\n\tconst createSetColor = useMemo(\n\t\t() =>\n\t\t\tmemoize(\n\t\t\t\t( name, colors ) => ( newColor ) => {\n\t\t\t\t\tconst color = colors.find(\n\t\t\t\t\t\t( _color ) => _color.color === newColor\n\t\t\t\t\t);\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t[ color\n\t\t\t\t\t\t\t? camelCase( `custom ${ name }` )\n\t\t\t\t\t\t\t: name ]: undefined,\n\t\t\t\t\t} );\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t[ color\n\t\t\t\t\t\t\t? name\n\t\t\t\t\t\t\t: camelCase( `custom ${ name }` ) ]: color\n\t\t\t\t\t\t\t? color.slug\n\t\t\t\t\t\t\t: newColor,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tmaxSize: colorConfigs.length,\n\t\t\t\t}\n\t\t\t),\n\t\t[ setAttributes, colorConfigs.length ]\n\t);\n\n\tconst [ detectedBackgroundColor, setDetectedBackgroundColor ] = useState();\n\tconst [ detectedColor, setDetectedColor ] = useState();\n\n\tuseEffect( () => {\n\t\tif ( ! contrastCheckers ) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet needsBackgroundColor = false;\n\t\tlet needsColor = false;\n\t\tfor ( const { backgroundColor, textColor } of castArray(\n\t\t\tcontrastCheckers\n\t\t) ) {\n\t\t\tif ( ! needsBackgroundColor ) {\n\t\t\t\tneedsBackgroundColor = backgroundColor === true;\n\t\t\t}\n\t\t\tif ( ! needsColor ) {\n\t\t\t\tneedsColor = textColor === true;\n\t\t\t}\n\t\t\tif ( needsBackgroundColor && needsColor ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif ( needsColor ) {\n\t\t\tsetDetectedColor(\n\t\t\t\tgetComputedStyle( textColorTargetRef.current ).color\n\t\t\t);\n\t\t}\n\n\t\tif ( needsBackgroundColor ) {\n\t\t\tlet backgroundColorNode = backgroundColorTargetRef.current;\n\t\t\tlet backgroundColor = getComputedStyle( backgroundColorNode )\n\t\t\t\t.backgroundColor;\n\t\t\twhile (\n\t\t\t\tbackgroundColor === 'rgba(0, 0, 0, 0)' &&\n\t\t\t\tbackgroundColorNode.parentNode &&\n\t\t\t\tbackgroundColorNode.parentNode.nodeType === Node.ELEMENT_NODE\n\t\t\t) {\n\t\t\t\tbackgroundColorNode = backgroundColorNode.parentNode;\n\t\t\t\tbackgroundColor = getComputedStyle( backgroundColorNode )\n\t\t\t\t\t.backgroundColor;\n\t\t\t}\n\n\t\t\tsetDetectedBackgroundColor( backgroundColor );\n\t\t}\n\t}, [\n\t\tcolorConfigs.reduce(\n\t\t\t( acc, colorConfig ) =>\n\t\t\t\t`${ acc } | ${ attributes[ colorConfig.name ] } | ${\n\t\t\t\t\tattributes[ camelCase( `custom ${ colorConfig.name }` ) ]\n\t\t\t\t}`,\n\t\t\t''\n\t\t),\n\t\t...deps,\n\t] );\n\n\treturn useMemo( () => {\n\t\tconst colorSettings = {};\n\n\t\tconst components = colorConfigs.reduce( ( acc, colorConfig ) => {\n\t\t\tif ( typeof colorConfig === 'string' ) {\n\t\t\t\tcolorConfig = { name: colorConfig };\n\t\t\t}\n\t\t\tconst {\n\t\t\t\tname, // E.g. 'backgroundColor'.\n\t\t\t\tproperty = name, // E.g. 'backgroundColor'.\n\t\t\t\tclassName,\n\n\t\t\t\tpanelLabel = colorConfig.label ||\n\t\t\t\t\tCOMMON_COLOR_LABELS[ name ] ||\n\t\t\t\t\tstartCase( name ), // E.g. 'Background color'.\n\t\t\t\tcomponentName = startCase( name ).replace( /\\s/g, '' ), // E.g. 'BackgroundColor'.\n\n\t\t\t\tcolor = colorConfig.color,\n\t\t\t\tcolors = settingsColors,\n\t\t\t} = {\n\t\t\t\t...colorConfig,\n\t\t\t\tcolor: attributes[ colorConfig.name ],\n\t\t\t};\n\n\t\t\tconst customColor = attributes[ camelCase( `custom ${ name }` ) ];\n\t\t\t// We memoize the non-primitives to avoid unnecessary updates\n\t\t\t// when they are used as props for other components.\n\t\t\tconst _color = customColor\n\t\t\t\t? undefined\n\t\t\t\t: colors.find( ( __color ) => __color.slug === color );\n\t\t\tacc[ componentName ] = createComponent(\n\t\t\t\tname,\n\t\t\t\tproperty,\n\t\t\t\tclassName,\n\t\t\t\tcolor,\n\t\t\t\t_color && _color.color,\n\t\t\t\tcustomColor\n\t\t\t);\n\t\t\tacc[ componentName ].displayName = componentName;\n\t\t\tacc[ componentName ].color = customColor\n\t\t\t\t? customColor\n\t\t\t\t: _color && _color.color;\n\t\t\tacc[ componentName ].slug = color;\n\t\t\tacc[ componentName ].setColor = createSetColor( name, colors );\n\n\t\t\tcolorSettings[ componentName ] = {\n\t\t\t\tvalue: _color\n\t\t\t\t\t? _color.color\n\t\t\t\t\t: attributes[ camelCase( `custom ${ name }` ) ],\n\t\t\t\tonChange: acc[ componentName ].setColor,\n\t\t\t\tlabel: panelLabel,\n\t\t\t\tcolors,\n\t\t\t};\n\t\t\t// These settings will be spread over the `colors` in\n\t\t\t// `colorPanelProps`, so we need to unset the key here,\n\t\t\t// if not set to an actual value, to avoid overwriting\n\t\t\t// an actual value in `colorPanelProps`.\n\t\t\tif ( ! colors ) {\n\t\t\t\tdelete colorSettings[ componentName ].colors;\n\t\t\t}\n\n\t\t\treturn acc;\n\t\t}, {} );\n\n\t\tconst wrappedColorPanelProps = {\n\t\t\ttitle: panelTitle,\n\t\t\tinitialOpen: false,\n\t\t\tcolorSettings,\n\t\t\tcolorPanelProps,\n\t\t\tcontrastCheckers,\n\t\t\tdetectedBackgroundColor,\n\t\t\tdetectedColor,\n\t\t\tpanelChildren,\n\t\t};\n\t\treturn {\n\t\t\t...components,\n\t\t\tColorPanel: <ColorPanel { ...wrappedColorPanelProps } />,\n\t\t\tInspectorControlsColorPanel: (\n\t\t\t\t<InspectorControlsColorPanel { ...wrappedColorPanelProps } />\n\t\t\t),\n\t\t};\n\t}, [\n\t\tattributes,\n\t\tsetAttributes,\n\t\tdetectedColor,\n\t\tdetectedBackgroundColor,\n\t\t...deps,\n\t] );\n}\n","/**\n * External dependencies\n */\nimport { find, kebabCase, map } from 'lodash';\nimport tinycolor from 'tinycolor2';\n\n/**\n * Provided an array of color objects as set by the theme or by the editor defaults,\n * and the values of the defined color or custom color returns a color object describing the color.\n *\n * @param {Array}   colors       Array of color objects as set by the theme or by the editor defaults.\n * @param {?string} definedColor A string containing the color slug.\n * @param {?string} customColor  A string containing the customColor value.\n *\n * @return {?Object} If definedColor is passed and the name is found in colors,\n *                   the color object exactly as set by the theme or editor defaults is returned.\n *                   Otherwise, an object that just sets the color is defined.\n */\nexport const getColorObjectByAttributeValues = (\n\tcolors,\n\tdefinedColor,\n\tcustomColor\n) => {\n\tif ( definedColor ) {\n\t\tconst colorObj = find( colors, { slug: definedColor } );\n\n\t\tif ( colorObj ) {\n\t\t\treturn colorObj;\n\t\t}\n\t}\n\treturn {\n\t\tcolor: customColor,\n\t};\n};\n\n/**\n * Provided an array of color objects as set by the theme or by the editor defaults, and a color value returns the color object matching that value or undefined.\n *\n * @param {Array}   colors      Array of color objects as set by the theme or by the editor defaults.\n * @param {?string} colorValue  A string containing the color value.\n *\n * @return {?Object} Color object included in the colors array whose color property equals colorValue.\n *                   Returns undefined if no color object matches this requirement.\n */\nexport const getColorObjectByColorValue = ( colors, colorValue ) => {\n\treturn find( colors, { color: colorValue } );\n};\n\n/**\n * Returns a class based on the context a color is being used and its slug.\n *\n * @param {string} colorContextName Context/place where color is being used e.g: background, text etc...\n * @param {string} colorSlug        Slug of the color.\n *\n * @return {?string} String with the class corresponding to the color in the provided context.\n *                   Returns undefined if either colorContextName or colorSlug are not provided.\n */\nexport function getColorClassName( colorContextName, colorSlug ) {\n\tif ( ! colorContextName || ! colorSlug ) {\n\t\treturn undefined;\n\t}\n\n\treturn `has-${ kebabCase( colorSlug ) }-${ colorContextName }`;\n}\n\n/**\n * Given an array of color objects and a color value returns the color value of the most readable color in the array.\n *\n * @param {Array}   colors     Array of color objects as set by the theme or by the editor defaults.\n * @param {?string} colorValue A string containing the color value.\n *\n * @return {string} String with the color value of the most readable color.\n */\nexport function getMostReadableColor( colors, colorValue ) {\n\treturn tinycolor\n\t\t.mostReadable( colorValue, map( colors, 'color' ) )\n\t\t.toHexString();\n}\n","/**\n * External dependencies\n */\nimport { get, isString, kebabCase, reduce, upperFirst } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { withSelect } from '@wordpress/data';\nimport { compose, createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetColorClassName,\n\tgetColorObjectByColorValue,\n\tgetColorObjectByAttributeValues,\n\tgetMostReadableColor,\n} from './utils';\n\nconst DEFAULT_COLORS = [];\n\n/**\n * Higher order component factory for injecting the `colorsArray` argument as\n * the colors prop in the `withCustomColors` HOC.\n *\n * @param {Array} colorsArray An array of color objects.\n *\n * @return {Function} The higher order component.\n */\nconst withCustomColorPalette = ( colorsArray ) =>\n\tcreateHigherOrderComponent(\n\t\t( WrappedComponent ) => ( props ) => (\n\t\t\t<WrappedComponent { ...props } colors={ colorsArray } />\n\t\t),\n\t\t'withCustomColorPalette'\n\t);\n\n/**\n * Higher order component factory for injecting the editor colors as the\n * `colors` prop in the `withColors` HOC.\n *\n * @return {Function} The higher order component.\n */\nconst withEditorColorPalette = () =>\n\twithSelect( ( select ) => {\n\t\tconst settings = select( 'core/block-editor' ).getSettings();\n\t\treturn {\n\t\t\tcolors: get( settings, [ 'colors' ], DEFAULT_COLORS ),\n\t\t};\n\t} );\n\n/**\n * Helper function used with `createHigherOrderComponent` to create\n * higher order components for managing color logic.\n *\n * @param {Array}    colorTypes       An array of color types (e.g. 'backgroundColor, borderColor).\n * @param {Function} withColorPalette A HOC for injecting the 'colors' prop into the WrappedComponent.\n *\n * @return {WPComponent} The component that can be used as a HOC.\n */\nfunction createColorHOC( colorTypes, withColorPalette ) {\n\tconst colorMap = reduce(\n\t\tcolorTypes,\n\t\t( colorObject, colorType ) => {\n\t\t\treturn {\n\t\t\t\t...colorObject,\n\t\t\t\t...( isString( colorType )\n\t\t\t\t\t? { [ colorType ]: kebabCase( colorType ) }\n\t\t\t\t\t: colorType ),\n\t\t\t};\n\t\t},\n\t\t{}\n\t);\n\n\treturn compose( [\n\t\twithColorPalette,\n\t\t( WrappedComponent ) => {\n\t\t\treturn class extends Component {\n\t\t\t\tconstructor( props ) {\n\t\t\t\t\tsuper( props );\n\n\t\t\t\t\tthis.setters = this.createSetters();\n\t\t\t\t\tthis.colorUtils = {\n\t\t\t\t\t\tgetMostReadableColor: this.getMostReadableColor.bind(\n\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t),\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.state = {};\n\t\t\t\t}\n\n\t\t\t\tgetMostReadableColor( colorValue ) {\n\t\t\t\t\tconst { colors } = this.props;\n\t\t\t\t\treturn getMostReadableColor( colors, colorValue );\n\t\t\t\t}\n\n\t\t\t\tcreateSetters() {\n\t\t\t\t\treturn reduce(\n\t\t\t\t\t\tcolorMap,\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tsettersAccumulator,\n\t\t\t\t\t\t\tcolorContext,\n\t\t\t\t\t\t\tcolorAttributeName\n\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\tconst upperFirstColorAttributeName = upperFirst(\n\t\t\t\t\t\t\t\tcolorAttributeName\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst customColorAttributeName = `custom${ upperFirstColorAttributeName }`;\n\t\t\t\t\t\t\tsettersAccumulator[\n\t\t\t\t\t\t\t\t`set${ upperFirstColorAttributeName }`\n\t\t\t\t\t\t\t] = this.createSetColor(\n\t\t\t\t\t\t\t\tcolorAttributeName,\n\t\t\t\t\t\t\t\tcustomColorAttributeName\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn settersAccumulator;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tcreateSetColor( colorAttributeName, customColorAttributeName ) {\n\t\t\t\t\treturn ( colorValue ) => {\n\t\t\t\t\t\tconst colorObject = getColorObjectByColorValue(\n\t\t\t\t\t\t\tthis.props.colors,\n\t\t\t\t\t\t\tcolorValue\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.props.setAttributes( {\n\t\t\t\t\t\t\t[ colorAttributeName ]:\n\t\t\t\t\t\t\t\tcolorObject && colorObject.slug\n\t\t\t\t\t\t\t\t\t? colorObject.slug\n\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t[ customColorAttributeName ]:\n\t\t\t\t\t\t\t\tcolorObject && colorObject.slug\n\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t: colorValue,\n\t\t\t\t\t\t} );\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tstatic getDerivedStateFromProps(\n\t\t\t\t\t{ attributes, colors },\n\t\t\t\t\tpreviousState\n\t\t\t\t) {\n\t\t\t\t\treturn reduce(\n\t\t\t\t\t\tcolorMap,\n\t\t\t\t\t\t( newState, colorContext, colorAttributeName ) => {\n\t\t\t\t\t\t\tconst colorObject = getColorObjectByAttributeValues(\n\t\t\t\t\t\t\t\tcolors,\n\t\t\t\t\t\t\t\tattributes[ colorAttributeName ],\n\t\t\t\t\t\t\t\tattributes[\n\t\t\t\t\t\t\t\t\t`custom${ upperFirst(\n\t\t\t\t\t\t\t\t\t\tcolorAttributeName\n\t\t\t\t\t\t\t\t\t) }`\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tconst previousColorObject =\n\t\t\t\t\t\t\t\tpreviousState[ colorAttributeName ];\n\t\t\t\t\t\t\tconst previousColor = get( previousColorObject, [\n\t\t\t\t\t\t\t\t'color',\n\t\t\t\t\t\t\t] );\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * The \"and previousColorObject\" condition checks that a previous color object was already computed.\n\t\t\t\t\t\t\t * At the start previousColorObject and colorValue are both equal to undefined\n\t\t\t\t\t\t\t * bus as previousColorObject does not exist we should compute the object.\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tpreviousColor === colorObject.color &&\n\t\t\t\t\t\t\t\tpreviousColorObject\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tnewState[\n\t\t\t\t\t\t\t\t\tcolorAttributeName\n\t\t\t\t\t\t\t\t] = previousColorObject;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnewState[ colorAttributeName ] = {\n\t\t\t\t\t\t\t\t\t...colorObject,\n\t\t\t\t\t\t\t\t\tclass: getColorClassName(\n\t\t\t\t\t\t\t\t\t\tcolorContext,\n\t\t\t\t\t\t\t\t\t\tcolorObject.slug\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn newState;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\trender() {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<WrappedComponent\n\t\t\t\t\t\t\t{ ...{\n\t\t\t\t\t\t\t\t...this.props,\n\t\t\t\t\t\t\t\tcolors: undefined,\n\t\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\t\t...this.setters,\n\t\t\t\t\t\t\t\tcolorUtils: this.colorUtils,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t] );\n}\n\n/**\n * A higher-order component factory for creating a 'withCustomColors' HOC, which handles color logic\n * for class generation color value, retrieval and color attribute setting.\n *\n * Use this higher-order component to work with a custom set of colors.\n *\n * @example\n *\n * ```jsx\n * const CUSTOM_COLORS = [ { name: 'Red', slug: 'red', color: '#ff0000' }, { name: 'Blue', slug: 'blue', color: '#0000ff' } ];\n * const withCustomColors = createCustomColorsHOC( CUSTOM_COLORS );\n * // ...\n * export default compose(\n *     withCustomColors( 'backgroundColor', 'borderColor' ),\n *     MyColorfulComponent,\n * );\n * ```\n *\n * @param {Array} colorsArray The array of color objects (name, slug, color, etc... ).\n *\n * @return {Function} Higher-order component.\n */\nexport function createCustomColorsHOC( colorsArray ) {\n\treturn ( ...colorTypes ) => {\n\t\tconst withColorPalette = withCustomColorPalette( colorsArray );\n\t\treturn createHigherOrderComponent(\n\t\t\tcreateColorHOC( colorTypes, withColorPalette ),\n\t\t\t'withCustomColors'\n\t\t);\n\t};\n}\n\n/**\n * A higher-order component, which handles color logic for class generation color value, retrieval and color attribute setting.\n *\n * For use with the default editor/theme color palette.\n *\n * @example\n *\n * ```jsx\n * export default compose(\n *     withColors( 'backgroundColor', { textColor: 'color' } ),\n *     MyColorfulComponent,\n * );\n * ```\n *\n * @param {...(Object|string)} colorTypes The arguments can be strings or objects. If the argument is an object,\n *                                        it should contain the color attribute name as key and the color context as value.\n *                                        If the argument is a string the value should be the color attribute name,\n *                                        the color context is computed by applying a kebab case transform to the value.\n *                                        Color context represents the context/place where the color is going to be used.\n *                                        The class name of the color is generated using 'has' followed by the color name\n *                                        and ending with the color context all in kebab case e.g: has-green-background-color.\n *\n * @return {Function} Higher-order component.\n */\nexport default function withColors( ...colorTypes ) {\n\tconst withColorPalette = withEditorColorPalette();\n\treturn createHigherOrderComponent(\n\t\tcreateColorHOC( colorTypes, withColorPalette ),\n\t\t'withColors'\n\t);\n}\n","/**\n * External dependencies\n */\nimport tinycolor from 'tinycolor2';\n\n/**\n * WordPress dependencies\n */\nimport { speak } from '@wordpress/a11y';\nimport { __ } from '@wordpress/i18n';\nimport { Notice } from '@wordpress/components';\nimport { useEffect } from '@wordpress/element';\n\nfunction ContrastCheckerMessage( {\n\ttinyBackgroundColor,\n\ttinyTextColor,\n\tbackgroundColor,\n\ttextColor,\n} ) {\n\tconst msg =\n\t\ttinyBackgroundColor.getBrightness() < tinyTextColor.getBrightness()\n\t\t\t? __(\n\t\t\t\t\t'This color combination may be hard for people to read. Try using a darker background color and/or a brighter text color.'\n\t\t\t  )\n\t\t\t: __(\n\t\t\t\t\t'This color combination may be hard for people to read. Try using a brighter background color and/or a darker text color.'\n\t\t\t  );\n\n\t// Note: The `Notice` component can speak messages via its `spokenMessage`\n\t// prop, but the contrast checker requires granular control over when the\n\t// announcements are made. Notably, the message will be re-announced if a\n\t// new color combination is selected and the contrast is still insufficient.\n\tuseEffect( () => {\n\t\tspeak( __( 'This color combination may be hard for people to read.' ) );\n\t}, [ backgroundColor, textColor ] );\n\n\treturn (\n\t\t<div className=\"block-editor-contrast-checker\">\n\t\t\t<Notice\n\t\t\t\tspokenMessage={ null }\n\t\t\t\tstatus=\"warning\"\n\t\t\t\tisDismissible={ false }\n\t\t\t>\n\t\t\t\t{ msg }\n\t\t\t</Notice>\n\t\t</div>\n\t);\n}\n\nfunction ContrastChecker( {\n\tbackgroundColor,\n\tfallbackBackgroundColor,\n\tfallbackTextColor,\n\tfontSize, // font size value in pixels\n\tisLargeText,\n\ttextColor,\n} ) {\n\tif (\n\t\t! ( backgroundColor || fallbackBackgroundColor ) ||\n\t\t! ( textColor || fallbackTextColor )\n\t) {\n\t\treturn null;\n\t}\n\tconst tinyBackgroundColor = tinycolor(\n\t\tbackgroundColor || fallbackBackgroundColor\n\t);\n\tconst tinyTextColor = tinycolor( textColor || fallbackTextColor );\n\tconst hasTransparency =\n\t\ttinyBackgroundColor.getAlpha() !== 1 || tinyTextColor.getAlpha() !== 1;\n\n\tif (\n\t\thasTransparency ||\n\t\ttinycolor.isReadable( tinyBackgroundColor, tinyTextColor, {\n\t\t\tlevel: 'AA',\n\t\t\tsize:\n\t\t\t\tisLargeText || ( isLargeText !== false && fontSize >= 24 )\n\t\t\t\t\t? 'large'\n\t\t\t\t\t: 'small',\n\t\t} )\n\t) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ContrastCheckerMessage\n\t\t\tbackgroundColor={ backgroundColor }\n\t\t\ttextColor={ textColor }\n\t\t\ttinyBackgroundColor={ tinyBackgroundColor }\n\t\t\ttinyTextColor={ tinyTextColor }\n\t\t/>\n\t);\n}\n\nexport default ContrastChecker;\n","/**\n * WordPress dependencies\n */\nimport { serialize, pasteHandler } from '@wordpress/blocks';\nimport { documentHasSelection } from '@wordpress/dom';\nimport { withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { getPasteEventData } from '../../utils/get-paste-event-data';\n\nfunction CopyHandler( { children, handler } ) {\n\treturn (\n\t\t<div onCopy={ handler } onCut={ handler } onPaste={ handler }>\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default compose( [\n\twithDispatch( ( dispatch, ownProps, { select } ) => {\n\t\tconst {\n\t\t\tgetBlocksByClientId,\n\t\t\tgetSelectedBlockClientIds,\n\t\t\thasMultiSelection,\n\t\t\tgetSettings,\n\t\t} = select( 'core/block-editor' );\n\t\tconst { removeBlocks, replaceBlocks } = dispatch( 'core/block-editor' );\n\t\tconst {\n\t\t\t__experimentalCanUserUseUnfilteredHTML: canUserUseUnfilteredHTML,\n\t\t} = getSettings();\n\n\t\treturn {\n\t\t\thandler( event ) {\n\t\t\t\tconst selectedBlockClientIds = getSelectedBlockClientIds();\n\n\t\t\t\tif ( selectedBlockClientIds.length === 0 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Always handle multiple selected blocks.\n\t\t\t\t// Let native copy behaviour take over in input fields.\n\t\t\t\tif ( ! hasMultiSelection() && documentHasSelection() ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif ( event.type === 'copy' || event.type === 'cut' ) {\n\t\t\t\t\tconst blocks = getBlocksByClientId(\n\t\t\t\t\t\tselectedBlockClientIds\n\t\t\t\t\t);\n\t\t\t\t\tconst serialized = serialize( blocks );\n\n\t\t\t\t\tevent.clipboardData.setData( 'text/plain', serialized );\n\t\t\t\t\tevent.clipboardData.setData( 'text/html', serialized );\n\t\t\t\t}\n\n\t\t\t\tif ( event.type === 'cut' ) {\n\t\t\t\t\tremoveBlocks( selectedBlockClientIds );\n\t\t\t\t} else if ( event.type === 'paste' ) {\n\t\t\t\t\tconst { plainText, html } = getPasteEventData( event );\n\t\t\t\t\tconst blocks = pasteHandler( {\n\t\t\t\t\t\tHTML: html,\n\t\t\t\t\t\tplainText,\n\t\t\t\t\t\tmode: 'BLOCKS',\n\t\t\t\t\t\tcanUserUseUnfilteredHTML,\n\t\t\t\t\t} );\n\n\t\t\t\t\treplaceBlocks( selectedBlockClientIds, blocks );\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n] )( CopyHandler );\n","/**\n * External dependencies\n */\nimport TextareaAutosize from 'react-autosize-textarea';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { compose } from '@wordpress/compose';\nimport { getDefaultBlockName } from '@wordpress/blocks';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport Inserter from '../inserter';\n\nexport function DefaultBlockAppender( {\n\tisLocked,\n\tisVisible,\n\tonAppend,\n\tshowPrompt,\n\tplaceholder,\n\trootClientId,\n} ) {\n\tif ( isLocked || ! isVisible ) {\n\t\treturn null;\n\t}\n\n\tconst value =\n\t\tdecodeEntities( placeholder ) ||\n\t\t__( 'Start writing or type / to choose a block' );\n\n\t// The appender \"button\" is in-fact a text field so as to support\n\t// transitions by WritingFlow occurring by arrow key press. WritingFlow\n\t// only supports tab transitions into text fields and to the block focus\n\t// boundary.\n\t//\n\t// See: https://github.com/WordPress/gutenberg/issues/4829#issuecomment-374213658\n\t//\n\t// If it were ever to be made to be a proper `button` element, it is\n\t// important to note that `onFocus` alone would not be sufficient to\n\t// capture click events, notably in Firefox.\n\t//\n\t// See: https://gist.github.com/cvrebert/68659d0333a578d75372\n\n\t// The wp-block className is important for editor styles.\n\n\treturn (\n\t\t<div\n\t\t\tdata-root-client-id={ rootClientId || '' }\n\t\t\tclassName=\"wp-block block-editor-default-block-appender\"\n\t\t>\n\t\t\t<TextareaAutosize\n\t\t\t\trole=\"button\"\n\t\t\t\taria-label={ __( 'Add block' ) }\n\t\t\t\tclassName=\"block-editor-default-block-appender__content\"\n\t\t\t\treadOnly\n\t\t\t\tonFocus={ onAppend }\n\t\t\t\tvalue={ showPrompt ? value : '' }\n\t\t\t/>\n\t\t\t<Inserter\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tposition=\"top right\"\n\t\t\t\tisAppender\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select, ownProps ) => {\n\t\tconst {\n\t\t\tgetBlockCount,\n\t\t\tgetBlockName,\n\t\t\tisBlockValid,\n\t\t\tgetSettings,\n\t\t\tgetTemplateLock,\n\t\t} = select( 'core/block-editor' );\n\n\t\tconst isEmpty = ! getBlockCount( ownProps.rootClientId );\n\t\tconst isLastBlockDefault =\n\t\t\tgetBlockName( ownProps.lastBlockClientId ) ===\n\t\t\tgetDefaultBlockName();\n\t\tconst isLastBlockValid = isBlockValid( ownProps.lastBlockClientId );\n\t\tconst { bodyPlaceholder } = getSettings();\n\n\t\treturn {\n\t\t\tisVisible: isEmpty || ! isLastBlockDefault || ! isLastBlockValid,\n\t\t\tshowPrompt: isEmpty,\n\t\t\tisLocked: !! getTemplateLock( ownProps.rootClientId ),\n\t\t\tplaceholder: bodyPlaceholder,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => {\n\t\tconst { insertDefaultBlock, startTyping } = dispatch(\n\t\t\t'core/block-editor'\n\t\t);\n\n\t\treturn {\n\t\t\tonAppend() {\n\t\t\t\tconst { rootClientId } = ownProps;\n\n\t\t\t\tinsertDefaultBlock( undefined, rootClientId );\n\t\t\t\tstartTyping();\n\t\t\t},\n\t\t};\n\t} )\n)( DefaultBlockAppender );\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { SelectControl } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\nexport default function DefaultStylePicker( { blockName } ) {\n\tconst {\n\t\tpreferredStyle,\n\t\tonUpdatePreferredStyleVariations,\n\t\tstyles,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst settings = select( 'core/block-editor' ).getSettings();\n\t\t\tconst preferredStyleVariations =\n\t\t\t\tsettings.__experimentalPreferredStyleVariations;\n\t\t\treturn {\n\t\t\t\tpreferredStyle: get( preferredStyleVariations, [\n\t\t\t\t\t'value',\n\t\t\t\t\tblockName,\n\t\t\t\t] ),\n\t\t\t\tonUpdatePreferredStyleVariations: get(\n\t\t\t\t\tpreferredStyleVariations,\n\t\t\t\t\t[ 'onChange' ],\n\t\t\t\t\tnull\n\t\t\t\t),\n\t\t\t\tstyles: select( 'core/blocks' ).getBlockStyles( blockName ),\n\t\t\t};\n\t\t},\n\t\t[ blockName ]\n\t);\n\tconst selectOptions = useMemo(\n\t\t() => [\n\t\t\t{ label: __( 'Not set' ), value: '' },\n\t\t\t...styles.map( ( { label, name } ) => ( { label, value: name } ) ),\n\t\t],\n\t\t[ styles ]\n\t);\n\tconst selectOnChange = useCallback(\n\t\t( blockStyle ) => {\n\t\t\tonUpdatePreferredStyleVariations( blockName, blockStyle );\n\t\t},\n\t\t[ blockName, onUpdatePreferredStyleVariations ]\n\t);\n\n\treturn (\n\t\tonUpdatePreferredStyleVariations && (\n\t\t\t<SelectControl\n\t\t\t\toptions={ selectOptions }\n\t\t\t\tvalue={ preferredStyle || '' }\n\t\t\t\tlabel={ __( 'Default Style' ) }\n\t\t\t\tonChange={ selectOnChange }\n\t\t\t/>\n\t\t)\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { navigateRegions } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nfunction useHTMLClass( className ) {\n\tuseEffect( () => {\n\t\tconst element =\n\t\t\tdocument && document.querySelector( `html:not(.${ className })` );\n\t\tif ( ! element ) {\n\t\t\treturn;\n\t\t}\n\t\telement.classList.toggle( className );\n\t\treturn () => {\n\t\t\telement.classList.toggle( className );\n\t\t};\n\t}, [ className ] );\n}\n\nfunction EditorSkeleton( {\n\tfooter,\n\theader,\n\tsidebar,\n\tcontent,\n\tpublish,\n\tclassName,\n} ) {\n\tuseHTMLClass( 'block-editor-editor-skeleton__html-container' );\n\treturn (\n\t\t<div\n\t\t\tclassName={ classnames(\n\t\t\t\tclassName,\n\t\t\t\t'block-editor-editor-skeleton'\n\t\t\t) }\n\t\t>\n\t\t\t{ !! header && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"block-editor-editor-skeleton__header\"\n\t\t\t\t\trole=\"region\"\n\t\t\t\t\t/* translators: accessibility text for the top bar landmark region. */\n\t\t\t\t\taria-label={ __( 'Editor top bar' ) }\n\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t>\n\t\t\t\t\t{ header }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<div className=\"block-editor-editor-skeleton__body\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"block-editor-editor-skeleton__content\"\n\t\t\t\t\trole=\"region\"\n\t\t\t\t\t/* translators: accessibility text for the content landmark region. */\n\t\t\t\t\taria-label={ __( 'Editor content' ) }\n\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t>\n\t\t\t\t\t{ content }\n\t\t\t\t</div>\n\t\t\t\t{ !! sidebar && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"block-editor-editor-skeleton__sidebar\"\n\t\t\t\t\t\trole=\"region\"\n\t\t\t\t\t\t/* translators: accessibility text for the settings landmark region. */\n\t\t\t\t\t\taria-label={ __( 'Editor settings' ) }\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ sidebar }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t{ !! publish && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"block-editor-editor-skeleton__publish\"\n\t\t\t\t\t\trole=\"region\"\n\t\t\t\t\t\t/* translators: accessibility text for the publish landmark region. */\n\t\t\t\t\t\taria-label={ __( 'Editor publish' ) }\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ publish }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t{ !! footer && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"block-editor-editor-skeleton__footer\"\n\t\t\t\t\trole=\"region\"\n\t\t\t\t\t/* translators: accessibility text for the footer landmark region. */\n\t\t\t\t\taria-label={ __( 'Editor footer' ) }\n\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t>\n\t\t\t\t\t{ footer }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default navigateRegions( EditorSkeleton );\n","/**\n * WordPress dependencies\n */\nimport { FontSizePicker } from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\n\nexport default withSelect( ( select ) => {\n\tconst { disableCustomFontSizes, fontSizes } = select(\n\t\t'core/block-editor'\n\t).getSettings();\n\n\treturn {\n\t\tdisableCustomFontSizes,\n\t\tfontSizes,\n\t};\n} )( FontSizePicker );\n","export { getFontSize, getFontSizeClass } from './utils';\nexport { default as FontSizePicker } from './font-size-picker';\nexport { default as withFontSizes } from './with-font-sizes';\n","/**\n * External dependencies\n */\nimport { find, kebabCase } from 'lodash';\n\n/**\n *  Returns the font size object based on an array of named font sizes and the namedFontSize and customFontSize values.\n * \tIf namedFontSize is undefined or not found in fontSizes an object with just the size value based on customFontSize is returned.\n *\n * @param {Array}   fontSizes               Array of font size objects containing at least the \"name\" and \"size\" values as properties.\n * @param {?string} fontSizeAttribute       Content of the font size attribute (slug).\n * @param {?number} customFontSizeAttribute Contents of the custom font size attribute (value).\n *\n * @return {?string} If fontSizeAttribute is set and an equal slug is found in fontSizes it returns the font size object for that slug.\n * \t\t\t\t\t Otherwise, an object with just the size value based on customFontSize is returned.\n */\nexport const getFontSize = (\n\tfontSizes,\n\tfontSizeAttribute,\n\tcustomFontSizeAttribute\n) => {\n\tif ( fontSizeAttribute ) {\n\t\tconst fontSizeObject = find( fontSizes, { slug: fontSizeAttribute } );\n\t\tif ( fontSizeObject ) {\n\t\t\treturn fontSizeObject;\n\t\t}\n\t}\n\treturn {\n\t\tsize: customFontSizeAttribute,\n\t};\n};\n\n/**\n * Returns a class based on fontSizeName.\n *\n * @param {string} fontSizeSlug    Slug of the fontSize.\n *\n * @return {string} String with the class corresponding to the fontSize passed.\n *                  The class is generated by appending 'has-' followed by fontSizeSlug in kebabCase and ending with '-font-size'.\n */\nexport function getFontSizeClass( fontSizeSlug ) {\n\tif ( ! fontSizeSlug ) {\n\t\treturn;\n\t}\n\n\treturn `has-${ kebabCase( fontSizeSlug ) }-font-size`;\n}\n","/**\n * External dependencies\n */\nimport { find, pickBy, reduce, some, upperFirst } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent, compose } from '@wordpress/compose';\nimport { Component } from '@wordpress/element';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { getFontSize, getFontSizeClass } from './utils';\n\n/**\n * Higher-order component, which handles font size logic for class generation,\n * font size value retrieval, and font size change handling.\n *\n * @param {...(Object|string)} fontSizeNames The arguments should all be strings.\n *                                           Each string contains the font size\n *                                           attribute name e.g: 'fontSize'.\n *\n * @return {Function} Higher-order component.\n */\nexport default ( ...fontSizeNames ) => {\n\t/*\n\t * Computes an object whose key is the font size attribute name as passed in the array,\n\t * and the value is the custom font size attribute name.\n\t * Custom font size is automatically compted by appending custom followed by the font size attribute name in with the first letter capitalized.\n\t */\n\tconst fontSizeAttributeNames = reduce(\n\t\tfontSizeNames,\n\t\t( fontSizeAttributeNamesAccumulator, fontSizeAttributeName ) => {\n\t\t\tfontSizeAttributeNamesAccumulator[\n\t\t\t\tfontSizeAttributeName\n\t\t\t] = `custom${ upperFirst( fontSizeAttributeName ) }`;\n\t\t\treturn fontSizeAttributeNamesAccumulator;\n\t\t},\n\t\t{}\n\t);\n\n\treturn createHigherOrderComponent(\n\t\tcompose( [\n\t\t\twithSelect( ( select ) => {\n\t\t\t\tconst { fontSizes } = select(\n\t\t\t\t\t'core/block-editor'\n\t\t\t\t).getSettings();\n\t\t\t\treturn {\n\t\t\t\t\tfontSizes,\n\t\t\t\t};\n\t\t\t} ),\n\t\t\t( WrappedComponent ) => {\n\t\t\t\treturn class extends Component {\n\t\t\t\t\tconstructor( props ) {\n\t\t\t\t\t\tsuper( props );\n\n\t\t\t\t\t\tthis.setters = this.createSetters();\n\n\t\t\t\t\t\tthis.state = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tcreateSetters() {\n\t\t\t\t\t\treturn reduce(\n\t\t\t\t\t\t\tfontSizeAttributeNames,\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tsettersAccumulator,\n\t\t\t\t\t\t\t\tcustomFontSizeAttributeName,\n\t\t\t\t\t\t\t\tfontSizeAttributeName\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\tconst upperFirstFontSizeAttributeName = upperFirst(\n\t\t\t\t\t\t\t\t\tfontSizeAttributeName\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tsettersAccumulator[\n\t\t\t\t\t\t\t\t\t`set${ upperFirstFontSizeAttributeName }`\n\t\t\t\t\t\t\t\t] = this.createSetFontSize(\n\t\t\t\t\t\t\t\t\tfontSizeAttributeName,\n\t\t\t\t\t\t\t\t\tcustomFontSizeAttributeName\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn settersAccumulator;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tcreateSetFontSize(\n\t\t\t\t\t\tfontSizeAttributeName,\n\t\t\t\t\t\tcustomFontSizeAttributeName\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn ( fontSizeValue ) => {\n\t\t\t\t\t\t\tconst fontSizeObject = find( this.props.fontSizes, {\n\t\t\t\t\t\t\t\tsize: Number( fontSizeValue ),\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tthis.props.setAttributes( {\n\t\t\t\t\t\t\t\t[ fontSizeAttributeName ]:\n\t\t\t\t\t\t\t\t\tfontSizeObject && fontSizeObject.slug\n\t\t\t\t\t\t\t\t\t\t? fontSizeObject.slug\n\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t[ customFontSizeAttributeName ]:\n\t\t\t\t\t\t\t\t\tfontSizeObject && fontSizeObject.slug\n\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t: fontSizeValue,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tstatic getDerivedStateFromProps(\n\t\t\t\t\t\t{ attributes, fontSizes },\n\t\t\t\t\t\tpreviousState\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst didAttributesChange = (\n\t\t\t\t\t\t\tcustomFontSizeAttributeName,\n\t\t\t\t\t\t\tfontSizeAttributeName\n\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\tif ( previousState[ fontSizeAttributeName ] ) {\n\t\t\t\t\t\t\t\t// if new font size is name compare with the previous slug\n\t\t\t\t\t\t\t\tif ( attributes[ fontSizeAttributeName ] ) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\tattributes[ fontSizeAttributeName ] !==\n\t\t\t\t\t\t\t\t\t\tpreviousState[ fontSizeAttributeName ]\n\t\t\t\t\t\t\t\t\t\t\t.slug\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// if font size is not named, update when the font size value changes.\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\tpreviousState[ fontSizeAttributeName ]\n\t\t\t\t\t\t\t\t\t\t.size !==\n\t\t\t\t\t\t\t\t\tattributes[ customFontSizeAttributeName ]\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// in this case we need to build the font size object\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t! some(\n\t\t\t\t\t\t\t\tfontSizeAttributeNames,\n\t\t\t\t\t\t\t\tdidAttributesChange\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst newState = reduce(\n\t\t\t\t\t\t\tpickBy(\n\t\t\t\t\t\t\t\tfontSizeAttributeNames,\n\t\t\t\t\t\t\t\tdidAttributesChange\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tnewStateAccumulator,\n\t\t\t\t\t\t\t\tcustomFontSizeAttributeName,\n\t\t\t\t\t\t\t\tfontSizeAttributeName\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\tconst fontSizeAttributeValue =\n\t\t\t\t\t\t\t\t\tattributes[ fontSizeAttributeName ];\n\t\t\t\t\t\t\t\tconst fontSizeObject = getFontSize(\n\t\t\t\t\t\t\t\t\tfontSizes,\n\t\t\t\t\t\t\t\t\tfontSizeAttributeValue,\n\t\t\t\t\t\t\t\t\tattributes[ customFontSizeAttributeName ]\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tnewStateAccumulator[ fontSizeAttributeName ] = {\n\t\t\t\t\t\t\t\t\t...fontSizeObject,\n\t\t\t\t\t\t\t\t\tclass: getFontSizeClass(\n\t\t\t\t\t\t\t\t\t\tfontSizeAttributeValue\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\treturn newStateAccumulator;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...previousState,\n\t\t\t\t\t\t\t...newState,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\trender() {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<WrappedComponent\n\t\t\t\t\t\t\t\t{ ...{\n\t\t\t\t\t\t\t\t\t...this.props,\n\t\t\t\t\t\t\t\t\tfontSizes: undefined,\n\t\t\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\t\t\t...this.setters,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\t\t] ),\n\t\t'withFontSizes'\n\t);\n};\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { isEmpty, pick } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { BaseControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport GradientPicker from './';\n\nexport default function( {\n\tclassName,\n\tvalue,\n\tonChange,\n\tlabel = __( 'Gradient Presets' ),\n\t...props\n} ) {\n\tconst { gradients = [], disableCustomGradients } = useSelect(\n\t\t( select ) =>\n\t\t\tpick( select( 'core/block-editor' ).getSettings(), [\n\t\t\t\t'gradients',\n\t\t\t\t'disableCustomGradients',\n\t\t\t] ),\n\t\t[]\n\t);\n\tif ( isEmpty( gradients ) && disableCustomGradients ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<BaseControl\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-gradient-picker-control',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t>\n\t\t\t<BaseControl.VisualLabel>{ label }</BaseControl.VisualLabel>\n\t\t\t<GradientPicker\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tclassName=\"block-editor-gradient-picker-control__gradient-picker-presets\"\n\t\t\t\tgradients={ gradients }\n\t\t\t\tdisableCustomGradients={ disableCustomGradients }\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t</BaseControl>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { pick } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalGradientPicker } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\nfunction GradientPickerWithGradients( props ) {\n\tconst { gradients, disableCustomGradients } = useSelect(\n\t\t( select ) =>\n\t\t\tpick( select( 'core/block-editor' ).getSettings(), [\n\t\t\t\t'gradients',\n\t\t\t\t'disableCustomGradients',\n\t\t\t] ),\n\t\t[]\n\t);\n\treturn (\n\t\t<__experimentalGradientPicker\n\t\t\tgradients={\n\t\t\t\tprops.gradients !== undefined ? props.gradient : gradients\n\t\t\t}\n\t\t\tdisableCustomGradients={\n\t\t\t\tprops.disableCustomGradients !== undefined\n\t\t\t\t\t? props.disableCustomGradients\n\t\t\t\t\t: disableCustomGradients\n\t\t\t}\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n\nexport default function( props ) {\n\tconst ComponentToUse =\n\t\tprops.gradients !== undefined &&\n\t\tprops.disableCustomGradients !== undefined\n\t\t\t? __experimentalGradientPicker\n\t\t\t: GradientPickerWithGradients;\n\treturn <ComponentToUse { ...props } />;\n}\n","/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport GradientPicker from './control';\n\nexport default function GradientPanel( props ) {\n\tconst gradients = useSelect(\n\t\t( select ) => select( 'core/block-editor' ).getSettings().gradients,\n\t\t[]\n\t);\n\tif ( isEmpty( gradients ) ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<PanelBody title={ __( 'Gradient' ) }>\n\t\t\t<GradientPicker { ...props } />\n\t\t</PanelBody>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { find } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { useBlockEditContext } from '../block-edit';\n\nexport function __experimentalGetGradientClass( gradientSlug ) {\n\tif ( ! gradientSlug ) {\n\t\treturn undefined;\n\t}\n\treturn `has-${ gradientSlug }-gradient-background`;\n}\n\nfunction getGradientValueBySlug( gradients, slug ) {\n\tconst gradient = find( gradients, [ 'slug', slug ] );\n\treturn gradient && gradient.gradient;\n}\n\nexport function __experimentalGetGradientObjectByGradientValue(\n\tgradients,\n\tvalue\n) {\n\tconst gradient = find( gradients, [ 'gradient', value ] );\n\treturn gradient;\n}\n\nfunction getGradientSlugByValue( gradients, value ) {\n\tconst gradient = __experimentalGetGradientObjectByGradientValue(\n\t\tgradients,\n\t\tvalue\n\t);\n\treturn gradient && gradient.slug;\n}\n\nexport function __experimentalUseGradient( {\n\tgradientAttribute = 'gradient',\n\tcustomGradientAttribute = 'customGradient',\n} = {} ) {\n\tconst { clientId } = useBlockEditContext();\n\n\tconst { gradients, gradient, customGradient } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockAttributes, getSettings } = select(\n\t\t\t\t'core/block-editor'\n\t\t\t);\n\t\t\tconst attributes = getBlockAttributes( clientId );\n\t\t\treturn {\n\t\t\t\tgradient: attributes[ gradientAttribute ],\n\t\t\t\tcustomGradient: attributes[ customGradientAttribute ],\n\t\t\t\tgradients: getSettings().gradients,\n\t\t\t};\n\t\t},\n\t\t[ clientId, gradientAttribute, customGradientAttribute ]\n\t);\n\n\tconst { updateBlockAttributes } = useDispatch( 'core/block-editor' );\n\tconst setGradient = useCallback(\n\t\t( newGradientValue ) => {\n\t\t\tconst slug = getGradientSlugByValue( gradients, newGradientValue );\n\t\t\tif ( slug ) {\n\t\t\t\tupdateBlockAttributes( clientId, {\n\t\t\t\t\t[ gradientAttribute ]: slug,\n\t\t\t\t\t[ customGradientAttribute ]: undefined,\n\t\t\t\t} );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tupdateBlockAttributes( clientId, {\n\t\t\t\t[ gradientAttribute ]: undefined,\n\t\t\t\t[ customGradientAttribute ]: newGradientValue,\n\t\t\t} );\n\t\t},\n\t\t[ gradients, clientId, updateBlockAttributes ]\n\t);\n\n\tconst gradientClass = __experimentalGetGradientClass( gradient );\n\tlet gradientValue;\n\tif ( gradient ) {\n\t\tgradientValue = getGradientValueBySlug( gradients, gradient );\n\t} else {\n\t\tgradientValue = customGradient;\n\t}\n\treturn { gradientClass, gradientValue, setGradient };\n}\n","/**\n * External dependencies\n */\nimport { isEmpty, noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tButtonGroup,\n\tSelectControl,\n\tTextControl,\n} from '@wordpress/components';\nimport { Component } from '@wordpress/element';\n\nclass ImageSizeControl extends Component {\n\t/**\n\t * Run additional operations during component initialization.\n\t *\n\t * @param {Object} props\n\t */\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.updateDimensions = this.updateDimensions.bind( this );\n\t}\n\n\tupdateDimensions( width = undefined, height = undefined ) {\n\t\treturn () => {\n\t\t\tthis.props.onChange( { width, height } );\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\timageWidth,\n\t\t\timageHeight,\n\t\t\timageSizeOptions = [],\n\t\t\tisResizable = true,\n\t\t\tslug,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tonChange,\n\t\t\tonChangeImage = noop,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ ! isEmpty( imageSizeOptions ) && (\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Image size' ) }\n\t\t\t\t\t\tvalue={ slug }\n\t\t\t\t\t\toptions={ imageSizeOptions }\n\t\t\t\t\t\tonChange={ onChangeImage }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ isResizable && (\n\t\t\t\t\t<div className=\"block-editor-image-size-control\">\n\t\t\t\t\t\t<p className=\"block-editor-image-size-control__row\">\n\t\t\t\t\t\t\t{ __( 'Image dimensions' ) }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div className=\"block-editor-image-size-control__row\">\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclassName=\"block-editor-image-size-control__width\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\t\t\t\tvalue={ width || imageWidth || '' }\n\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tonChange( { width: parseInt( value, 10 ) } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclassName=\"block-editor-image-size-control__height\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\t\t\t\t\tvalue={ height || imageHeight || '' }\n\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t\t\theight: parseInt( value, 10 ),\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"block-editor-image-size-control__row\">\n\t\t\t\t\t\t\t<ButtonGroup aria-label={ __( 'Image Size' ) }>\n\t\t\t\t\t\t\t\t{ [ 25, 50, 75, 100 ].map( ( scale ) => {\n\t\t\t\t\t\t\t\t\tconst scaledWidth = Math.round(\n\t\t\t\t\t\t\t\t\t\timageWidth * ( scale / 100 )\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tconst scaledHeight = Math.round(\n\t\t\t\t\t\t\t\t\t\timageHeight * ( scale / 100 )\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tconst isCurrent =\n\t\t\t\t\t\t\t\t\t\twidth === scaledWidth &&\n\t\t\t\t\t\t\t\t\t\theight === scaledHeight;\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tkey={ scale }\n\t\t\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\t\t\tisPrimary={ isCurrent }\n\t\t\t\t\t\t\t\t\t\t\tisPressed={ isCurrent }\n\t\t\t\t\t\t\t\t\t\t\tonClick={ this.updateDimensions(\n\t\t\t\t\t\t\t\t\t\t\t\tscaledWidth,\n\t\t\t\t\t\t\t\t\t\t\t\tscaledHeight\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ scale }%\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t<Button isSmall onClick={ this.updateDimensions() }>\n\t\t\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default ImageSizeControl;\n","/*\n * Block Creation Components\n */\n\nexport * from './colors';\nexport * from './gradients';\nexport * from './font-sizes';\nexport { default as AlignmentToolbar } from './alignment-toolbar';\nexport { default as Autocomplete } from './autocomplete';\nexport { default as BlockAlignmentToolbar } from './block-alignment-toolbar';\nexport { default as BlockBreadcrumb } from './block-breadcrumb';\nexport { default as BlockControls } from './block-controls';\nexport { default as BlockEdit, useBlockEditContext } from './block-edit';\nexport { default as BlockFormatControls } from './block-format-controls';\nexport { default as BlockIcon } from './block-icon';\nexport { default as BlockNavigationDropdown } from './block-navigation/dropdown';\nexport { default as __experimentalBlockNavigationList } from './block-navigation/list';\nexport { default as __experimentalBlockVariationPicker } from './block-variation-picker';\nexport { default as BlockVerticalAlignmentToolbar } from './block-vertical-alignment-toolbar';\nexport { default as ButtonBlockerAppender } from './button-block-appender';\nexport { default as ColorPalette } from './color-palette';\nexport { default as ColorPaletteControl } from './color-palette/control';\nexport { default as ContrastChecker } from './contrast-checker';\nexport { default as __experimentalEditorSkeleton } from './editor-skeleton';\nexport { default as __experimentalGradientPicker } from './gradient-picker';\nexport { default as __experimentalGradientPickerControl } from './gradient-picker/control';\nexport { default as __experimentalGradientPickerPanel } from './gradient-picker/panel';\nexport { default as __experimentalColorGradientControl } from './colors-gradients/control';\nexport { default as __experimentalPanelColorGradientSettings } from './colors-gradients/panel-color-gradient-settings';\nexport { default as __experimentalImageSizeControl } from './image-size-control';\nexport { default as InnerBlocks } from './inner-blocks';\nexport { default as InspectorAdvancedControls } from './inspector-advanced-controls';\nexport { default as InspectorControls } from './inspector-controls';\nexport { default as __experimentalLinkControl } from './link-control';\nexport { default as MediaReplaceFlow } from './media-replace-flow';\nexport { default as MediaPlaceholder } from './media-placeholder';\nexport { default as MediaUpload } from './media-upload';\nexport { default as MediaUploadCheck } from './media-upload/check';\nexport { default as PanelColorSettings } from './panel-color-settings';\nexport { default as PlainText } from './plain-text';\nexport { default as __experimentalResponsiveBlockControl } from './responsive-block-control';\nexport {\n\tdefault as RichText,\n\tRichTextShortcut,\n\tRichTextToolbarButton,\n\t__unstableRichTextInputEvent,\n} from './rich-text';\nexport { default as ToolSelector } from './tool-selector';\nexport { default as URLInput } from './url-input';\nexport { default as URLInputButton } from './url-input/button';\nexport { default as URLPopover } from './url-popover';\nexport { __experimentalImageURLInputUI } from './url-popover/image-url-input-ui';\nexport { default as withColorContext } from './color-palette/with-color-context';\n\n/*\n * Content Related Components\n */\n\nexport { default as __experimentalBlockListFooter } from './block-list-footer';\nexport { default as __experimentalBlockSettingsMenuFirstItem } from './block-settings-menu/block-settings-menu-first-item';\nexport { default as __experimentalBlockSettingsMenuPluginsExtension } from './block-settings-menu/block-settings-menu-plugins-extension';\nexport { default as __experimentalInserterMenuExtension } from './inserter-menu-extension';\nexport {\n\t__experimentalPageTemplatePicker,\n\t__experimentalWithPageTemplatePickerVisible,\n\t__experimentalUsePageTemplatePickerVisible,\n} from './page-template-picker';\nexport { default as BlockInspector } from './block-inspector';\nexport { default as BlockList } from './block-list';\nexport { default as BlockMover } from './block-mover';\nexport { default as BlockPreview } from './block-preview';\nexport { default as BlockSelectionClearer } from './block-selection-clearer';\nexport { default as BlockSettingsMenu } from './block-settings-menu';\nexport { default as BlockTitle } from './block-title';\nexport { default as BlockToolbar } from './block-toolbar';\nexport { default as CopyHandler } from './copy-handler';\nexport { default as DefaultBlockAppender } from './default-block-appender';\nexport { default as Inserter } from './inserter';\nexport { default as MultiBlocksSwitcher } from './block-switcher/multi-blocks-switcher';\nexport { default as BlockEditorKeyboardShortcuts } from './keyboard-shortcuts';\nexport { default as MultiSelectScrollIntoView } from './multi-select-scroll-into-view';\nexport { default as NavigableToolbar } from './navigable-toolbar';\nexport { default as ObserveTyping } from './observe-typing';\nexport { default as PreserveScrollInReorder } from './preserve-scroll-in-reorder';\nexport { default as SkipToSelectedBlock } from './skip-to-selected-block';\nexport { default as Typewriter } from './typewriter';\nexport { default as Warning } from './warning';\nexport { default as WritingFlow } from './writing-flow';\n\n/*\n * State Related Components\n */\n\nexport { default as BlockEditorProvider } from './provider';\n","/**\n * Internal dependencies\n */\nimport BaseButtonBlockAppender from '../button-block-appender';\nimport withClientId from './with-client-id';\n\nexport const ButtonBlockAppender = ( { clientId, showSeparator } ) => {\n\treturn (\n\t\t<BaseButtonBlockAppender\n\t\t\trootClientId={ clientId }\n\t\t\tshowSeparator={ showSeparator }\n\t\t/>\n\t);\n};\n\nexport default withClientId( ButtonBlockAppender );\n","/**\n * External dependencies\n */\nimport { last } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BaseDefaultBlockAppender from '../default-block-appender';\nimport withClientId from './with-client-id';\n\nexport const DefaultBlockAppender = ( { clientId, lastBlockClientId } ) => {\n\treturn (\n\t\t<BaseDefaultBlockAppender\n\t\t\trootClientId={ clientId }\n\t\t\tlastBlockClientId={ lastBlockClientId }\n\t\t/>\n\t);\n};\n\nexport default compose( [\n\twithClientId,\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst { getBlockOrder } = select( 'core/block-editor' );\n\n\t\tconst blockClientIds = getBlockOrder( clientId );\n\n\t\treturn {\n\t\t\tlastBlockClientId: last( blockClientIds ),\n\t\t};\n\t} ),\n] )( DefaultBlockAppender );\n","/**\n * External dependencies\n */\nimport { pick, isEqual } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { withViewportMatch } from '@wordpress/viewport';\nimport { Component } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport {\n\tsynchronizeBlocksWithTemplate,\n\twithBlockContentContext,\n} from '@wordpress/blocks';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport ButtonBlockAppender from './button-block-appender';\nimport DefaultBlockAppender from './default-block-appender';\n\n/**\n * Internal dependencies\n */\nimport BlockList from '../block-list';\nimport { withBlockEditContext } from '../block-edit/context';\n\nclass InnerBlocks extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\ttemplateInProcess: !! this.props.template,\n\t\t};\n\t\tthis.updateNestedSettings();\n\t}\n\n\tcomponentDidMount() {\n\t\tconst {\n\t\t\tblock,\n\t\t\ttemplateLock,\n\t\t\t__experimentalBlocks,\n\t\t\treplaceInnerBlocks,\n\t\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\t} = this.props;\n\t\tconst { innerBlocks } = block;\n\t\t// Only synchronize innerBlocks with template if innerBlocks are empty or a locking all exists directly on the block.\n\t\tif ( innerBlocks.length === 0 || templateLock === 'all' ) {\n\t\t\tthis.synchronizeBlocksWithTemplate();\n\t\t}\n\n\t\tif ( this.state.templateInProcess ) {\n\t\t\tthis.setState( {\n\t\t\t\ttemplateInProcess: false,\n\t\t\t} );\n\t\t}\n\n\t\t// Set controlled blocks value from parent, if any.\n\t\tif ( __experimentalBlocks ) {\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\treplaceInnerBlocks( __experimentalBlocks );\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst {\n\t\t\tblock,\n\t\t\ttemplateLock,\n\t\t\ttemplate,\n\t\t\tisLastBlockChangePersistent,\n\t\t\tonInput,\n\t\t\tonChange,\n\t\t} = this.props;\n\t\tconst { innerBlocks } = block;\n\n\t\tthis.updateNestedSettings();\n\t\t// Only synchronize innerBlocks with template if innerBlocks are empty or a locking all exists directly on the block.\n\t\tif ( innerBlocks.length === 0 || templateLock === 'all' ) {\n\t\t\tconst hasTemplateChanged = ! isEqual(\n\t\t\t\ttemplate,\n\t\t\t\tprevProps.template\n\t\t\t);\n\t\t\tif ( hasTemplateChanged ) {\n\t\t\t\tthis.synchronizeBlocksWithTemplate();\n\t\t\t}\n\t\t}\n\n\t\t// Sync with controlled blocks value from parent, if possible.\n\t\tif ( prevProps.block.innerBlocks !== innerBlocks ) {\n\t\t\tconst resetFunc = isLastBlockChangePersistent ? onChange : onInput;\n\t\t\tif ( resetFunc ) {\n\t\t\t\tresetFunc( innerBlocks );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Called on mount or when a mismatch exists between the templates and\n\t * inner blocks, synchronizes inner blocks with the template, replacing\n\t * current blocks.\n\t */\n\tsynchronizeBlocksWithTemplate() {\n\t\tconst { template, block, replaceInnerBlocks } = this.props;\n\t\tconst { innerBlocks } = block;\n\n\t\t// Synchronize with templates. If the next set differs, replace.\n\t\tconst nextBlocks = synchronizeBlocksWithTemplate(\n\t\t\tinnerBlocks,\n\t\t\ttemplate\n\t\t);\n\t\tif ( ! isEqual( nextBlocks, innerBlocks ) ) {\n\t\t\treplaceInnerBlocks( nextBlocks );\n\t\t}\n\t}\n\n\tupdateNestedSettings() {\n\t\tconst {\n\t\t\tblockListSettings,\n\t\t\tallowedBlocks,\n\t\t\tupdateNestedSettings,\n\t\t\ttemplateLock,\n\t\t\tparentLock,\n\t\t\t__experimentalCaptureToolbars,\n\t\t\t__experimentalMoverDirection,\n\t\t\t__experimentalUIParts,\n\t\t} = this.props;\n\n\t\tconst newSettings = {\n\t\t\tallowedBlocks,\n\t\t\ttemplateLock:\n\t\t\t\ttemplateLock === undefined ? parentLock : templateLock,\n\t\t\t__experimentalCaptureToolbars:\n\t\t\t\t__experimentalCaptureToolbars || false,\n\t\t\t__experimentalMoverDirection,\n\t\t\t__experimentalUIParts,\n\t\t};\n\n\t\tif ( ! isShallowEqual( blockListSettings, newSettings ) ) {\n\t\t\tupdateNestedSettings( newSettings );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tenableClickThrough,\n\t\t\tclientId,\n\t\t\thasOverlay,\n\t\t\t__experimentalCaptureToolbars: captureToolbars,\n\t\t\t...props\n\t\t} = this.props;\n\t\tconst { templateInProcess } = this.state;\n\n\t\tconst classes = classnames( 'block-editor-inner-blocks', {\n\t\t\t'has-overlay': enableClickThrough && hasOverlay,\n\t\t\t'is-capturing-toolbar': captureToolbars,\n\t\t} );\n\n\t\treturn (\n\t\t\t<div className={ classes }>\n\t\t\t\t{ ! templateInProcess && (\n\t\t\t\t\t<BlockList rootClientId={ clientId } { ...props } />\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nInnerBlocks = compose( [\n\twithViewportMatch( { isSmallScreen: '< medium' } ),\n\twithBlockEditContext( ( context ) => pick( context, [ 'clientId' ] ) ),\n\twithSelect( ( select, ownProps ) => {\n\t\tconst {\n\t\t\tisBlockSelected,\n\t\t\thasSelectedInnerBlock,\n\t\t\tgetBlock,\n\t\t\tgetBlockListSettings,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetTemplateLock,\n\t\t\tisNavigationMode,\n\t\t\tisLastBlockChangePersistent,\n\t\t} = select( 'core/block-editor' );\n\t\tconst { clientId, isSmallScreen } = ownProps;\n\t\tconst block = getBlock( clientId );\n\t\tconst rootClientId = getBlockRootClientId( clientId );\n\n\t\treturn {\n\t\t\tblock,\n\t\t\tblockListSettings: getBlockListSettings( clientId ),\n\t\t\thasOverlay:\n\t\t\t\tblock.name !== 'core/template' &&\n\t\t\t\t! isBlockSelected( clientId ) &&\n\t\t\t\t! hasSelectedInnerBlock( clientId, true ),\n\t\t\tparentLock: getTemplateLock( rootClientId ),\n\t\t\tenableClickThrough: isNavigationMode() || isSmallScreen,\n\t\t\tisLastBlockChangePersistent: isLastBlockChangePersistent(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => {\n\t\tconst {\n\t\t\treplaceInnerBlocks,\n\t\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\t\tupdateBlockListSettings,\n\t\t} = dispatch( 'core/block-editor' );\n\t\tconst {\n\t\t\tblock,\n\t\t\tclientId,\n\t\t\ttemplateInsertUpdatesSelection = true,\n\t\t} = ownProps;\n\n\t\treturn {\n\t\t\treplaceInnerBlocks( blocks ) {\n\t\t\t\treplaceInnerBlocks(\n\t\t\t\t\tclientId,\n\t\t\t\t\tblocks,\n\t\t\t\t\tblock.innerBlocks.length === 0 &&\n\t\t\t\t\t\ttemplateInsertUpdatesSelection &&\n\t\t\t\t\t\tblocks.length !== 0\n\t\t\t\t);\n\t\t\t},\n\t\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\t\tupdateNestedSettings( settings ) {\n\t\t\t\tdispatch( updateBlockListSettings( clientId, settings ) );\n\t\t\t},\n\t\t};\n\t} ),\n] )( InnerBlocks );\n\n// Expose default appender placeholders as components.\nInnerBlocks.DefaultBlockAppender = DefaultBlockAppender;\nInnerBlocks.ButtonBlockAppender = ButtonBlockAppender;\n\nInnerBlocks.Content = withBlockContentContext( ( { BlockContent } ) => (\n\t<BlockContent />\n) );\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/inner-blocks/README.md\n */\nexport default InnerBlocks;\n","/**\n * External dependencies\n */\nimport { pick } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { withBlockEditContext } from '../block-edit/context';\n\nconst withClientId = createHigherOrderComponent(\n\t( WrappedComponent ) =>\n\t\twithBlockEditContext( ( context ) => pick( context, [ 'clientId' ] ) )(\n\t\t\tWrappedComponent\n\t\t),\n\t'withClientId'\n);\n\nexport default withClientId;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\n\nfunction InserterListItem( {\n\ticon,\n\tonClick,\n\tisDisabled,\n\ttitle,\n\tclassName,\n\t...props\n} ) {\n\tconst itemIconStyle = icon\n\t\t? {\n\t\t\t\tbackgroundColor: icon.background,\n\t\t\t\tcolor: icon.foreground,\n\t\t  }\n\t\t: {};\n\n\treturn (\n\t\t<li className=\"block-editor-block-types-list__list-item\">\n\t\t\t<Button\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'block-editor-block-types-list__item',\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tonClick();\n\t\t\t\t} }\n\t\t\t\tdisabled={ isDisabled }\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t<span\n\t\t\t\t\tclassName=\"block-editor-block-types-list__item-icon\"\n\t\t\t\t\tstyle={ itemIconStyle }\n\t\t\t\t>\n\t\t\t\t\t<BlockIcon icon={ icon } showColors />\n\t\t\t\t</span>\n\t\t\t\t<span className=\"block-editor-block-types-list__item-title\">\n\t\t\t\t\t{ title }\n\t\t\t\t</span>\n\t\t\t</Button>\n\t\t</li>\n\t);\n}\n\nexport default InserterListItem;\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\nconst { Fill: __experimentalInserterMenuExtension, Slot } = createSlotFill(\n\t'__experimentalInserterMenuExtension'\n);\n\n__experimentalInserterMenuExtension.Slot = Slot;\n\nexport default __experimentalInserterMenuExtension;\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { ifCondition, compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BlockTypesList from '../block-types-list';\nimport BlockIcon from '../block-icon';\n\nfunction ChildBlocks( { rootBlockIcon, rootBlockTitle, items, ...props } ) {\n\treturn (\n\t\t<div className=\"block-editor-inserter__child-blocks\">\n\t\t\t{ ( rootBlockIcon || rootBlockTitle ) && (\n\t\t\t\t<div className=\"block-editor-inserter__parent-block-header\">\n\t\t\t\t\t<BlockIcon icon={ rootBlockIcon } showColors />\n\t\t\t\t\t{ rootBlockTitle && <h2>{ rootBlockTitle }</h2> }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<BlockTypesList items={ items } { ...props } />\n\t\t</div>\n\t);\n}\n\nexport default compose(\n\tifCondition( ( { items } ) => items && items.length > 0 ),\n\twithSelect( ( select, { rootClientId } ) => {\n\t\tconst { getBlockType } = select( 'core/blocks' );\n\t\tconst { getBlockName } = select( 'core/block-editor' );\n\t\tconst rootBlockName = getBlockName( rootClientId );\n\t\tconst rootBlockType = getBlockType( rootBlockName );\n\t\treturn {\n\t\t\trootBlockTitle: rootBlockType && rootBlockType.title,\n\t\t\trootBlockIcon: rootBlockType && rootBlockType.icon,\n\t\t};\n\t} )\n)( ChildBlocks );\n","/**\n * External dependencies\n */\nimport { size } from 'lodash';\n/**\n * WordPress dependencies\n */\nimport { speak } from '@wordpress/a11y';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { Dropdown, Button } from '@wordpress/components';\nimport { Component } from '@wordpress/element';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { compose, ifCondition } from '@wordpress/compose';\nimport { createBlock } from '@wordpress/blocks';\nimport { plusCircle } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport InserterMenu from './menu';\n\nconst defaultRenderToggle = ( {\n\tonToggle,\n\tdisabled,\n\tisOpen,\n\tblockTitle,\n\thasSingleBlockType,\n} ) => {\n\tlet label;\n\tif ( hasSingleBlockType ) {\n\t\t// translators: %s: the name of the block when there is only one\n\t\tlabel = sprintf(\n\t\t\t_x( 'Add %s', 'directly add the only allowed block' ),\n\t\t\tblockTitle\n\t\t);\n\t} else {\n\t\tlabel = _x( 'Add block', 'Generic label for block inserter button' );\n\t}\n\treturn (\n\t\t<Button\n\t\t\ticon={ plusCircle }\n\t\t\tlabel={ label }\n\t\t\ttooltipPosition=\"bottom\"\n\t\t\tonClick={ onToggle }\n\t\t\tclassName=\"block-editor-inserter__toggle\"\n\t\t\taria-haspopup={ ! hasSingleBlockType ? 'true' : false }\n\t\t\taria-expanded={ ! hasSingleBlockType ? isOpen : false }\n\t\t\tdisabled={ disabled }\n\t\t/>\n\t);\n};\n\nclass Inserter extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onToggle = this.onToggle.bind( this );\n\t\tthis.renderToggle = this.renderToggle.bind( this );\n\t\tthis.renderContent = this.renderContent.bind( this );\n\t}\n\n\tonToggle( isOpen ) {\n\t\tconst { onToggle } = this.props;\n\n\t\t// Surface toggle callback to parent component\n\t\tif ( onToggle ) {\n\t\t\tonToggle( isOpen );\n\t\t}\n\t}\n\n\t/**\n\t * Render callback to display Dropdown toggle element.\n\t *\n\t * @param {Object}   options\n\t * @param {Function} options.onToggle Callback to invoke when toggle is\n\t *                                    pressed.\n\t * @param {boolean}  options.isOpen   Whether dropdown is currently open.\n\t *\n\t * @return {WPElement} Dropdown toggle element.\n\t */\n\trenderToggle( { onToggle, isOpen } ) {\n\t\tconst {\n\t\t\tdisabled,\n\t\t\tblockTitle,\n\t\t\thasSingleBlockType,\n\t\t\trenderToggle = defaultRenderToggle,\n\t\t} = this.props;\n\n\t\treturn renderToggle( {\n\t\t\tonToggle,\n\t\t\tisOpen,\n\t\t\tdisabled,\n\t\t\tblockTitle,\n\t\t\thasSingleBlockType,\n\t\t} );\n\t}\n\n\t/**\n\t * Render callback to display Dropdown content element.\n\t *\n\t * @param {Object}   options\n\t * @param {Function} options.onClose Callback to invoke when dropdown is\n\t *                                   closed.\n\t *\n\t * @return {WPElement} Dropdown content element.\n\t */\n\trenderContent( { onClose } ) {\n\t\tconst {\n\t\t\trootClientId,\n\t\t\tclientId,\n\t\t\tisAppender,\n\t\t\tshowInserterHelpPanel,\n\t\t\t__experimentalSelectBlockOnInsert: selectBlockOnInsert,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<InserterMenu\n\t\t\t\tonSelect={ onClose }\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tclientId={ clientId }\n\t\t\t\tisAppender={ isAppender }\n\t\t\t\tshowInserterHelpPanel={ showInserterHelpPanel }\n\t\t\t\t__experimentalSelectBlockOnInsert={ selectBlockOnInsert }\n\t\t\t/>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tposition,\n\t\t\thasSingleBlockType,\n\t\t\tinsertOnlyAllowedBlock,\n\t\t} = this.props;\n\n\t\tif ( hasSingleBlockType ) {\n\t\t\treturn this.renderToggle( { onToggle: insertOnlyAllowedBlock } );\n\t\t}\n\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t\tclassName=\"block-editor-inserter\"\n\t\t\t\tcontentClassName=\"block-editor-inserter__popover\"\n\t\t\t\tposition={ position }\n\t\t\t\tonToggle={ this.onToggle }\n\t\t\t\texpandOnMobile\n\t\t\t\theaderTitle={ __( 'Add a block' ) }\n\t\t\t\trenderToggle={ this.renderToggle }\n\t\t\t\trenderContent={ this.renderContent }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId, rootClientId } ) => {\n\t\tconst {\n\t\t\tgetBlockRootClientId,\n\t\t\thasInserterItems,\n\t\t\t__experimentalGetAllowedBlocks,\n\t\t} = select( 'core/block-editor' );\n\t\tconst { getBlockVariations } = select( 'core/blocks' );\n\n\t\trootClientId =\n\t\t\trootClientId || getBlockRootClientId( clientId ) || undefined;\n\n\t\tconst allowedBlocks = __experimentalGetAllowedBlocks( rootClientId );\n\n\t\tconst hasSingleBlockType =\n\t\t\tsize( allowedBlocks ) === 1 &&\n\t\t\tsize(\n\t\t\t\tgetBlockVariations( allowedBlocks[ 0 ].name, 'inserter' )\n\t\t\t) === 0;\n\n\t\tlet allowedBlockType = false;\n\t\tif ( hasSingleBlockType ) {\n\t\t\tallowedBlockType = allowedBlocks[ 0 ];\n\t\t}\n\n\t\treturn {\n\t\t\thasItems: hasInserterItems( rootClientId ),\n\t\t\thasSingleBlockType,\n\t\t\tblockTitle: allowedBlockType ? allowedBlockType.title : '',\n\t\t\tallowedBlockType,\n\t\t\trootClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps, { select } ) => {\n\t\treturn {\n\t\t\tinsertOnlyAllowedBlock() {\n\t\t\t\tconst { rootClientId, clientId, isAppender } = ownProps;\n\t\t\t\tconst {\n\t\t\t\t\thasSingleBlockType,\n\t\t\t\t\tallowedBlockType,\n\t\t\t\t\t__experimentalSelectBlockOnInsert: selectBlockOnInsert,\n\t\t\t\t} = ownProps;\n\n\t\t\t\tif ( ! hasSingleBlockType ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfunction getInsertionIndex() {\n\t\t\t\t\tconst {\n\t\t\t\t\t\tgetBlockIndex,\n\t\t\t\t\t\tgetBlockSelectionEnd,\n\t\t\t\t\t\tgetBlockOrder,\n\t\t\t\t\t} = select( 'core/block-editor' );\n\n\t\t\t\t\t// If the clientId is defined, we insert at the position of the block.\n\t\t\t\t\tif ( clientId ) {\n\t\t\t\t\t\treturn getBlockIndex( clientId, rootClientId );\n\t\t\t\t\t}\n\n\t\t\t\t\t// If there a selected block, we insert after the selected block.\n\t\t\t\t\tconst end = getBlockSelectionEnd();\n\t\t\t\t\tif ( ! isAppender && end ) {\n\t\t\t\t\t\treturn getBlockIndex( end, rootClientId ) + 1;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Otherwise, we insert at the end of the current rootClientId\n\t\t\t\t\treturn getBlockOrder( rootClientId ).length;\n\t\t\t\t}\n\n\t\t\t\tconst { insertBlock } = dispatch( 'core/block-editor' );\n\n\t\t\t\tconst blockToInsert = createBlock( allowedBlockType.name );\n\n\t\t\t\tinsertBlock(\n\t\t\t\t\tblockToInsert,\n\t\t\t\t\tgetInsertionIndex(),\n\t\t\t\t\trootClientId,\n\t\t\t\t\tselectBlockOnInsert\n\t\t\t\t);\n\n\t\t\t\tif ( ! selectBlockOnInsert ) {\n\t\t\t\t\t// translators: %s: the name of the block that has been added\n\t\t\t\t\tconst message = sprintf(\n\t\t\t\t\t\t__( '%s block added' ),\n\t\t\t\t\t\tallowedBlockType.title\n\t\t\t\t\t);\n\t\t\t\t\tspeak( message );\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n\tifCondition( ( { hasItems } ) => hasItems ),\n] )( Inserter );\n","/**\n * External dependencies\n */\nimport {\n\tfilter,\n\tfindIndex,\n\tflow,\n\tgroupBy,\n\tisEmpty,\n\tmap,\n\tsortBy,\n\twithout,\n\tincludes,\n} from 'lodash';\nimport scrollIntoView from 'dom-scroll-into-view';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { speak } from '@wordpress/a11y';\nimport { __, _n, _x, sprintf } from '@wordpress/i18n';\nimport {\n\tComponent,\n\t__experimentalCreateInterpolateElement,\n\tcreateRef,\n} from '@wordpress/element';\nimport { PanelBody, withSpokenMessages, Tip } from '@wordpress/components';\nimport {\n\tisReusableBlock,\n\tcreateBlock,\n\tisUnmodifiedDefaultBlock,\n\tgetBlockType,\n\tgetBlockFromExample,\n} from '@wordpress/blocks';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { withInstanceId, compose, withSafeTimeout } from '@wordpress/compose';\nimport { LEFT, RIGHT, UP, DOWN, BACKSPACE, ENTER } from '@wordpress/keycodes';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport BlockPreview from '../block-preview';\nimport BlockTypesList from '../block-types-list';\nimport BlockCard from '../block-card';\nimport ChildBlocks from './child-blocks';\nimport __experimentalInserterMenuExtension from '../inserter-menu-extension';\nimport { searchItems } from './search-items';\n\nconst MAX_SUGGESTED_ITEMS = 9;\n\nconst stopKeyPropagation = ( event ) => event.stopPropagation();\n\nconst getBlockNamespace = ( item ) => item.name.split( '/' )[ 0 ];\n\n// Copied over from the Columns block. It seems like it should become part of public API.\nconst createBlocksFromInnerBlocksTemplate = ( innerBlocksTemplate ) => {\n\treturn map(\n\t\tinnerBlocksTemplate,\n\t\t( [ name, attributes, innerBlocks = [] ] ) =>\n\t\t\tcreateBlock(\n\t\t\t\tname,\n\t\t\t\tattributes,\n\t\t\t\tcreateBlocksFromInnerBlocksTemplate( innerBlocks )\n\t\t\t)\n\t);\n};\n\nexport class InserterMenu extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\tchildItems: [],\n\t\t\tfilterValue: '',\n\t\t\thoveredItem: null,\n\t\t\tsuggestedItems: [],\n\t\t\treusableItems: [],\n\t\t\titemsPerCategory: {},\n\t\t\titemsPerCollection: {},\n\t\t\topenPanels: [ 'suggested' ],\n\t\t};\n\t\tthis.onChangeSearchInput = this.onChangeSearchInput.bind( this );\n\t\tthis.onHover = this.onHover.bind( this );\n\t\tthis.panels = {};\n\t\tthis.inserterResults = createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( this.props.fetchReusableBlocks ) {\n\t\t\tthis.props.fetchReusableBlocks();\n\t\t}\n\t\tthis.filter();\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( prevProps.items !== this.props.items ) {\n\t\t\tthis.filter( this.state.filterValue );\n\t\t}\n\t}\n\n\tonChangeSearchInput( event ) {\n\t\tthis.filter( event.target.value );\n\t}\n\n\tonHover( item ) {\n\t\tthis.setState( {\n\t\t\thoveredItem: item,\n\t\t} );\n\n\t\tconst { showInsertionPoint, hideInsertionPoint } = this.props;\n\t\tif ( item ) {\n\t\t\tshowInsertionPoint();\n\t\t} else {\n\t\t\thideInsertionPoint();\n\t\t}\n\t}\n\n\tbindPanel( name ) {\n\t\treturn ( ref ) => {\n\t\t\tthis.panels[ name ] = ref;\n\t\t};\n\t}\n\n\tonTogglePanel( panel ) {\n\t\treturn () => {\n\t\t\tconst isOpened = this.state.openPanels.indexOf( panel ) !== -1;\n\t\t\tif ( isOpened ) {\n\t\t\t\tthis.setState( {\n\t\t\t\t\topenPanels: without( this.state.openPanels, panel ),\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tthis.setState( {\n\t\t\t\t\topenPanels: [ ...this.state.openPanels, panel ],\n\t\t\t\t} );\n\n\t\t\t\tthis.props.setTimeout( () => {\n\t\t\t\t\t// We need a generic way to access the panel's container\n\t\t\t\t\tscrollIntoView(\n\t\t\t\t\t\tthis.panels[ panel ],\n\t\t\t\t\t\tthis.inserterResults.current,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\talignWithTop: true,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\t}\n\n\tfilterOpenPanels(\n\t\tfilterValue,\n\t\titemsPerCategory,\n\t\titemsPerCollection,\n\t\tfilteredItems,\n\t\treusableItems\n\t) {\n\t\tif ( filterValue === this.state.filterValue ) {\n\t\t\treturn this.state.openPanels;\n\t\t}\n\t\tif ( ! filterValue ) {\n\t\t\treturn [ 'suggested' ];\n\t\t}\n\t\tlet openPanels = [];\n\t\tif ( reusableItems.length > 0 ) {\n\t\t\topenPanels.push( 'reusable' );\n\t\t}\n\t\tif ( filteredItems.length > 0 ) {\n\t\t\topenPanels = openPanels.concat(\n\t\t\t\tObject.keys( itemsPerCategory ),\n\t\t\t\tObject.keys( itemsPerCollection )\n\t\t\t);\n\t\t}\n\n\t\treturn openPanels;\n\t}\n\n\tfilter( filterValue = '' ) {\n\t\tconst {\n\t\t\tcategories,\n\t\t\tcollections,\n\t\t\tdebouncedSpeak,\n\t\t\titems,\n\t\t\trootChildBlocks,\n\t\t} = this.props;\n\n\t\tconst filteredItems = searchItems(\n\t\t\titems,\n\t\t\tcategories,\n\t\t\tcollections,\n\t\t\tfilterValue\n\t\t);\n\n\t\tconst childItems = filter( filteredItems, ( { name } ) =>\n\t\t\tincludes( rootChildBlocks, name )\n\t\t);\n\n\t\tlet suggestedItems = [];\n\t\tif ( ! filterValue ) {\n\t\t\tconst maxSuggestedItems =\n\t\t\t\tthis.props.maxSuggestedItems || MAX_SUGGESTED_ITEMS;\n\t\t\tsuggestedItems = filter(\n\t\t\t\titems,\n\t\t\t\t( item ) => item.utility > 0\n\t\t\t).slice( 0, maxSuggestedItems );\n\t\t}\n\n\t\tconst reusableItems = filter( filteredItems, { category: 'reusable' } );\n\n\t\tconst getCategoryIndex = ( item ) => {\n\t\t\treturn findIndex(\n\t\t\t\tcategories,\n\t\t\t\t( category ) => category.slug === item.category\n\t\t\t);\n\t\t};\n\t\tconst itemsPerCategory = flow(\n\t\t\t( itemList ) =>\n\t\t\t\tfilter( itemList, ( item ) => item.category !== 'reusable' ),\n\t\t\t( itemList ) => sortBy( itemList, getCategoryIndex ),\n\t\t\t( itemList ) => groupBy( itemList, 'category' )\n\t\t)( filteredItems );\n\n\t\t// Create a new Object to avoid mutating this.props.collection\n\t\tconst itemsPerCollection = { ...collections };\n\t\tObject.keys( collections ).forEach( ( namespace ) => {\n\t\t\titemsPerCollection[ namespace ] = filteredItems.filter(\n\t\t\t\t( item ) => getBlockNamespace( item ) === namespace\n\t\t\t);\n\t\t\tif ( itemsPerCollection[ namespace ].length === 0 ) {\n\t\t\t\tdelete itemsPerCollection[ namespace ];\n\t\t\t}\n\t\t} );\n\n\t\tthis.setState( {\n\t\t\thoveredItem: null,\n\t\t\tchildItems,\n\t\t\tfilterValue,\n\t\t\tsuggestedItems,\n\t\t\treusableItems,\n\t\t\titemsPerCategory,\n\t\t\titemsPerCollection,\n\t\t\topenPanels: this.filterOpenPanels(\n\t\t\t\tfilterValue,\n\t\t\t\titemsPerCategory,\n\t\t\t\titemsPerCollection,\n\t\t\t\tfilteredItems,\n\t\t\t\treusableItems\n\t\t\t),\n\t\t} );\n\n\t\tconst resultCount = Object.keys( itemsPerCategory ).reduce(\n\t\t\t( accumulator, currentCategorySlug ) => {\n\t\t\t\treturn (\n\t\t\t\t\taccumulator + itemsPerCategory[ currentCategorySlug ].length\n\t\t\t\t);\n\t\t\t},\n\t\t\t0\n\t\t);\n\n\t\tconst resultsFoundMessage = sprintf(\n\t\t\t_n( '%d result found.', '%d results found.', resultCount ),\n\t\t\tresultCount\n\t\t);\n\t\tdebouncedSpeak( resultsFoundMessage );\n\t}\n\n\tonKeyDown( event ) {\n\t\tif (\n\t\t\tincludes(\n\t\t\t\t[ LEFT, DOWN, RIGHT, UP, BACKSPACE, ENTER ],\n\t\t\t\tevent.keyCode\n\t\t\t)\n\t\t) {\n\t\t\t// Stop the key event from propagating up to ObserveTyping.startTypingInTextField.\n\t\t\tevent.stopPropagation();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcategories,\n\t\t\tcollections,\n\t\t\tinstanceId,\n\t\t\tonSelect,\n\t\t\trootClientId,\n\t\t\tshowInserterHelpPanel,\n\t\t} = this.props;\n\t\tconst {\n\t\t\tchildItems,\n\t\t\thoveredItem,\n\t\t\titemsPerCategory,\n\t\t\titemsPerCollection,\n\t\t\topenPanels,\n\t\t\treusableItems,\n\t\t\tsuggestedItems,\n\t\t\tfilterValue,\n\t\t} = this.state;\n\t\tconst isPanelOpen = ( panel ) => openPanels.indexOf( panel ) !== -1;\n\t\tconst hasItems =\n\t\t\t! isEmpty( suggestedItems ) ||\n\t\t\t! isEmpty( reusableItems ) ||\n\t\t\t! isEmpty( itemsPerCategory ) ||\n\t\t\t! isEmpty( itemsPerCollection );\n\t\tconst hoveredItemBlockType = hoveredItem\n\t\t\t? getBlockType( hoveredItem.name )\n\t\t\t: null;\n\t\tconst hasHelpPanel = hasItems && showInserterHelpPanel;\n\n\t\t// Disable reason (no-autofocus): The inserter menu is a modal display, not one which\n\t\t// is always visible, and one which already incurs this behavior of autoFocus via\n\t\t// Popover's focusOnMount.\n\t\t// Disable reason (no-static-element-interactions): Navigational key-presses within\n\t\t// the menu are prevented from triggering WritingFlow and ObserveTyping interactions.\n\t\t/* eslint-disable jsx-a11y/no-autofocus, jsx-a11y/no-static-element-interactions */\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={ classnames( 'block-editor-inserter__menu', {\n\t\t\t\t\t'has-help-panel': hasHelpPanel,\n\t\t\t\t} ) }\n\t\t\t\tonKeyPress={ stopKeyPropagation }\n\t\t\t\tonKeyDown={ this.onKeyDown }\n\t\t\t>\n\t\t\t\t<div className=\"block-editor-inserter__main-area\">\n\t\t\t\t\t<label\n\t\t\t\t\t\thtmlFor={ `block-editor-inserter__search-${ instanceId }` }\n\t\t\t\t\t\tclassName=\"screen-reader-text\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Search for a block' ) }\n\t\t\t\t\t</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid={ `block-editor-inserter__search-${ instanceId }` }\n\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\tplaceholder={ __( 'Search for a block' ) }\n\t\t\t\t\t\tclassName=\"block-editor-inserter__search\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tonChange={ this.onChangeSearchInput }\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"block-editor-inserter__results\"\n\t\t\t\t\t\tref={ this.inserterResults }\n\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\trole=\"region\"\n\t\t\t\t\t\taria-label={ __( 'Available block types' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChildBlocks\n\t\t\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\t\t\titems={ childItems }\n\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\tonHover={ this.onHover }\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{ !! suggestedItems.length && (\n\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\ttitle={ _x( 'Most used', 'blocks' ) }\n\t\t\t\t\t\t\t\topened={ isPanelOpen( 'suggested' ) }\n\t\t\t\t\t\t\t\tonToggle={ this.onTogglePanel( 'suggested' ) }\n\t\t\t\t\t\t\t\tref={ this.bindPanel( 'suggested' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BlockTypesList\n\t\t\t\t\t\t\t\t\titems={ suggestedItems }\n\t\t\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\t\t\tonHover={ this.onHover }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ map( categories, ( category ) => {\n\t\t\t\t\t\t\tconst categoryItems =\n\t\t\t\t\t\t\t\titemsPerCategory[ category.slug ];\n\t\t\t\t\t\t\tif ( ! categoryItems || ! categoryItems.length ) {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\t\tkey={ category.slug }\n\t\t\t\t\t\t\t\t\ttitle={ category.title }\n\t\t\t\t\t\t\t\t\ticon={ category.icon }\n\t\t\t\t\t\t\t\t\topened={ isPanelOpen( category.slug ) }\n\t\t\t\t\t\t\t\t\tonToggle={ this.onTogglePanel(\n\t\t\t\t\t\t\t\t\t\tcategory.slug\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tref={ this.bindPanel( category.slug ) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<BlockTypesList\n\t\t\t\t\t\t\t\t\t\titems={ categoryItems }\n\t\t\t\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\t\t\t\tonHover={ this.onHover }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\n\t\t\t\t\t\t{ map( collections, ( collection, namespace ) => {\n\t\t\t\t\t\t\tconst collectionItems =\n\t\t\t\t\t\t\t\titemsPerCollection[ namespace ];\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t! collectionItems ||\n\t\t\t\t\t\t\t\t! collectionItems.length\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\t\tkey={ namespace }\n\t\t\t\t\t\t\t\t\ttitle={ collection.title }\n\t\t\t\t\t\t\t\t\ticon={ collection.icon }\n\t\t\t\t\t\t\t\t\topened={ isPanelOpen( namespace ) }\n\t\t\t\t\t\t\t\t\tonToggle={ this.onTogglePanel( namespace ) }\n\t\t\t\t\t\t\t\t\tref={ this.bindPanel( namespace ) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<BlockTypesList\n\t\t\t\t\t\t\t\t\t\titems={ collectionItems }\n\t\t\t\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\t\t\t\tonHover={ this.onHover }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\n\t\t\t\t\t\t{ !! reusableItems.length && (\n\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\tclassName=\"block-editor-inserter__reusable-blocks-panel\"\n\t\t\t\t\t\t\t\ttitle={ __( 'Reusable' ) }\n\t\t\t\t\t\t\t\topened={ isPanelOpen( 'reusable' ) }\n\t\t\t\t\t\t\t\tonToggle={ this.onTogglePanel( 'reusable' ) }\n\t\t\t\t\t\t\t\ticon=\"controls-repeat\"\n\t\t\t\t\t\t\t\tref={ this.bindPanel( 'reusable' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BlockTypesList\n\t\t\t\t\t\t\t\t\titems={ reusableItems }\n\t\t\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\t\t\tonHover={ this.onHover }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclassName=\"block-editor-inserter__manage-reusable-blocks\"\n\t\t\t\t\t\t\t\t\thref={ addQueryArgs( 'edit.php', {\n\t\t\t\t\t\t\t\t\t\tpost_type: 'wp_block',\n\t\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Manage all reusable blocks' ) }\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t<__experimentalInserterMenuExtension.Slot\n\t\t\t\t\t\t\tfillProps={ {\n\t\t\t\t\t\t\t\tonSelect,\n\t\t\t\t\t\t\t\tonHover: this.onHover,\n\t\t\t\t\t\t\t\tfilterValue,\n\t\t\t\t\t\t\t\thasItems,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ ( fills ) => {\n\t\t\t\t\t\t\t\tif ( fills.length ) {\n\t\t\t\t\t\t\t\t\treturn fills;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( ! hasItems ) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<p className=\"block-editor-inserter__no-results\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'No blocks found.' ) }\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t</__experimentalInserterMenuExtension.Slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{ hasHelpPanel && (\n\t\t\t\t\t<div className=\"block-editor-inserter__menu-help-panel\">\n\t\t\t\t\t\t{ hoveredItem && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{ ! isReusableBlock( hoveredItem ) && (\n\t\t\t\t\t\t\t\t\t<BlockCard blockType={ hoveredItem } />\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<div className=\"block-editor-inserter__preview\">\n\t\t\t\t\t\t\t\t\t{ isReusableBlock( hoveredItem ) ||\n\t\t\t\t\t\t\t\t\thoveredItemBlockType.example ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"block-editor-inserter__preview-content\">\n\t\t\t\t\t\t\t\t\t\t\t<BlockPreview\n\t\t\t\t\t\t\t\t\t\t\t\tpadding={ 10 }\n\t\t\t\t\t\t\t\t\t\t\t\tviewportWidth={ 500 }\n\t\t\t\t\t\t\t\t\t\t\t\tblocks={\n\t\t\t\t\t\t\t\t\t\t\t\t\thoveredItemBlockType.example\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? getBlockFromExample(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thoveredItem.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...hoveredItemBlockType\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.example\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.attributes,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...hoveredItem.initialAttributes,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinnerBlocks:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thoveredItemBlockType\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.example\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.innerBlocks,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: createBlock(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thoveredItem.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thoveredItem.initialAttributes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<div className=\"block-editor-inserter__preview-content-missing\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'No Preview Available.' ) }\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! hoveredItem && (\n\t\t\t\t\t\t\t<div className=\"block-editor-inserter__menu-help-panel-no-block\">\n\t\t\t\t\t\t\t\t<div className=\"block-editor-inserter__menu-help-panel-no-block-text\">\n\t\t\t\t\t\t\t\t\t<div className=\"block-editor-inserter__menu-help-panel-title\">\n\t\t\t\t\t\t\t\t\t\t{ __( 'Content blocks' ) }\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t'Welcome to the wonderful world of blocks! Blocks are the basis of all content within the editor.'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t'There are blocks available for all kinds of content: insert text, headings, images, lists, videos, tables, and lots more.'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t'Browse through the library to learn more about what each block does.'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Tip>\n\t\t\t\t\t\t\t\t\t{ __experimentalCreateInterpolateElement(\n\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t'While writing, you can press <kbd>/</kbd> to quickly insert new blocks.'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t{ kbd: <kbd /> }\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</Tip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-autofocus, jsx-a11y/no-static-element-interactions */\n\t}\n}\n\nexport default compose(\n\twithSelect(\n\t\t(\n\t\t\tselect,\n\t\t\t{ clientId, isAppender, rootClientId, showInserterHelpPanel }\n\t\t) => {\n\t\t\tconst {\n\t\t\t\tgetInserterItems,\n\t\t\t\tgetBlockName,\n\t\t\t\tgetBlockRootClientId,\n\t\t\t\tgetBlockSelectionEnd,\n\t\t\t\tgetSettings,\n\t\t\t} = select( 'core/block-editor' );\n\t\t\tconst {\n\t\t\t\tgetCategories,\n\t\t\t\tgetCollections,\n\t\t\t\tgetChildBlockNames,\n\t\t\t} = select( 'core/blocks' );\n\n\t\t\tlet destinationRootClientId = rootClientId;\n\t\t\tif ( ! destinationRootClientId && ! clientId && ! isAppender ) {\n\t\t\t\tconst end = getBlockSelectionEnd();\n\t\t\t\tif ( end ) {\n\t\t\t\t\tdestinationRootClientId =\n\t\t\t\t\t\tgetBlockRootClientId( end ) || undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst destinationRootBlockName = getBlockName(\n\t\t\t\tdestinationRootClientId\n\t\t\t);\n\n\t\t\tconst {\n\t\t\t\tshowInserterHelpPanel: showInserterHelpPanelSetting,\n\t\t\t\t__experimentalFetchReusableBlocks: fetchReusableBlocks,\n\t\t\t} = getSettings();\n\n\t\t\treturn {\n\t\t\t\tcategories: getCategories(),\n\t\t\t\tcollections: getCollections(),\n\t\t\t\trootChildBlocks: getChildBlockNames( destinationRootBlockName ),\n\t\t\t\titems: getInserterItems( destinationRootClientId ),\n\t\t\t\tshowInserterHelpPanel:\n\t\t\t\t\tshowInserterHelpPanel && showInserterHelpPanelSetting,\n\t\t\t\tdestinationRootClientId,\n\t\t\t\tfetchReusableBlocks,\n\t\t\t};\n\t\t}\n\t),\n\twithDispatch( ( dispatch, ownProps, { select } ) => {\n\t\tconst { showInsertionPoint, hideInsertionPoint } = dispatch(\n\t\t\t'core/block-editor'\n\t\t);\n\n\t\t// To avoid duplication, getInsertionIndex is extracted and used in two event handlers\n\t\t// This breaks the withDispatch not containing any logic rule.\n\t\t// Since it's a function only called when the event handlers are called,\n\t\t// it's fine to extract it.\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\tfunction getInsertionIndex() {\n\t\t\tconst {\n\t\t\t\tgetBlockIndex,\n\t\t\t\tgetBlockSelectionEnd,\n\t\t\t\tgetBlockOrder,\n\t\t\t} = select( 'core/block-editor' );\n\t\t\tconst { clientId, destinationRootClientId, isAppender } = ownProps;\n\n\t\t\t// If the clientId is defined, we insert at the position of the block.\n\t\t\tif ( clientId ) {\n\t\t\t\treturn getBlockIndex( clientId, destinationRootClientId );\n\t\t\t}\n\n\t\t\t// If there a selected block, we insert after the selected block.\n\t\t\tconst end = getBlockSelectionEnd();\n\t\t\tif ( ! isAppender && end ) {\n\t\t\t\treturn getBlockIndex( end, destinationRootClientId ) + 1;\n\t\t\t}\n\n\t\t\t// Otherwise, we insert at the end of the current rootClientId\n\t\t\treturn getBlockOrder( destinationRootClientId ).length;\n\t\t}\n\n\t\treturn {\n\t\t\tshowInsertionPoint() {\n\t\t\t\tconst index = getInsertionIndex();\n\t\t\t\tshowInsertionPoint( ownProps.destinationRootClientId, index );\n\t\t\t},\n\t\t\thideInsertionPoint,\n\t\t\tonSelect( item ) {\n\t\t\t\tconst { replaceBlocks, insertBlock } = dispatch(\n\t\t\t\t\t'core/block-editor'\n\t\t\t\t);\n\t\t\t\tconst { getSelectedBlock } = select( 'core/block-editor' );\n\t\t\t\tconst {\n\t\t\t\t\tisAppender,\n\t\t\t\t\tonSelect,\n\t\t\t\t\t__experimentalSelectBlockOnInsert: selectBlockOnInsert,\n\t\t\t\t} = ownProps;\n\t\t\t\tconst { name, title, initialAttributes, innerBlocks } = item;\n\t\t\t\tconst selectedBlock = getSelectedBlock();\n\t\t\t\tconst insertedBlock = createBlock(\n\t\t\t\t\tname,\n\t\t\t\t\tinitialAttributes,\n\t\t\t\t\tcreateBlocksFromInnerBlocksTemplate( innerBlocks )\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\t! isAppender &&\n\t\t\t\t\tselectedBlock &&\n\t\t\t\t\tisUnmodifiedDefaultBlock( selectedBlock )\n\t\t\t\t) {\n\t\t\t\t\treplaceBlocks( selectedBlock.clientId, insertedBlock );\n\t\t\t\t} else {\n\t\t\t\t\tinsertBlock(\n\t\t\t\t\t\tinsertedBlock,\n\t\t\t\t\t\tgetInsertionIndex(),\n\t\t\t\t\t\townProps.destinationRootClientId,\n\t\t\t\t\t\tselectBlockOnInsert\n\t\t\t\t\t);\n\n\t\t\t\t\tif ( ! selectBlockOnInsert ) {\n\t\t\t\t\t\t// translators: %s: the name of the block that has been added\n\t\t\t\t\t\tconst message = sprintf(\n\t\t\t\t\t\t\t__( '%s block added' ),\n\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t);\n\t\t\t\t\t\tspeak( message );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tonSelect();\n\t\t\t\treturn insertedBlock;\n\t\t\t},\n\t\t};\n\t} ),\n\twithSpokenMessages,\n\twithInstanceId,\n\twithSafeTimeout\n)( InserterMenu );\n","/**\n * External dependencies\n */\nimport {\n\tdeburr,\n\tdifferenceWith,\n\tfind,\n\tget,\n\tintersectionWith,\n\tisEmpty,\n\twords,\n} from 'lodash';\n\n/**\n * Converts the search term into a list of normalized terms.\n *\n * @param {string} term The search term to normalize.\n *\n * @return {string[]} The normalized list of search terms.\n */\nexport const normalizeSearchTerm = ( term = '' ) => {\n\t// Disregard diacritics.\n\t//  Input: \"média\"\n\tterm = deburr( term );\n\n\t// Accommodate leading slash, matching autocomplete expectations.\n\t//  Input: \"/media\"\n\tterm = term.replace( /^\\//, '' );\n\n\t// Lowercase.\n\t//  Input: \"MEDIA\"\n\tterm = term.toLowerCase();\n\n\t// Extract words.\n\treturn words( term );\n};\n\nconst removeMatchingTerms = ( unmatchedTerms, unprocessedTerms ) => {\n\treturn differenceWith(\n\t\tunmatchedTerms,\n\t\tnormalizeSearchTerm( unprocessedTerms ),\n\t\t( unmatchedTerm, unprocessedTerm ) =>\n\t\t\tunprocessedTerm.includes( unmatchedTerm )\n\t);\n};\n\n/**\n * Filters an item list given a search term.\n *\n * @param {Array} items       Item list\n * @param {Array} categories  Available categories.\n * @param {Array} collections Available collections.\n * @param {string} searchTerm Search term.\n *\n * @return {Array}             Filtered item list.\n */\nexport const searchItems = ( items, categories, collections, searchTerm ) => {\n\tconst normalizedSearchTerms = normalizeSearchTerm( searchTerm );\n\n\tif ( normalizedSearchTerms.length === 0 ) {\n\t\treturn items;\n\t}\n\n\treturn items\n\t\t.filter(\n\t\t\t( { name, title, category, keywords = [], variations = [] } ) => {\n\t\t\t\tlet unmatchedTerms = removeMatchingTerms(\n\t\t\t\t\tnormalizedSearchTerms,\n\t\t\t\t\ttitle\n\t\t\t\t);\n\n\t\t\t\tif ( unmatchedTerms.length === 0 ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tunmatchedTerms = removeMatchingTerms(\n\t\t\t\t\tunmatchedTerms,\n\t\t\t\t\tkeywords.join( ' ' )\n\t\t\t\t);\n\n\t\t\t\tif ( unmatchedTerms.length === 0 ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tunmatchedTerms = removeMatchingTerms(\n\t\t\t\t\tunmatchedTerms,\n\t\t\t\t\tget( find( categories, { slug: category } ), [ 'title' ] )\n\t\t\t\t);\n\n\t\t\t\tconst itemCollection = collections[ name.split( '/' )[ 0 ] ];\n\t\t\t\tif ( itemCollection ) {\n\t\t\t\t\tunmatchedTerms = removeMatchingTerms(\n\t\t\t\t\t\tunmatchedTerms,\n\t\t\t\t\t\titemCollection.title\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif ( unmatchedTerms.length === 0 ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tunmatchedTerms = removeMatchingTerms(\n\t\t\t\t\tunmatchedTerms,\n\t\t\t\t\tvariations\n\t\t\t\t\t\t.map( ( variation ) => variation.title )\n\t\t\t\t\t\t.join( ' ' )\n\t\t\t\t);\n\n\t\t\t\treturn unmatchedTerms.length === 0;\n\t\t\t}\n\t\t)\n\t\t.map( ( item ) => {\n\t\t\tif ( isEmpty( item.variations ) ) {\n\t\t\t\treturn item;\n\t\t\t}\n\n\t\t\tconst matchedVariations = item.variations.filter( ( variation ) => {\n\t\t\t\treturn (\n\t\t\t\t\tintersectionWith(\n\t\t\t\t\t\tnormalizedSearchTerms,\n\t\t\t\t\t\tnormalizeSearchTerm( variation.title ),\n\t\t\t\t\t\t( termToMatch, labelTerm ) =>\n\t\t\t\t\t\t\tlabelTerm.includes( termToMatch )\n\t\t\t\t\t).length > 0\n\t\t\t\t);\n\t\t\t} );\n\t\t\t// When no partterns matched, fallback to all variations.\n\t\t\tif ( isEmpty( matchedVariations ) ) {\n\t\t\t\treturn item;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...item,\n\t\t\t\tvariations: matchedVariations,\n\t\t\t};\n\t\t} );\n};\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { ifBlockEditSelected } from '../block-edit/context';\n\nconst name = 'InspectorAdvancedControls';\nconst { Fill, Slot } = createSlotFill( name );\n\nconst InspectorAdvancedControls = ifBlockEditSelected( Fill );\n\nInspectorAdvancedControls.slotName = name;\nInspectorAdvancedControls.Slot = Slot;\n\nexport default InspectorAdvancedControls;\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { ifBlockEditSelected } from '../block-edit/context';\n\nconst { Fill, Slot } = createSlotFill( 'InspectorControls' );\n\nconst InspectorControls = ifBlockEditSelected( Fill );\n\nInspectorControls.Slot = Slot;\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/inspector-controls/README.md\n */\nexport default InspectorControls;\n","/**\n * External dependencies\n */\nimport { first, last } from 'lodash';\n/**\n * WordPress dependencies\n */\nimport { useEffect, useCallback } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { __ } from '@wordpress/i18n';\n\nfunction KeyboardShortcuts() {\n\t// Shortcuts Logic\n\tconst { clientIds, rootBlocksClientIds } = useSelect( ( select ) => {\n\t\tconst { getSelectedBlockClientIds, getBlockOrder } = select(\n\t\t\t'core/block-editor'\n\t\t);\n\t\treturn {\n\t\t\tclientIds: getSelectedBlockClientIds(),\n\t\t\trootBlocksClientIds: getBlockOrder(),\n\t\t};\n\t}, [] );\n\n\tconst {\n\t\tduplicateBlocks,\n\t\tremoveBlocks,\n\t\tinsertAfterBlock,\n\t\tinsertBeforeBlock,\n\t\tmultiSelect,\n\t\tclearSelectedBlock,\n\t} = useDispatch( 'core/block-editor' );\n\n\t// Prevents bookmark all Tabs shortcut in Chrome when devtools are closed.\n\t// Prevents reposition Chrome devtools pane shortcut when devtools are open.\n\tuseShortcut(\n\t\t'core/block-editor/duplicate',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tduplicateBlocks( clientIds );\n\t\t\t},\n\t\t\t[ clientIds, duplicateBlocks ]\n\t\t),\n\t\t{ bindGlobal: true, isDisabled: clientIds.length === 0 }\n\t);\n\n\t// Does not clash with any known browser/native shortcuts, but preventDefault\n\t// is used to prevent any obscure unknown shortcuts from triggering.\n\tuseShortcut(\n\t\t'core/block-editor/remove',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tremoveBlocks( clientIds );\n\t\t\t},\n\t\t\t[ clientIds, removeBlocks ]\n\t\t),\n\t\t{ bindGlobal: true, isDisabled: clientIds.length === 0 }\n\t);\n\n\t// Does not clash with any known browser/native shortcuts, but preventDefault\n\t// is used to prevent any obscure unknown shortcuts from triggering.\n\tuseShortcut(\n\t\t'core/block-editor/insert-after',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tinsertAfterBlock( last( clientIds ) );\n\t\t\t},\n\t\t\t[ clientIds, insertAfterBlock ]\n\t\t),\n\t\t{ bindGlobal: true, isDisabled: clientIds.length === 0 }\n\t);\n\n\t// Prevent 'view recently closed tabs' in Opera using preventDefault.\n\tuseShortcut(\n\t\t'core/block-editor/insert-before',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tinsertBeforeBlock( first( clientIds ) );\n\t\t\t},\n\t\t\t[ clientIds, insertBeforeBlock ]\n\t\t),\n\t\t{ bindGlobal: true, isDisabled: clientIds.length === 0 }\n\t);\n\n\tuseShortcut(\n\t\t'core/block-editor/delete-multi-selection',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tremoveBlocks( clientIds );\n\t\t\t},\n\t\t\t[ clientIds, removeBlocks ]\n\t\t),\n\t\t{ isDisabled: clientIds.length < 1 }\n\t);\n\n\tuseShortcut(\n\t\t'core/block-editor/select-all',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tmultiSelect(\n\t\t\t\t\tfirst( rootBlocksClientIds ),\n\t\t\t\t\tlast( rootBlocksClientIds )\n\t\t\t\t);\n\t\t\t},\n\t\t\t[ rootBlocksClientIds, multiSelect ]\n\t\t)\n\t);\n\n\tuseShortcut(\n\t\t'core/block-editor/unselect',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tclearSelectedBlock();\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t},\n\t\t\t[ clientIds, clearSelectedBlock ]\n\t\t),\n\t\t{ isDisabled: clientIds.length < 2 }\n\t);\n\n\treturn null;\n}\n\nfunction KeyboardShortcutsRegister() {\n\t// Registering the shortcuts\n\tconst { registerShortcut } = useDispatch( 'core/keyboard-shortcuts' );\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/duplicate',\n\t\t\tcategory: 'block',\n\t\t\tdescription: __( 'Duplicate the selected block(s).' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: 'd',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/remove',\n\t\t\tcategory: 'block',\n\t\t\tdescription: __( 'Remove the selected block(s).' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/insert-before',\n\t\t\tcategory: 'block',\n\t\t\tdescription: __(\n\t\t\t\t'Insert a new block before the selected block(s).'\n\t\t\t),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryAlt',\n\t\t\t\tcharacter: 't',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/insert-after',\n\t\t\tcategory: 'block',\n\t\t\tdescription: __(\n\t\t\t\t'Insert a new block after the selected block(s).'\n\t\t\t),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryAlt',\n\t\t\t\tcharacter: 'y',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/delete-multi-selection',\n\t\t\tcategory: 'block',\n\t\t\tdescription: __( 'Remove multiple selected blocks.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tcharacter: 'del',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tcharacter: 'backspace',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/select-all',\n\t\t\tcategory: 'selection',\n\t\t\tdescription: __(\n\t\t\t\t'Select all text when typing. Press again to select all blocks.'\n\t\t\t),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 'a',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/unselect',\n\t\t\tcategory: 'selection',\n\t\t\tdescription: __( 'Clear selection.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tcharacter: 'escape',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/focus-toolbar',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the nearest toolbar.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'alt',\n\t\t\t\tcharacter: 'F10',\n\t\t\t},\n\t\t} );\n\t}, [ registerShortcut ] );\n\n\treturn null;\n}\n\nKeyboardShortcuts.Register = KeyboardShortcutsRegister;\n\nexport default KeyboardShortcuts;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { noop, startsWith } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Button, ExternalLink, VisuallyHidden } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tuseRef,\n\tuseCallback,\n\tuseState,\n\tFragment,\n\tuseEffect,\n} from '@wordpress/element';\nimport {\n\tsafeDecodeURI,\n\tfilterURLForDisplay,\n\tisURL,\n\tprependHTTP,\n\tgetProtocol,\n} from '@wordpress/url';\nimport { useInstanceId } from '@wordpress/compose';\nimport { useSelect } from '@wordpress/data';\nimport { focus } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport LinkControlSettingsDrawer from './settings-drawer';\nimport LinkControlSearchItem from './search-item';\nimport LinkControlSearchInput from './search-input';\n\n/**\n * Default properties associated with a link control value.\n *\n * @typedef WPLinkControlDefaultValue\n *\n * @property {string}   url           Link URL.\n * @property {string=}  title         Link title.\n * @property {boolean=} opensInNewTab Whether link should open in a new browser\n *                                    tab. This value is only assigned if not\n *                                    providing a custom `settings` prop.\n */\n\n/**\n * Custom settings values associated with a link.\n *\n * @typedef {{[setting:string]:any}} WPLinkControlSettingsValue\n */\n\n/**\n * Custom settings values associated with a link.\n *\n * @typedef WPLinkControlSetting\n *\n * @property {string} id    Identifier to use as property for setting value.\n * @property {string} title Human-readable label to show in user interface.\n */\n\n/**\n * Properties associated with a link control value, composed as a union of the\n * default properties and any custom settings values.\n *\n * @typedef {WPLinkControlDefaultValue&WPLinkControlSettingsValue} WPLinkControlValue\n */\n\n/** @typedef {(nextValue:WPLinkControlValue)=>void} WPLinkControlOnChangeProp */\n\n/**\n * @typedef WPLinkControlProps\n *\n * @property {(WPLinkControlSetting[])=}  settings               An array of settings objects. Each object will used to\n *                                                               render a `ToggleControl` for that setting.\n * @property {boolean=}                   forceIsEditingLink     If passed as either `true` or `false`, controls the\n *                                                               internal editing state of the component to respective\n *                                                               show or not show the URL input field.\n * @property {WPLinkControlValue=}        value                  Current link value.\n * @property {WPLinkControlOnChangeProp=} onChange               Value change handler, called with the updated value if\n *                                                               the user selects a new link or updates settings.\n * @property {boolean=}                   showInitialSuggestions Whether to present initial suggestions immediately.\n */\n\n/**\n * Renders a link control. A link control is a controlled input which maintains\n * a value associated with a link (HTML anchor element) and relevant settings\n * for how that link is expected to behave.\n *\n * @param {WPLinkControlProps} props Component props.\n */\nfunction LinkControl( {\n\tvalue,\n\tsettings,\n\tonChange = noop,\n\tshowInitialSuggestions,\n\tforceIsEditingLink,\n} ) {\n\tconst wrapperNode = useRef();\n\tconst instanceId = useInstanceId( LinkControl );\n\tconst [ inputValue, setInputValue ] = useState(\n\t\t( value && value.url ) || ''\n\t);\n\tconst [ isEditingLink, setIsEditingLink ] = useState(\n\t\tforceIsEditingLink !== undefined\n\t\t\t? forceIsEditingLink\n\t\t\t: ! value || ! value.url\n\t);\n\tconst isEndingEditWithFocus = useRef( false );\n\tconst { fetchSearchSuggestions } = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( 'core/block-editor' );\n\t\treturn {\n\t\t\tfetchSearchSuggestions: getSettings()\n\t\t\t\t.__experimentalFetchLinkSuggestions,\n\t\t};\n\t}, [] );\n\tconst displayURL =\n\t\t( value && filterURLForDisplay( safeDecodeURI( value.url ) ) ) || '';\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\tforceIsEditingLink !== undefined &&\n\t\t\tforceIsEditingLink !== isEditingLink\n\t\t) {\n\t\t\tsetIsEditingLink( forceIsEditingLink );\n\t\t}\n\t}, [ forceIsEditingLink ] );\n\n\tuseEffect( () => {\n\t\t// When `isEditingLink` is set to `false`, a focus loss could occur\n\t\t// since the link input may be removed from the DOM. To avoid this,\n\t\t// reinstate focus to a suitable target if focus has in-fact been lost.\n\t\t// Note that the check is necessary because while typically unsetting\n\t\t// edit mode would render the read-only mode's link element, it isn't\n\t\t// guaranteed. The link input may continue to be shown if the next value\n\t\t// is still unassigned after calling `onChange`.\n\t\tconst hadFocusLoss =\n\t\t\tisEndingEditWithFocus.current &&\n\t\t\twrapperNode.current &&\n\t\t\t! wrapperNode.current.contains( document.activeElement );\n\n\t\tif ( hadFocusLoss ) {\n\t\t\t// Prefer to focus a natural focusable descendent of the wrapper,\n\t\t\t// but settle for the wrapper if there are no other options.\n\t\t\tconst nextFocusTarget =\n\t\t\t\tfocus.focusable.find( wrapperNode.current )[ 0 ] ||\n\t\t\t\twrapperNode.current;\n\n\t\t\tnextFocusTarget.focus();\n\t\t}\n\n\t\tisEndingEditWithFocus.current = false;\n\t}, [ isEditingLink ] );\n\n\t/**\n\t * onChange LinkControlSearchInput event handler\n\t *\n\t * @param {string} val Current value returned by the search.\n\t */\n\tconst onInputChange = ( val = '' ) => {\n\t\tsetInputValue( val );\n\t};\n\n\tconst handleDirectEntry = ( val ) => {\n\t\tlet type = 'URL';\n\n\t\tconst protocol = getProtocol( val ) || '';\n\n\t\tif ( protocol.includes( 'mailto' ) ) {\n\t\t\ttype = 'mailto';\n\t\t}\n\n\t\tif ( protocol.includes( 'tel' ) ) {\n\t\t\ttype = 'tel';\n\t\t}\n\n\t\tif ( startsWith( val, '#' ) ) {\n\t\t\ttype = 'internal';\n\t\t}\n\n\t\treturn Promise.resolve( [\n\t\t\t{\n\t\t\t\tid: '-1',\n\t\t\t\ttitle: val,\n\t\t\t\turl: type === 'URL' ? prependHTTP( val ) : val,\n\t\t\t\ttype,\n\t\t\t},\n\t\t] );\n\t};\n\n\tconst handleEntitySearch = async ( val, args ) => {\n\t\tconst results = await Promise.all( [\n\t\t\tfetchSearchSuggestions( val, {\n\t\t\t\t...( args.isInitialSuggestions ? { perPage: 3 } : {} ),\n\t\t\t} ),\n\t\t\thandleDirectEntry( val ),\n\t\t] );\n\n\t\tconst couldBeURL = ! val.includes( ' ' );\n\n\t\t// If it's potentially a URL search then concat on a URL search suggestion\n\t\t// just for good measure. That way once the actual results run out we always\n\t\t// have a URL option to fallback on.\n\t\treturn couldBeURL && ! args.isInitialSuggestions\n\t\t\t? results[ 0 ].concat( results[ 1 ] )\n\t\t\t: results[ 0 ];\n\t};\n\n\t/**\n\t * Cancels editing state and marks that focus may need to be restored after\n\t * the next render, if focus was within the wrapper when editing finished.\n\t */\n\tfunction stopEditing() {\n\t\tisEndingEditWithFocus.current =\n\t\t\t!! wrapperNode.current &&\n\t\t\twrapperNode.current.contains( document.activeElement );\n\n\t\tsetIsEditingLink( false );\n\t}\n\n\t// Effects\n\tconst getSearchHandler = useCallback(\n\t\t( val, args ) => {\n\t\t\tconst isInternal = startsWith( val, '#' );\n\n\t\t\tconst handleManualEntry =\n\t\t\t\tisInternal || isURL( val ) || ( val && val.includes( 'www.' ) );\n\n\t\t\treturn handleManualEntry\n\t\t\t\t? handleDirectEntry( val, args )\n\t\t\t\t: handleEntitySearch( val, args );\n\t\t},\n\t\t[ handleDirectEntry, fetchSearchSuggestions ]\n\t);\n\n\t// Render Components\n\tconst renderSearchResults = ( {\n\t\tsuggestionsListProps,\n\t\tbuildSuggestionItemProps,\n\t\tsuggestions,\n\t\tselectedSuggestion,\n\t\tisLoading,\n\t\tisInitialSuggestions,\n\t} ) => {\n\t\tconst resultsListClasses = classnames(\n\t\t\t'block-editor-link-control__search-results',\n\t\t\t{\n\t\t\t\t'is-loading': isLoading,\n\t\t\t}\n\t\t);\n\n\t\tconst manualLinkEntryTypes = [ 'url', 'mailto', 'tel', 'internal' ];\n\t\tconst searchResultsLabelId = isInitialSuggestions\n\t\t\t? `block-editor-link-control-search-results-label-${ instanceId }`\n\t\t\t: undefined;\n\t\tconst labelText = isInitialSuggestions\n\t\t\t? __( 'Recently updated' )\n\t\t\t: sprintf( __( 'Search results for %s' ), inputValue );\n\t\t// According to guidelines aria-label should be added if the label\n\t\t// itself is not visible.\n\t\t// See: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role\n\t\tconst ariaLabel = isInitialSuggestions ? undefined : labelText;\n\t\tconst SearchResultsLabel = (\n\t\t\t<span\n\t\t\t\tclassName=\"block-editor-link-control__search-results-label\"\n\t\t\t\tid={ searchResultsLabelId }\n\t\t\t\taria-label={ ariaLabel }\n\t\t\t>\n\t\t\t\t{ labelText }\n\t\t\t</span>\n\t\t);\n\n\t\treturn (\n\t\t\t<div className=\"block-editor-link-control__search-results-wrapper\">\n\t\t\t\t{ isInitialSuggestions ? (\n\t\t\t\t\tSearchResultsLabel\n\t\t\t\t) : (\n\t\t\t\t\t<VisuallyHidden>{ SearchResultsLabel }</VisuallyHidden>\n\t\t\t\t) }\n\n\t\t\t\t<div\n\t\t\t\t\t{ ...suggestionsListProps }\n\t\t\t\t\tclassName={ resultsListClasses }\n\t\t\t\t\taria-labelledby={ searchResultsLabelId }\n\t\t\t\t>\n\t\t\t\t\t{ suggestions.map( ( suggestion, index ) => (\n\t\t\t\t\t\t<LinkControlSearchItem\n\t\t\t\t\t\t\tkey={ `${ suggestion.id }-${ suggestion.type }` }\n\t\t\t\t\t\t\titemProps={ buildSuggestionItemProps(\n\t\t\t\t\t\t\t\tsuggestion,\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tsuggestion={ suggestion }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tonChange( { ...value, ...suggestion } );\n\t\t\t\t\t\t\t\tstopEditing();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tisSelected={ index === selectedSuggestion }\n\t\t\t\t\t\t\tisURL={ manualLinkEntryTypes.includes(\n\t\t\t\t\t\t\t\tsuggestion.type.toLowerCase()\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tsearchTerm={ inputValue }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div\n\t\t\ttabIndex={ -1 }\n\t\t\tref={ wrapperNode }\n\t\t\tclassName=\"block-editor-link-control\"\n\t\t>\n\t\t\t{ isEditingLink || ! value ? (\n\t\t\t\t<LinkControlSearchInput\n\t\t\t\t\tvalue={ inputValue }\n\t\t\t\t\tonChange={ onInputChange }\n\t\t\t\t\tonSelect={ ( suggestion ) => {\n\t\t\t\t\t\tonChange( { ...value, ...suggestion } );\n\t\t\t\t\t\tstopEditing();\n\t\t\t\t\t} }\n\t\t\t\t\trenderSuggestions={ renderSearchResults }\n\t\t\t\t\tfetchSuggestions={ getSearchHandler }\n\t\t\t\t\tshowInitialSuggestions={ showInitialSuggestions }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<p\n\t\t\t\t\t\tclassName=\"screen-reader-text\"\n\t\t\t\t\t\tid={ `current-link-label-${ instanceId }` }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Currently selected' ) }:\n\t\t\t\t\t</p>\n\t\t\t\t\t<div\n\t\t\t\t\t\taria-labelledby={ `current-link-label-${ instanceId }` }\n\t\t\t\t\t\taria-selected=\"true\"\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'block-editor-link-control__search-item',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'is-current': true,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"block-editor-link-control__search-item-header\">\n\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\tclassName=\"block-editor-link-control__search-item-title\"\n\t\t\t\t\t\t\t\thref={ value.url }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ ( value && value.title ) || displayURL }\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t{ value && value.title && (\n\t\t\t\t\t\t\t\t<span className=\"block-editor-link-control__search-item-info\">\n\t\t\t\t\t\t\t\t\t{ displayURL }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\tonClick={ () => setIsEditingLink( true ) }\n\t\t\t\t\t\t\tclassName=\"block-editor-link-control__search-item-action\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t\t<LinkControlSettingsDrawer\n\t\t\t\tvalue={ value }\n\t\t\t\tsettings={ settings }\n\t\t\t\tonChange={ onChange }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default LinkControl;\n","/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { LEFT, RIGHT, UP, DOWN, BACKSPACE, ENTER } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { URLInput } from '../';\n\nconst handleLinkControlOnKeyDown = ( event ) => {\n\tconst { keyCode } = event;\n\n\tif ( [ LEFT, DOWN, RIGHT, UP, BACKSPACE, ENTER ].indexOf( keyCode ) > -1 ) {\n\t\t// Stop the key event from propagating up to ObserveTyping.startTypingInTextField.\n\t\tevent.stopPropagation();\n\t}\n};\n\nconst handleLinkControlOnKeyPress = ( event ) => {\n\tconst { keyCode } = event;\n\n\tevent.stopPropagation();\n\n\tif ( keyCode === ENTER ) {\n\t}\n};\n\nconst LinkControlSearchInput = ( {\n\tvalue,\n\tonChange,\n\tonSelect,\n\trenderSuggestions,\n\tfetchSuggestions,\n\tshowInitialSuggestions,\n} ) => {\n\tconst [ selectedSuggestion, setSelectedSuggestion ] = useState();\n\n\tconst selectItemHandler = ( selection, suggestion ) => {\n\t\tonChange( selection );\n\t\tsetSelectedSuggestion( suggestion );\n\t};\n\n\tfunction selectSuggestionOrCurrentInputValue( event ) {\n\t\t// Avoid default forms behavior, since it's being handled custom here.\n\t\tevent.preventDefault();\n\n\t\t// Interpret the selected value as either the selected suggestion, if\n\t\t// exists, or otherwise the current input value as entered.\n\t\tonSelect( selectedSuggestion || { url: value } );\n\t}\n\n\treturn (\n\t\t<form onSubmit={ selectSuggestionOrCurrentInputValue }>\n\t\t\t<URLInput\n\t\t\t\tclassName=\"block-editor-link-control__search-input\"\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ selectItemHandler }\n\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\tif ( event.keyCode === ENTER ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\thandleLinkControlOnKeyDown( event );\n\t\t\t\t} }\n\t\t\t\tonKeyPress={ handleLinkControlOnKeyPress }\n\t\t\t\tplaceholder={ __( 'Search or type url' ) }\n\t\t\t\t__experimentalRenderSuggestions={ renderSuggestions }\n\t\t\t\t__experimentalFetchLinkSuggestions={ fetchSuggestions }\n\t\t\t\t__experimentalHandleURLSuggestions={ true }\n\t\t\t\t__experimentalShowInitialSuggestions={ showInitialSuggestions }\n\t\t\t/>\n\t\t\t<div className=\"block-editor-link-control__search-actions\">\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tlabel={ __( 'Submit' ) }\n\t\t\t\t\ticon=\"editor-break\"\n\t\t\t\t\tclassName=\"block-editor-link-control__search-submit\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nexport default LinkControlSearchInput;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { safeDecodeURI } from '@wordpress/url';\nimport { __ } from '@wordpress/i18n';\nimport { Button, Icon, TextHighlight } from '@wordpress/components';\n\nexport const LinkControlSearchItem = ( {\n\titemProps,\n\tsuggestion,\n\tisSelected = false,\n\tonClick,\n\tisURL = false,\n\tsearchTerm = '',\n} ) => {\n\treturn (\n\t\t<Button\n\t\t\t{ ...itemProps }\n\t\t\tonClick={ onClick }\n\t\t\tclassName={ classnames( 'block-editor-link-control__search-item', {\n\t\t\t\t'is-selected': isSelected,\n\t\t\t\t'is-url': isURL,\n\t\t\t\t'is-entity': ! isURL,\n\t\t\t} ) }\n\t\t>\n\t\t\t{ isURL && (\n\t\t\t\t<Icon\n\t\t\t\t\tclassName=\"block-editor-link-control__search-item-icon\"\n\t\t\t\t\ticon=\"admin-site-alt3\"\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<span className=\"block-editor-link-control__search-item-header\">\n\t\t\t\t<span className=\"block-editor-link-control__search-item-title\">\n\t\t\t\t\t<TextHighlight\n\t\t\t\t\t\ttext={ suggestion.title }\n\t\t\t\t\t\thighlight={ searchTerm }\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\taria-hidden={ ! isURL }\n\t\t\t\t\tclassName=\"block-editor-link-control__search-item-info\"\n\t\t\t\t>\n\t\t\t\t\t{ ! isURL && ( safeDecodeURI( suggestion.url ) || '' ) }\n\t\t\t\t\t{ isURL && __( 'Press ENTER to add this link' ) }\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t\t{ suggestion.type && (\n\t\t\t\t<span className=\"block-editor-link-control__search-item-type\">\n\t\t\t\t\t{ suggestion.type }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t</Button>\n\t);\n};\n\nexport default LinkControlSearchItem;\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ToggleControl } from '@wordpress/components';\n\nconst defaultSettings = [\n\t{\n\t\tid: 'opensInNewTab',\n\t\ttitle: __( 'Open in new tab' ),\n\t},\n];\n\nconst LinkControlSettingsDrawer = ( {\n\tvalue,\n\tonChange = noop,\n\tsettings = defaultSettings,\n} ) => {\n\tif ( ! settings || ! settings.length ) {\n\t\treturn null;\n\t}\n\n\tconst handleSettingChange = ( setting ) => ( newValue ) => {\n\t\tonChange( {\n\t\t\t...value,\n\t\t\t[ setting.id ]: newValue,\n\t\t} );\n\t};\n\n\tconst theSettings = settings.map( ( setting ) => (\n\t\t<ToggleControl\n\t\t\tclassName=\"block-editor-link-control__setting\"\n\t\t\tkey={ setting.id }\n\t\t\tlabel={ setting.title }\n\t\t\tonChange={ handleSettingChange( setting ) }\n\t\t\tchecked={ value ? !! value[ setting.id ] : false }\n\t\t/>\n\t) );\n\n\treturn (\n\t\t<fieldset className=\"block-editor-link-control__settings\">\n\t\t\t<legend className=\"screen-reader-text\">\n\t\t\t\t{ __( 'Currently selected link settings' ) }\n\t\t\t</legend>\n\t\t\t{ theSettings }\n\t\t</fieldset>\n\t);\n};\n\nexport default LinkControlSettingsDrawer;\n","/**\n * External dependencies\n */\nimport { every, get, isArray, noop, startsWith } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tFormFileUpload,\n\tPlaceholder,\n\tDropZone,\n\twithFilters,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { keyboardReturn } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport MediaUpload from '../media-upload';\nimport MediaUploadCheck from '../media-upload/check';\nimport URLPopover from '../url-popover';\n\nconst InsertFromURLPopover = ( { src, onChange, onSubmit, onClose } ) => (\n\t<URLPopover onClose={ onClose }>\n\t\t<form\n\t\t\tclassName=\"block-editor-media-placeholder__url-input-form\"\n\t\t\tonSubmit={ onSubmit }\n\t\t>\n\t\t\t<input\n\t\t\t\tclassName=\"block-editor-media-placeholder__url-input-field\"\n\t\t\t\ttype=\"url\"\n\t\t\t\taria-label={ __( 'URL' ) }\n\t\t\t\tplaceholder={ __( 'Paste or type URL' ) }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tvalue={ src }\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tclassName=\"block-editor-media-placeholder__url-input-submit-button\"\n\t\t\t\ticon={ keyboardReturn }\n\t\t\t\tlabel={ __( 'Apply' ) }\n\t\t\t\ttype=\"submit\"\n\t\t\t/>\n\t\t</form>\n\t</URLPopover>\n);\n\nexport class MediaPlaceholder extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\tsrc: '',\n\t\t\tisURLInputVisible: false,\n\t\t};\n\t\tthis.onChangeSrc = this.onChangeSrc.bind( this );\n\t\tthis.onSubmitSrc = this.onSubmitSrc.bind( this );\n\t\tthis.onUpload = this.onUpload.bind( this );\n\t\tthis.onFilesUpload = this.onFilesUpload.bind( this );\n\t\tthis.openURLInput = this.openURLInput.bind( this );\n\t\tthis.closeURLInput = this.closeURLInput.bind( this );\n\t}\n\n\tonlyAllowsImages() {\n\t\tconst { allowedTypes } = this.props;\n\t\tif ( ! allowedTypes ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn every( allowedTypes, ( allowedType ) => {\n\t\t\treturn (\n\t\t\t\tallowedType === 'image' || startsWith( allowedType, 'image/' )\n\t\t\t);\n\t\t} );\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setState( { src: get( this.props.value, [ 'src' ], '' ) } );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif (\n\t\t\tget( prevProps.value, [ 'src' ], '' ) !==\n\t\t\tget( this.props.value, [ 'src' ], '' )\n\t\t) {\n\t\t\tthis.setState( { src: get( this.props.value, [ 'src' ], '' ) } );\n\t\t}\n\t}\n\n\tonChangeSrc( event ) {\n\t\tthis.setState( { src: event.target.value } );\n\t}\n\n\tonSubmitSrc( event ) {\n\t\tevent.preventDefault();\n\t\tif ( this.state.src && this.props.onSelectURL ) {\n\t\t\tthis.props.onSelectURL( this.state.src );\n\t\t\tthis.closeURLInput();\n\t\t}\n\t}\n\n\tonUpload( event ) {\n\t\tthis.onFilesUpload( event.target.files );\n\t}\n\n\tonFilesUpload( files ) {\n\t\tconst {\n\t\t\taddToGallery,\n\t\t\tallowedTypes,\n\t\t\tmediaUpload,\n\t\t\tmultiple,\n\t\t\tonError,\n\t\t\tonSelect,\n\t\t\tvalue = [],\n\t\t} = this.props;\n\t\tlet setMedia;\n\t\tif ( multiple ) {\n\t\t\tif ( addToGallery ) {\n\t\t\t\tconst currentValue = value;\n\t\t\t\tsetMedia = ( newMedia ) => {\n\t\t\t\t\tonSelect( currentValue.concat( newMedia ) );\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tsetMedia = onSelect;\n\t\t\t}\n\t\t} else {\n\t\t\tsetMedia = ( [ media ] ) => onSelect( media );\n\t\t}\n\t\tmediaUpload( {\n\t\t\tallowedTypes,\n\t\t\tfilesList: files,\n\t\t\tonFileChange: setMedia,\n\t\t\tonError,\n\t\t} );\n\t}\n\n\topenURLInput() {\n\t\tthis.setState( { isURLInputVisible: true } );\n\t}\n\n\tcloseURLInput() {\n\t\tthis.setState( { isURLInputVisible: false } );\n\t}\n\n\trenderPlaceholder( content, onClick ) {\n\t\tconst {\n\t\t\tallowedTypes = [],\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\tisAppender,\n\t\t\tlabels = {},\n\t\t\tonDoubleClick,\n\t\t\tmediaPreview,\n\t\t\tnotices,\n\t\t\tonSelectURL,\n\t\t\tmediaUpload,\n\t\t\tchildren,\n\t\t} = this.props;\n\n\t\tlet instructions = labels.instructions;\n\t\tlet title = labels.title;\n\n\t\tif ( ! mediaUpload && ! onSelectURL ) {\n\t\t\tinstructions = __(\n\t\t\t\t'To edit this block, you need permission to upload media.'\n\t\t\t);\n\t\t}\n\n\t\tif ( instructions === undefined || title === undefined ) {\n\t\t\tconst isOneType = 1 === allowedTypes.length;\n\t\t\tconst isAudio = isOneType && 'audio' === allowedTypes[ 0 ];\n\t\t\tconst isImage = isOneType && 'image' === allowedTypes[ 0 ];\n\t\t\tconst isVideo = isOneType && 'video' === allowedTypes[ 0 ];\n\n\t\t\tif ( instructions === undefined && mediaUpload ) {\n\t\t\t\tinstructions = __(\n\t\t\t\t\t'Upload a media file or pick one from your media library.'\n\t\t\t\t);\n\n\t\t\t\tif ( isAudio ) {\n\t\t\t\t\tinstructions = __(\n\t\t\t\t\t\t'Upload an audio file, pick one from your media library, or add one with a URL.'\n\t\t\t\t\t);\n\t\t\t\t} else if ( isImage ) {\n\t\t\t\t\tinstructions = __(\n\t\t\t\t\t\t'Upload an image file, pick one from your media library, or add one with a URL.'\n\t\t\t\t\t);\n\t\t\t\t} else if ( isVideo ) {\n\t\t\t\t\tinstructions = __(\n\t\t\t\t\t\t'Upload a video file, pick one from your media library, or add one with a URL.'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( title === undefined ) {\n\t\t\t\ttitle = __( 'Media' );\n\n\t\t\t\tif ( isAudio ) {\n\t\t\t\t\ttitle = __( 'Audio' );\n\t\t\t\t} else if ( isImage ) {\n\t\t\t\t\ttitle = __( 'Image' );\n\t\t\t\t} else if ( isVideo ) {\n\t\t\t\t\ttitle = __( 'Video' );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst placeholderClassName = classnames(\n\t\t\t'block-editor-media-placeholder',\n\t\t\tclassName,\n\t\t\t{\n\t\t\t\t'is-appender': isAppender,\n\t\t\t}\n\t\t);\n\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\ticon={ icon }\n\t\t\t\tlabel={ title }\n\t\t\t\tinstructions={ instructions }\n\t\t\t\tclassName={ placeholderClassName }\n\t\t\t\tnotices={ notices }\n\t\t\t\tonClick={ onClick }\n\t\t\t\tonDoubleClick={ onDoubleClick }\n\t\t\t\tpreview={ mediaPreview }\n\t\t\t>\n\t\t\t\t{ content }\n\t\t\t\t{ children }\n\t\t\t</Placeholder>\n\t\t);\n\t}\n\n\trenderDropZone() {\n\t\tconst { disableDropZone, onHTMLDrop = noop } = this.props;\n\n\t\tif ( disableDropZone ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<DropZone\n\t\t\t\tonFilesDrop={ this.onFilesUpload }\n\t\t\t\tonHTMLDrop={ onHTMLDrop }\n\t\t\t/>\n\t\t);\n\t}\n\n\trenderCancelLink() {\n\t\tconst { onCancel } = this.props;\n\t\treturn (\n\t\t\tonCancel && (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"block-editor-media-placeholder__cancel-button\"\n\t\t\t\t\ttitle={ __( 'Cancel' ) }\n\t\t\t\t\tisLink\n\t\t\t\t\tonClick={ onCancel }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t</Button>\n\t\t\t)\n\t\t);\n\t}\n\n\trenderUrlSelectionUI() {\n\t\tconst { onSelectURL } = this.props;\n\t\tif ( ! onSelectURL ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst { isURLInputVisible, src } = this.state;\n\t\treturn (\n\t\t\t<div className=\"block-editor-media-placeholder__url-input-container\">\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"block-editor-media-placeholder__button\"\n\t\t\t\t\tonClick={ this.openURLInput }\n\t\t\t\t\tisPressed={ isURLInputVisible }\n\t\t\t\t\tisSecondary\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Insert from URL' ) }\n\t\t\t\t</Button>\n\t\t\t\t{ isURLInputVisible && (\n\t\t\t\t\t<InsertFromURLPopover\n\t\t\t\t\t\tsrc={ src }\n\t\t\t\t\t\tonChange={ this.onChangeSrc }\n\t\t\t\t\t\tonSubmit={ this.onSubmitSrc }\n\t\t\t\t\t\tonClose={ this.closeURLInput }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderMediaUploadChecked() {\n\t\tconst {\n\t\t\taccept,\n\t\t\taddToGallery,\n\t\t\tallowedTypes = [],\n\t\t\tisAppender,\n\t\t\tmediaUpload,\n\t\t\tmultiple = false,\n\t\t\tonSelect,\n\t\t\tvalue = {},\n\t\t} = this.props;\n\n\t\tconst mediaLibraryButton = (\n\t\t\t<MediaUpload\n\t\t\t\taddToGallery={ addToGallery }\n\t\t\t\tgallery={ multiple && this.onlyAllowsImages() }\n\t\t\t\tmultiple={ multiple }\n\t\t\t\tonSelect={ onSelect }\n\t\t\t\tallowedTypes={ allowedTypes }\n\t\t\t\tvalue={\n\t\t\t\t\tisArray( value ) ? value.map( ( { id } ) => id ) : value.id\n\t\t\t\t}\n\t\t\t\trender={ ( { open } ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\topen();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Media Library' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t/>\n\t\t);\n\n\t\tif ( mediaUpload && isAppender ) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{ this.renderDropZone() }\n\t\t\t\t\t<FormFileUpload\n\t\t\t\t\t\tonChange={ this.onUpload }\n\t\t\t\t\t\taccept={ accept }\n\t\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\t\trender={ ( { openFileDialog } ) => {\n\t\t\t\t\t\t\tconst content = (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t\t\t'block-editor-media-placeholder__button',\n\t\t\t\t\t\t\t\t\t\t\t'block-editor-media-placeholder__upload-button'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Upload' ) }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t{ mediaLibraryButton }\n\t\t\t\t\t\t\t\t\t{ this.renderUrlSelectionUI() }\n\t\t\t\t\t\t\t\t\t{ this.renderCancelLink() }\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn this.renderPlaceholder(\n\t\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\t\topenFileDialog\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\n\t\tif ( mediaUpload ) {\n\t\t\tconst content = (\n\t\t\t\t<>\n\t\t\t\t\t{ this.renderDropZone() }\n\t\t\t\t\t<FormFileUpload\n\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'block-editor-media-placeholder__button',\n\t\t\t\t\t\t\t'block-editor-media-placeholder__upload-button'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonChange={ this.onUpload }\n\t\t\t\t\t\taccept={ accept }\n\t\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Upload' ) }\n\t\t\t\t\t</FormFileUpload>\n\t\t\t\t\t{ mediaLibraryButton }\n\t\t\t\t\t{ this.renderUrlSelectionUI() }\n\t\t\t\t\t{ this.renderCancelLink() }\n\t\t\t\t</>\n\t\t\t);\n\t\t\treturn this.renderPlaceholder( content );\n\t\t}\n\n\t\treturn this.renderPlaceholder( mediaLibraryButton );\n\t}\n\n\trender() {\n\t\tconst { disableMediaButtons, dropZoneUIOnly } = this.props;\n\n\t\tif ( dropZoneUIOnly || disableMediaButtons ) {\n\t\t\tif ( dropZoneUIOnly ) {\n\t\t\t\tdeprecated(\n\t\t\t\t\t'wp.blockEditor.MediaPlaceholder dropZoneUIOnly prop',\n\t\t\t\t\t{\n\t\t\t\t\t\talternative: 'disableMediaButtons',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<MediaUploadCheck>{ this.renderDropZone() }</MediaUploadCheck>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<MediaUploadCheck\n\t\t\t\tfallback={ this.renderPlaceholder(\n\t\t\t\t\tthis.renderUrlSelectionUI()\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t{ this.renderMediaUploadChecked() }\n\t\t\t</MediaUploadCheck>\n\t\t);\n\t}\n}\n\nconst applyWithSelect = withSelect( ( select ) => {\n\tconst { getSettings } = select( 'core/block-editor' );\n\n\treturn {\n\t\tmediaUpload: getSettings().mediaUpload,\n\t};\n} );\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/media-placeholder/README.md\n */\nexport default compose(\n\tapplyWithSelect,\n\twithFilters( 'editor.MediaPlaceholder' )\n)( MediaPlaceholder );\n","/**\n * WordPress dependencies\n */\nimport { useState, createRef } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { speak } from '@wordpress/a11y';\nimport {\n\tFormFileUpload,\n\tNavigableMenu,\n\tMenuItem,\n\tToolbarGroup,\n\tButton,\n\tDropdown,\n\twithNotices,\n} from '@wordpress/components';\nimport { LEFT, RIGHT, UP, DOWN, BACKSPACE, ENTER } from '@wordpress/keycodes';\nimport { useSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { link, upload } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport MediaUpload from '../media-upload';\nimport MediaUploadCheck from '../media-upload/check';\nimport LinkEditor from '../url-popover/link-editor';\nimport LinkViewer from '../url-popover/link-viewer';\n\nconst MediaReplaceFlow = ( {\n\tmediaURL,\n\tmediaId,\n\tallowedTypes,\n\taccept,\n\tonSelect,\n\tonSelectURL,\n\tonError,\n\tname = __( 'Replace' ),\n} ) => {\n\tconst [ showURLInput, setShowURLInput ] = useState( false );\n\tconst [ showEditURLInput, setShowEditURLInput ] = useState( false );\n\tconst [ mediaURLValue, setMediaURLValue ] = useState( mediaURL );\n\tconst mediaUpload = useSelect( ( select ) => {\n\t\treturn select( 'core/block-editor' ).getSettings().mediaUpload;\n\t}, [] );\n\tconst editMediaButtonRef = createRef();\n\n\tconst stopPropagation = ( event ) => {\n\t\tevent.stopPropagation();\n\t};\n\n\tconst stopPropagationRelevantKeys = ( event ) => {\n\t\tif (\n\t\t\t[ LEFT, DOWN, RIGHT, UP, BACKSPACE, ENTER ].indexOf(\n\t\t\t\tevent.keyCode\n\t\t\t) > -1\n\t\t) {\n\t\t\t// Stop the key event from propagating up to ObserveTyping.startTypingInTextField.\n\t\t\tevent.stopPropagation();\n\t\t}\n\t};\n\n\tconst selectMedia = ( media ) => {\n\t\tonSelect( media );\n\t\tsetMediaURLValue( media.url );\n\t\tspeak( __( 'The media file has been replaced' ) );\n\t};\n\n\tconst selectURL = ( newURL ) => {\n\t\tonSelectURL( newURL );\n\t\tsetShowEditURLInput( false );\n\t};\n\n\tconst uploadFiles = ( event, closeDropdown ) => {\n\t\tconst files = event.target.files;\n\t\tconst setMedia = ( [ media ] ) => {\n\t\t\tselectMedia( media );\n\t\t\tcloseDropdown();\n\t\t};\n\t\tmediaUpload( {\n\t\t\tallowedTypes,\n\t\t\tfilesList: files,\n\t\t\tonFileChange: setMedia,\n\t\t\tonError,\n\t\t} );\n\t};\n\n\tconst openOnArrowDown = ( event ) => {\n\t\tif ( event.keyCode === DOWN ) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tevent.target.click();\n\t\t}\n\t};\n\n\tlet urlInputUIContent;\n\tif ( showEditURLInput ) {\n\t\turlInputUIContent = (\n\t\t\t<LinkEditor\n\t\t\t\tonKeyDown={ stopPropagationRelevantKeys }\n\t\t\t\tonKeyPress={ stopPropagation }\n\t\t\t\tvalue={ mediaURLValue }\n\t\t\t\tisFullWidthInput={ true }\n\t\t\t\thasInputBorder={ true }\n\t\t\t\tonChangeInputValue={ ( url ) => setMediaURLValue( url ) }\n\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tselectURL( mediaURLValue );\n\t\t\t\t\teditMediaButtonRef.current.focus();\n\t\t\t\t} }\n\t\t\t/>\n\t\t);\n\t} else {\n\t\turlInputUIContent = (\n\t\t\t<LinkViewer\n\t\t\t\tisFullWidth={ true }\n\t\t\t\tclassName=\"block-editor-media-replace-flow__link-viewer\"\n\t\t\t\turl={ mediaURLValue }\n\t\t\t\tonEditLinkClick={ () =>\n\t\t\t\t\tsetShowEditURLInput( ! showEditURLInput )\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Dropdown\n\t\t\tcontentClassName=\"block-editor-media-replace-flow__options\"\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<ToolbarGroup className=\"media-replace-flow\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tref={ editMediaButtonRef }\n\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\tonKeyDown={ openOnArrowDown }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ name }\n\t\t\t\t\t\t<span className=\"block-editor-media-replace-flow__indicator\" />\n\t\t\t\t\t</Button>\n\t\t\t\t</ToolbarGroup>\n\t\t\t) }\n\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t<>\n\t\t\t\t\t<NavigableMenu>\n\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\tvalue={ mediaId }\n\t\t\t\t\t\t\tonSelect={ ( media ) => selectMedia( media ) }\n\t\t\t\t\t\t\tallowedTypes={ allowedTypes }\n\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t<MenuItem icon=\"admin-media\" onClick={ open }>\n\t\t\t\t\t\t\t\t\t{ __( 'Open Media Library' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t<FormFileUpload\n\t\t\t\t\t\t\t\tonChange={ ( event ) => {\n\t\t\t\t\t\t\t\t\tuploadFiles( event, onClose );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\taccept={ accept }\n\t\t\t\t\t\t\t\trender={ ( { openFileDialog } ) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\ticon={ upload }\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\topenFileDialog();\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Upload' ) }\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t\t{ onSelectURL && (\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\ticon={ link }\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\tsetShowURLInput( ! showURLInput )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taria-expanded={ showURLInput }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div> { __( 'Insert from URL' ) } </div>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</NavigableMenu>\n\t\t\t\t\t{ showURLInput && (\n\t\t\t\t\t\t<div className=\"block-editor-media-flow__url-input\">\n\t\t\t\t\t\t\t{ urlInputUIContent }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t) }\n\t\t/>\n\t);\n};\n\nexport default compose( withNotices )( MediaReplaceFlow );\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\n\nexport function MediaUploadCheck( {\n\thasUploadPermissions,\n\tfallback = null,\n\tchildren,\n} ) {\n\treturn hasUploadPermissions ? children : fallback;\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/media-upload/README.md\n */\nexport default withSelect( ( select ) => {\n\tconst { getSettings } = select( 'core/block-editor' );\n\n\treturn {\n\t\thasUploadPermissions: !! getSettings().mediaUpload,\n\t};\n} )( MediaUploadCheck );\n","/**\n * WordPress dependencies\n */\nimport { withFilters } from '@wordpress/components';\n\n/**\n * This is a placeholder for the media upload component necessary to make it possible to provide\n * an integration with the core blocks that handle media files. By default it renders nothing but\n * it provides a way to have it overridden with the `editor.MediaUpload` filter.\n *\n * @return {WPComponent} The component to be rendered.\n */\nconst MediaUpload = () => null;\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/media-upload/README.md\n */\nexport default withFilters( 'editor.MediaUpload' )( MediaUpload );\n","/**\n * External dependencies\n */\nimport scrollIntoView from 'dom-scroll-into-view';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { getScrollContainer } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport { getBlockDOMNode } from '../../utils/dom';\n\n/**\n * Scrolls the multi block selection end into view if not in view already. This\n * is important to do after selection by keyboard.\n */\nexport default function MultiSelectScrollIntoView() {\n\tconst selector = ( select ) => {\n\t\tconst {\n\t\t\tgetBlockSelectionEnd,\n\t\t\thasMultiSelection,\n\t\t\tisMultiSelecting,\n\t\t} = select( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tselectionEnd: getBlockSelectionEnd(),\n\t\t\tisMultiSelection: hasMultiSelection(),\n\t\t\tisMultiSelecting: isMultiSelecting(),\n\t\t};\n\t};\n\tconst { isMultiSelection, selectionEnd, isMultiSelecting } = useSelect(\n\t\tselector,\n\t\t[]\n\t);\n\n\tuseEffect( () => {\n\t\tif ( ! selectionEnd || isMultiSelecting || ! isMultiSelection ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst extentNode = getBlockDOMNode( selectionEnd );\n\n\t\tif ( ! extentNode ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollContainer = getScrollContainer( extentNode );\n\n\t\t// If there's no scroll container, it follows that there's no scrollbar\n\t\t// and thus there's no need to try to scroll into view.\n\t\tif ( ! scrollContainer ) {\n\t\t\treturn;\n\t\t}\n\n\t\tscrollIntoView( extentNode, scrollContainer, {\n\t\t\tonlyScrollIfNeeded: true,\n\t\t} );\n\t}, [ isMultiSelection, selectionEnd, isMultiSelecting ] );\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { sprintf, _n } from '@wordpress/i18n';\nimport { withSelect } from '@wordpress/data';\nimport { serialize } from '@wordpress/blocks';\nimport { count as wordCount } from '@wordpress/wordcount';\nimport { Path, SVG } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\n\nfunction MultiSelectionInspector( { blocks } ) {\n\tconst words = wordCount( serialize( blocks ), 'words' );\n\n\treturn (\n\t\t<div className=\"block-editor-multi-selection-inspector__card\">\n\t\t\t<BlockIcon\n\t\t\t\ticon={\n\t\t\t\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<Path d=\"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z\" />\n\t\t\t\t\t</SVG>\n\t\t\t\t}\n\t\t\t\tshowColors\n\t\t\t/>\n\t\t\t<div className=\"block-editor-multi-selection-inspector__card-content\">\n\t\t\t\t<div className=\"block-editor-multi-selection-inspector__card-title\">\n\t\t\t\t\t{ /* translators: %d: number of blocks */\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t_n( '%d block', '%d blocks', blocks.length ),\n\t\t\t\t\t\tblocks.length\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"block-editor-multi-selection-inspector__card-description\">\n\t\t\t\t\t{ /* translators: %d: number of words */\n\t\t\t\t\tsprintf( _n( '%d word', '%d words', words ), words ) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getMultiSelectedBlocks } = select( 'core/block-editor' );\n\treturn {\n\t\tblocks: getMultiSelectedBlocks(),\n\t};\n} )( MultiSelectionInspector );\n","/**\n * WordPress dependencies\n */\nimport { NavigableMenu } from '@wordpress/components';\nimport { useRef, useEffect, useCallback } from '@wordpress/element';\nimport { focus } from '@wordpress/dom';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\n\nfunction NavigableToolbar( { children, focusOnMount, ...props } ) {\n\tconst wrapper = useRef();\n\tconst focusToolbar = useCallback( () => {\n\t\tconst tabbables = focus.tabbable.find( wrapper.current );\n\t\tif ( tabbables.length ) {\n\t\t\ttabbables[ 0 ].focus();\n\t\t}\n\t}, [] );\n\tuseShortcut( 'core/block-editor/focus-toolbar', focusToolbar, {\n\t\tbindGlobal: true,\n\t\teventName: 'keydown',\n\t} );\n\tuseEffect( () => {\n\t\tif ( focusOnMount ) {\n\t\t\tfocusToolbar();\n\t\t}\n\t}, [] );\n\n\treturn (\n\t\t<NavigableMenu\n\t\t\torientation=\"horizontal\"\n\t\t\trole=\"toolbar\"\n\t\t\tref={ wrapper }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ children }\n\t\t</NavigableMenu>\n\t);\n}\n\nexport default NavigableToolbar;\n","/**\n * External dependencies\n */\nimport { over, includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { isTextField } from '@wordpress/dom';\nimport {\n\tUP,\n\tRIGHT,\n\tDOWN,\n\tLEFT,\n\tENTER,\n\tBACKSPACE,\n\tESCAPE,\n} from '@wordpress/keycodes';\nimport { withSafeTimeout } from '@wordpress/compose';\n\n/**\n * Set of key codes upon which typing is to be initiated on a keydown event.\n *\n * @type {number[]}\n */\nconst KEY_DOWN_ELIGIBLE_KEY_CODES = [ UP, RIGHT, DOWN, LEFT, ENTER, BACKSPACE ];\n\n/**\n * Returns true if a given keydown event can be inferred as intent to start\n * typing, or false otherwise. A keydown is considered eligible if it is a\n * text navigation without shift active.\n *\n * @param {KeyboardEvent} event Keydown event to test.\n *\n * @return {boolean} Whether event is eligible to start typing.\n */\nfunction isKeyDownEligibleForStartTyping( event ) {\n\tconst { keyCode, shiftKey } = event;\n\treturn ! shiftKey && includes( KEY_DOWN_ELIGIBLE_KEY_CODES, keyCode );\n}\n\nfunction ObserveTyping( { children, setTimeout: setSafeTimeout } ) {\n\tconst typingContainer = useRef();\n\tconst lastMouseMove = useRef();\n\tconst isTyping = useSelect( ( select ) =>\n\t\tselect( 'core/block-editor' ).isTyping()\n\t);\n\tconst { startTyping, stopTyping } = useDispatch( 'core/block-editor' );\n\tuseEffect( () => {\n\t\ttoggleEventBindings( isTyping );\n\t\treturn () => toggleEventBindings( false );\n\t}, [ isTyping ] );\n\n\t/**\n\t * Bind or unbind events to the document when typing has started or stopped\n\t * respectively, or when component has become unmounted.\n\t *\n\t * @param {boolean} isBound Whether event bindings should be applied.\n\t */\n\tfunction toggleEventBindings( isBound ) {\n\t\tconst bindFn = isBound ? 'addEventListener' : 'removeEventListener';\n\t\tdocument[ bindFn ](\n\t\t\t'selectionchange',\n\t\t\tstopTypingOnSelectionUncollapse\n\t\t);\n\t\tdocument[ bindFn ]( 'mousemove', stopTypingOnMouseMove );\n\t}\n\n\t/**\n\t * On mouse move, unset typing flag if user has moved cursor.\n\t *\n\t * @param {MouseEvent} event Mousemove event.\n\t */\n\tfunction stopTypingOnMouseMove( event ) {\n\t\tconst { clientX, clientY } = event;\n\n\t\t// We need to check that the mouse really moved because Safari triggers\n\t\t// mousemove events when shift or ctrl are pressed.\n\t\tif ( lastMouseMove.current ) {\n\t\t\tconst {\n\t\t\t\tclientX: lastClientX,\n\t\t\t\tclientY: lastClientY,\n\t\t\t} = lastMouseMove.current;\n\n\t\t\tif ( lastClientX !== clientX || lastClientY !== clientY ) {\n\t\t\t\tstopTyping();\n\t\t\t}\n\t\t}\n\n\t\tlastMouseMove.current = { clientX, clientY };\n\t}\n\n\t/**\n\t * On selection change, unset typing flag if user has made an uncollapsed\n\t * (shift) selection.\n\t */\n\tfunction stopTypingOnSelectionUncollapse() {\n\t\tconst selection = window.getSelection();\n\t\tconst isCollapsed =\n\t\t\tselection.rangeCount > 0 && selection.getRangeAt( 0 ).collapsed;\n\n\t\tif ( ! isCollapsed ) {\n\t\t\tstopTyping();\n\t\t}\n\t}\n\n\t/**\n\t * Unsets typing flag if user presses Escape while typing flag is active.\n\t *\n\t * @param {KeyboardEvent} event Keypress or keydown event to interpret.\n\t */\n\tfunction stopTypingOnEscapeKey( event ) {\n\t\tif ( isTyping && event.keyCode === ESCAPE ) {\n\t\t\tstopTyping();\n\t\t}\n\t}\n\n\t/**\n\t * Handles a keypress or keydown event to infer intention to start typing.\n\t *\n\t * @param {KeyboardEvent} event Keypress or keydown event to interpret.\n\t */\n\tfunction startTypingInTextField( event ) {\n\t\tconst { type, target } = event;\n\n\t\t// Abort early if already typing, or key press is incurred outside a\n\t\t// text field (e.g. arrow-ing through toolbar buttons).\n\t\t// Ignore typing if outside the current DOM container\n\t\tif (\n\t\t\tisTyping ||\n\t\t\t! isTextField( target ) ||\n\t\t\t! typingContainer.current.contains( target )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Special-case keydown because certain keys do not emit a keypress\n\t\t// event. Conversely avoid keydown as the canonical event since there\n\t\t// are many keydown which are explicitly not targeted for typing.\n\t\tif (\n\t\t\ttype === 'keydown' &&\n\t\t\t! isKeyDownEligibleForStartTyping( event )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tstartTyping();\n\t}\n\n\t/**\n\t * Stops typing when focus transitions to a non-text field element.\n\t *\n\t * @param {FocusEvent} event Focus event.\n\t */\n\tfunction stopTypingOnNonTextField( event ) {\n\t\tconst { target } = event;\n\n\t\t// Since focus to a non-text field via arrow key will trigger before\n\t\t// the keydown event, wait until after current stack before evaluating\n\t\t// whether typing is to be stopped. Otherwise, typing will re-start.\n\t\tsetSafeTimeout( () => {\n\t\t\tif ( isTyping && ! isTextField( target ) ) {\n\t\t\t\tstopTyping();\n\t\t\t}\n\t\t} );\n\t}\n\n\t// Disable reason: This component is responsible for capturing bubbled\n\t// keyboard events which are interpreted as typing intent.\n\n\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\treturn (\n\t\t<div\n\t\t\tref={ typingContainer }\n\t\t\tonFocus={ stopTypingOnNonTextField }\n\t\t\tonKeyPress={ startTypingInTextField }\n\t\t\tonKeyDown={ over( [\n\t\t\t\tstartTypingInTextField,\n\t\t\t\tstopTypingOnEscapeKey,\n\t\t\t] ) }\n\t\t>\n\t\t\t{ children }\n\t\t</div>\n\t);\n\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/observe-typing/README.md\n */\nexport default withSafeTimeout( ObserveTyping );\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\n\nconst PickerButton = ( props ) => {\n\tconst { icon, label, onPress } = props;\n\n\treturn (\n\t\t<Button onClick={ onPress }>\n\t\t\t{ icon } { label }\n\t\t</Button>\n\t);\n};\n\nexport default PickerButton;\n","/**\n * Internal dependencies\n */\nimport __experimentalBlockListFooter from '../block-list-footer';\n\nconst Container = ( { children } ) => {\n\treturn (\n\t\t<__experimentalBlockListFooter>\n\t\t\t{ children }\n\t\t</__experimentalBlockListFooter>\n\t);\n};\n\nexport default Container;\n","/**\n * WordPress dependencies\n */\nimport { parse } from '@wordpress/blocks';\n\n/**\n * External dependencies\n */\nimport memoize from 'memize';\n\nconst defaultTemplates = [\n\t{\n\t\tname: 'About',\n\t\ticon: '👋',\n\t\tcontent: `\n\t\t\t<!-- wp:paragraph {\"align\":\"left\"} -->\n\t\t\t<p class=\"has-text-align-left\">Visitors will want to know who is on the other side of the page. Use this space to write about yourself, your site, your business, or anything you want. Use the testimonials below to quote others, talking about the same thing – in their own words.</p>\n\t\t\t<!-- /wp:paragraph -->\n\n\t\t\t<!-- wp:paragraph {\"align\":\"left\"} -->\n\t\t\t<p class=\"has-text-align-left\">This is sample content, included with the template to illustrate its features. Remove or replace it with your own words and media.</p>\n\t\t\t<!-- /wp:paragraph -->\n\n\t\t\t<!-- wp:heading {\"align\":\"center\",\"level\":3} -->\n\t\t\t<h3 class=\"has-text-align-center\">What People Say</h3>\n\t\t\t<!-- /wp:heading -->\n\n\t\t\t<!-- wp:quote -->\n\t\t\t<blockquote class=\"wp-block-quote\"><p>The way to get started is to quit talking and begin doing.</p><cite>Walt Disney</cite></blockquote>\n\t\t\t<!-- /wp:quote -->\n\n\t\t\t<!-- wp:quote -->\n\t\t\t<blockquote class=\"wp-block-quote\"><p>It is our choices, Harry, that show what we truly are, far more than our abilities.</p><cite>J. K. Rowling</cite></blockquote>\n\t\t\t<!-- /wp:quote -->\n\n\t\t\t<!-- wp:quote -->\n\t\t\t<blockquote class=\"wp-block-quote\"><p>Don't cry because it's over, smile because it happened.</p><cite>Dr. Seuss</cite></blockquote>\n\t\t\t<!-- /wp:quote -->\n\n\t\t\t<!-- wp:separator {\"className\":\"is-style-wide\"} -->\n\t\t\t<hr class=\"wp-block-separator is-style-wide\"/>\n\t\t\t<!-- /wp:separator -->\n\n\t\t\t<!-- wp:heading {\"align\":\"center\"} -->\n\t\t\t<h2 class=\"has-text-align-center\">Let’s build something together.</h2>\n\t\t\t<!-- /wp:heading -->\n\n\t\t\t<!-- wp:paragraph {\"align\":\"center\",\"textColor\":\"primary\"} -->\n\t\t\t<p class=\"has-text-color has-text-align-center has-primary-color\"><strong><a href=\"#\">Get in touch!</a></strong></p>\n\t\t\t<!-- /wp:paragraph -->\n\n\t\t\t<!-- wp:separator {\"className\":\"is-style-wide\"} -->\n\t\t\t<hr class=\"wp-block-separator is-style-wide\"/>\n\t\t\t<!-- /wp:separator -->\n\t\t`,\n\t},\n\t{\n\t\tname: 'Contact',\n\t\ticon: '✉️',\n\t\tcontent: `\n\t\t\t<!-- wp:paragraph {\"align\":\"left\"} -->\n\t\t\t<p class=\"has-text-align-left\">Let's talk 👋 Don't hesitate to reach out with the contact information below, or send a message using the form.</p>\n\t\t\t<!-- /wp:paragraph -->\n\n\t\t\t<!-- wp:heading {\"align\":\"left\"} -->\n\t\t\t<h2 class=\"has-text-align-left\">Get in Touch</h2>\n\t\t\t<!-- /wp:heading -->\n\n\t\t\t<!-- wp:paragraph -->\n\t\t\t<p>10 Street Road</p>\n\t\t\t<!-- /wp:paragraph -->\n\n\t\t\t<!-- wp:paragraph -->\n\t\t\t<p>City,  10100</p>\n\t\t\t<!-- /wp:paragraph -->\n\n\t\t\t<!-- wp:paragraph -->\n\t\t\t<p>USA</p>\n\t\t\t<!-- /wp:paragraph -->\n\n\t\t\t<!-- wp:paragraph -->\n\t\t\t<p><a href=\"mailto:mail@example.com\">mail@example.com</a></p>\n\t\t\t<!-- /wp:paragraph -->\n\n\t\t\t<!-- wp:paragraph -->\n\t\t\t<p><a href=\"tel:5555551234\">(555) 555 1234</a></p>\n\t\t\t<!-- /wp:paragraph -->\n\t\t`,\n\t},\n];\n\nconst parsedTemplates = memoize( () =>\n\tdefaultTemplates.map( ( template ) => ( {\n\t\t...template,\n\t\tblocks: parse( template.content ),\n\t} ) )\n);\n\nexport default parsedTemplates;\n","/**\n * Internal dependencies\n */\nimport __experimentalPageTemplatePicker from './picker';\nimport __experimentalWithPageTemplatePickerVisible from './with-page-template-picker-visible';\nimport __experimentalUsePageTemplatePickerVisible from './use-page-template-picker-visible';\n\nexport { __experimentalPageTemplatePicker };\nexport { __experimentalWithPageTemplatePickerVisible };\nexport { __experimentalUsePageTemplatePickerVisible };\n","/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { parse } from '@wordpress/blocks';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport Button from './button';\nimport Container from './container';\nimport getDefaultTemplates from './default-templates';\nimport Preview from './preview';\n\nconst __experimentalPageTemplatePicker = ( {\n\ttemplates = getDefaultTemplates(),\n} ) => {\n\tconst { editPost } = useDispatch( 'core/editor' );\n\tconst [ templatePreview, setTemplatePreview ] = useState();\n\n\tconst onApply = () => {\n\t\teditPost( {\n\t\t\ttitle: templatePreview.name,\n\t\t\tblocks: parse( templatePreview.content ),\n\t\t} );\n\t\tsetTemplatePreview( undefined );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Container>\n\t\t\t\t{ templates.map( ( template ) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={ template.name }\n\t\t\t\t\t\ticon={ template.icon }\n\t\t\t\t\t\tlabel={ template.name }\n\t\t\t\t\t\tonPress={ () => setTemplatePreview( template ) }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</Container>\n\t\t\t<Preview\n\t\t\t\ttemplate={ templatePreview }\n\t\t\t\tonDismiss={ () => setTemplatePreview( undefined ) }\n\t\t\t\tonApply={ onApply }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default __experimentalPageTemplatePicker;\n","// Placeholder, only native variant implemented yet\nconst Preview = () => null;\n\nexport default Preview;\n","/**\n * WordPress dependencies\n */\nimport { isUnmodifiedDefaultBlock } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\n\nconst __experimentalUsePageTemplatePickerVisible = () => {\n\treturn useSelect( ( select ) => {\n\t\tconst { getCurrentPostType } = select( 'core/editor' );\n\n\t\tconst { getBlockOrder, getBlock, getSettings } = select(\n\t\t\t'core/block-editor'\n\t\t);\n\n\t\tconst isPageTemplatesEnabled = getSettings()\n\t\t\t.__experimentalEnablePageTemplates;\n\n\t\tconst blocks = getBlockOrder();\n\t\tconst isEmptyBlockList = blocks.length === 0;\n\t\tconst firstBlock = ! isEmptyBlockList && getBlock( blocks[ 0 ] );\n\t\tconst isOnlyUnmodifiedDefault =\n\t\t\tblocks.length === 1 && isUnmodifiedDefaultBlock( firstBlock );\n\t\tconst isEmptyContent = isEmptyBlockList || isOnlyUnmodifiedDefault;\n\t\tconst isPage = getCurrentPostType() === 'page';\n\n\t\treturn isPageTemplatesEnabled && isEmptyContent && isPage;\n\t}, [] );\n};\n\nexport default __experimentalUsePageTemplatePickerVisible;\n","/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport __experimentalUsePageTemplatePickerVisible from './use-page-template-picker-visible';\n\nconst __experimentalWithPageTemplatePickerVisible = createHigherOrderComponent(\n\t( WrappedComponent ) => ( props ) => {\n\t\tconst showPageTemplatePicker = __experimentalUsePageTemplatePickerVisible();\n\t\treturn (\n\t\t\t<WrappedComponent\n\t\t\t\t{ ...props }\n\t\t\t\tshowPageTemplatePicker={ showPageTemplatePicker }\n\t\t\t/>\n\t\t);\n\t},\n\t'__experimentalWithPageTemplatePickerVisible'\n);\n\nexport default __experimentalWithPageTemplatePickerVisible;\n","/**\n * Internal dependencies\n */\nimport PanelColorGradientSettings from '../colors-gradients/panel-color-gradient-settings';\n\nconst PanelColorSettings = ( { colorSettings, ...props } ) => {\n\tconst settings = colorSettings.map(\n\t\t( { value, onChange, ...otherSettings } ) => ( {\n\t\t\t...otherSettings,\n\t\t\tcolorValue: value,\n\t\t\tonColorChange: onChange,\n\t\t} )\n\t);\n\treturn (\n\t\t<PanelColorGradientSettings\n\t\t\tsettings={ settings }\n\t\t\tgradients={ [] }\n\t\t\tdisableCustomGradients={ true }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n};\nexport default PanelColorSettings;\n","/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * External dependencies\n */\nimport TextareaAutosize from 'react-autosize-textarea';\nimport classnames from 'classnames';\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/plain-text/README.md\n */\nconst PlainText = forwardRef( ( { onChange, className, ...props }, ref ) => {\n\treturn (\n\t\t<TextareaAutosize\n\t\t\tref={ ref }\n\t\t\tclassName={ classnames( 'block-editor-plain-text', className ) }\n\t\t\tonChange={ ( event ) => onChange( event.target.value ) }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n} );\n\nexport default PlainText;\n","/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\n\nexport default function PreserveScrollInReorder() {\n\tdeprecated( 'PreserveScrollInReorder component', {\n\t\thint: 'This behavior is now built-in the block list',\n\t} );\n\treturn null;\n}\n","/**\n * External dependencies\n */\nimport { last, noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport withRegistryProvider from './with-registry-provider';\n\n/** @typedef {import('@wordpress/data').WPDataRegistry} WPDataRegistry */\n\nclass BlockEditorProvider extends Component {\n\tcomponentDidMount() {\n\t\tthis.props.updateSettings( this.props.settings );\n\t\tthis.props.resetBlocks( this.props.value );\n\t\tthis.attachChangeObserver( this.props.registry );\n\t\tthis.isSyncingOutcomingValue = [];\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst {\n\t\t\tsettings,\n\t\t\tupdateSettings,\n\t\t\tvalue,\n\t\t\tresetBlocks,\n\t\t\tselectionStart,\n\t\t\tselectionEnd,\n\t\t\tresetSelection,\n\t\t\tregistry,\n\t\t} = this.props;\n\n\t\tif ( settings !== prevProps.settings ) {\n\t\t\tupdateSettings( settings );\n\t\t}\n\n\t\tif ( registry !== prevProps.registry ) {\n\t\t\tthis.attachChangeObserver( registry );\n\t\t}\n\n\t\tif ( this.isSyncingOutcomingValue.includes( value ) ) {\n\t\t\t// Skip block reset if the value matches expected outbound sync\n\t\t\t// triggered by this component by a preceding change detection.\n\t\t\t// Only skip if the value matches expectation, since a reset should\n\t\t\t// still occur if the value is modified (not equal by reference),\n\t\t\t// to allow that the consumer may apply modifications to reflect\n\t\t\t// back on the editor.\n\t\t\tif ( last( this.isSyncingOutcomingValue ) === value ) {\n\t\t\t\tthis.isSyncingOutcomingValue = [];\n\t\t\t}\n\t\t} else if ( value !== prevProps.value ) {\n\t\t\t// Reset changing value in all other cases than the sync described\n\t\t\t// above. Since this can be reached in an update following an out-\n\t\t\t// bound sync, unset the outbound value to avoid considering it in\n\t\t\t// subsequent renders.\n\t\t\tthis.isSyncingOutcomingValue = [];\n\t\t\tthis.isSyncingIncomingValue = value;\n\t\t\tresetBlocks( value );\n\n\t\t\tif ( selectionStart && selectionEnd ) {\n\t\t\t\tresetSelection( selectionStart, selectionEnd );\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif ( this.unsubscribe ) {\n\t\t\tthis.unsubscribe();\n\t\t}\n\t}\n\n\t/**\n\t * Given a registry object, overrides the default dispatch behavior for the\n\t * `core/block-editor` store to interpret a state change and decide whether\n\t * we should call `onChange` or `onInput` depending on whether the change\n\t * is persistent or not.\n\t *\n\t * This needs to be done synchronously after state changes (instead of using\n\t * `componentDidUpdate`) in order to avoid batching these changes.\n\t *\n\t * @param {WPDataRegistry} registry Registry from which block editor\n\t *                                  dispatch is to be overridden.\n\t */\n\tattachChangeObserver( registry ) {\n\t\tif ( this.unsubscribe ) {\n\t\t\tthis.unsubscribe();\n\t\t}\n\n\t\tconst {\n\t\t\tgetBlocks,\n\t\t\tgetSelectionStart,\n\t\t\tgetSelectionEnd,\n\t\t\tisLastBlockChangePersistent,\n\t\t\t__unstableIsLastBlockChangeIgnored,\n\t\t} = registry.select( 'core/block-editor' );\n\n\t\tlet blocks = getBlocks();\n\t\tlet isPersistent = isLastBlockChangePersistent();\n\n\t\tthis.unsubscribe = registry.subscribe( () => {\n\t\t\tconst { onChange = noop, onInput = noop } = this.props;\n\n\t\t\tconst newBlocks = getBlocks();\n\t\t\tconst newIsPersistent = isLastBlockChangePersistent();\n\n\t\t\tif (\n\t\t\t\tnewBlocks !== blocks &&\n\t\t\t\t( this.isSyncingIncomingValue ||\n\t\t\t\t\t__unstableIsLastBlockChangeIgnored() )\n\t\t\t) {\n\t\t\t\tthis.isSyncingIncomingValue = null;\n\t\t\t\tblocks = newBlocks;\n\t\t\t\tisPersistent = newIsPersistent;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tnewBlocks !== blocks ||\n\t\t\t\t// This happens when a previous input is explicitely marked as persistent.\n\t\t\t\t( newIsPersistent && ! isPersistent )\n\t\t\t) {\n\t\t\t\t// When knowing the blocks value is changing, assign instance\n\t\t\t\t// value to skip reset in subsequent `componentDidUpdate`.\n\t\t\t\tif ( newBlocks !== blocks ) {\n\t\t\t\t\tthis.isSyncingOutcomingValue.push( newBlocks );\n\t\t\t\t}\n\n\t\t\t\tblocks = newBlocks;\n\t\t\t\tisPersistent = newIsPersistent;\n\n\t\t\t\tconst selectionStart = getSelectionStart();\n\t\t\t\tconst selectionEnd = getSelectionEnd();\n\n\t\t\t\tif ( isPersistent ) {\n\t\t\t\t\tonChange( blocks, { selectionStart, selectionEnd } );\n\t\t\t\t} else {\n\t\t\t\t\tonInput( blocks, { selectionStart, selectionEnd } );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst { children } = this.props;\n\n\t\treturn children;\n\t}\n}\n\nexport default compose( [\n\twithRegistryProvider,\n\twithDispatch( ( dispatch ) => {\n\t\tconst { updateSettings, resetBlocks, resetSelection } = dispatch(\n\t\t\t'core/block-editor'\n\t\t);\n\n\t\treturn {\n\t\t\tupdateSettings,\n\t\t\tresetBlocks,\n\t\t\tresetSelection,\n\t\t};\n\t} ),\n] )( BlockEditorProvider );\n","/**\n * WordPress dependencies\n */\nimport { useState, useEffect } from '@wordpress/element';\nimport {\n\twithRegistry,\n\tcreateRegistry,\n\tRegistryProvider,\n} from '@wordpress/data';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { storeConfig } from '../../store';\nimport applyMiddlewares from '../../store/middlewares';\n\nconst withRegistryProvider = createHigherOrderComponent(\n\t( WrappedComponent ) => {\n\t\treturn withRegistry(\n\t\t\t( { useSubRegistry = true, registry, ...props } ) => {\n\t\t\t\tif ( ! useSubRegistry ) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<WrappedComponent registry={ registry } { ...props } />\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tconst [ subRegistry, setSubRegistry ] = useState( null );\n\t\t\t\tuseEffect( () => {\n\t\t\t\t\tconst newRegistry = createRegistry( {}, registry );\n\t\t\t\t\tconst store = newRegistry.registerStore(\n\t\t\t\t\t\t'core/block-editor',\n\t\t\t\t\t\tstoreConfig\n\t\t\t\t\t);\n\t\t\t\t\t// This should be removed after the refactoring of the effects to controls.\n\t\t\t\t\tapplyMiddlewares( store );\n\t\t\t\t\tsetSubRegistry( newRegistry );\n\t\t\t\t}, [ registry ] );\n\n\t\t\t\tif ( ! subRegistry ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<RegistryProvider value={ subRegistry }>\n\t\t\t\t\t\t<WrappedComponent\n\t\t\t\t\t\t\tregistry={ subRegistry }\n\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</RegistryProvider>\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t},\n\t'withRegistryProvider'\n);\n\nexport default withRegistryProvider;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Fragment } from '@wordpress/element';\nimport { ToggleControl } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ResponsiveBlockControlLabel from './label';\n\nfunction ResponsiveBlockControl( props ) {\n\tconst {\n\t\ttitle,\n\t\tproperty,\n\t\ttoggleLabel,\n\t\tonIsResponsiveChange,\n\t\trenderDefaultControl,\n\t\trenderResponsiveControls,\n\t\tisResponsive = false,\n\t\tdefaultLabel = {\n\t\t\tid: 'all',\n\t\t\tlabel: __(\n\t\t\t\t'All'\n\t\t\t) /* translators: 'Label. Used to signify a layout property (eg: margin, padding) will apply uniformly to all screensizes.' */,\n\t\t},\n\t\tviewports = [\n\t\t\t{\n\t\t\t\tid: 'small',\n\t\t\t\tlabel: __( 'Small screens' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'medium',\n\t\t\t\tlabel: __( 'Medium screens' ),\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'large',\n\t\t\t\tlabel: __( 'Large screens' ),\n\t\t\t},\n\t\t],\n\t} = props;\n\n\tif ( ! title || ! property || ! renderDefaultControl ) {\n\t\treturn null;\n\t}\n\n\t/* translators: 'Toggle control label. Should the property be the same across all screen sizes or unique per screen size.'. %s property value for the control (eg: margin, padding...etc) */\n\tconst toggleControlLabel =\n\t\ttoggleLabel ||\n\t\tsprintf( __( 'Use the same %s on all screensizes.' ), property );\n\n\t/* translators: 'Help text for the responsive mode toggle control.' */\n\tconst toggleHelpText = __(\n\t\t'Toggle between using the same value for all screen sizes or using a unique value per screen size.'\n\t);\n\n\tconst defaultControl = renderDefaultControl(\n\t\t<ResponsiveBlockControlLabel\n\t\t\tproperty={ property }\n\t\t\tviewport={ defaultLabel }\n\t\t/>,\n\t\tdefaultLabel\n\t);\n\n\tconst defaultResponsiveControls = () => {\n\t\treturn viewports.map( ( viewport ) => (\n\t\t\t<Fragment key={ viewport.id }>\n\t\t\t\t{ renderDefaultControl(\n\t\t\t\t\t<ResponsiveBlockControlLabel\n\t\t\t\t\t\tproperty={ property }\n\t\t\t\t\t\tviewport={ viewport }\n\t\t\t\t\t/>,\n\t\t\t\t\tviewport\n\t\t\t\t) }\n\t\t\t</Fragment>\n\t\t) );\n\t};\n\n\treturn (\n\t\t<fieldset className=\"block-editor-responsive-block-control\">\n\t\t\t<legend className=\"block-editor-responsive-block-control__title\">\n\t\t\t\t{ title }\n\t\t\t</legend>\n\n\t\t\t<div className=\"block-editor-responsive-block-control__inner\">\n\t\t\t\t<ToggleControl\n\t\t\t\t\tclassName=\"block-editor-responsive-block-control__toggle\"\n\t\t\t\t\tlabel={ toggleControlLabel }\n\t\t\t\t\tchecked={ ! isResponsive }\n\t\t\t\t\tonChange={ onIsResponsiveChange }\n\t\t\t\t\thelp={ toggleHelpText }\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'block-editor-responsive-block-control__group',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'is-responsive': isResponsive,\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ ! isResponsive && defaultControl }\n\t\t\t\t\t{ isResponsive &&\n\t\t\t\t\t\t( renderResponsiveControls\n\t\t\t\t\t\t\t? renderResponsiveControls( viewports )\n\t\t\t\t\t\t\t: defaultResponsiveControls() ) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</fieldset>\n\t);\n}\n\nexport default ResponsiveBlockControl;\n","/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\nimport { _x, sprintf } from '@wordpress/i18n';\nimport { Fragment } from '@wordpress/element';\n\nexport default function ResponsiveBlockControlLabel( {\n\tproperty,\n\tviewport,\n\tdesc,\n} ) {\n\tconst instanceId = useInstanceId( ResponsiveBlockControlLabel );\n\tconst accessibleLabel =\n\t\tdesc ||\n\t\tsprintf(\n\t\t\t_x(\n\t\t\t\t'Controls the %1$s property for %2$s viewports.',\n\t\t\t\t'Text labelling a interface as controlling a given layout property (eg: margin) for a given screen size.'\n\t\t\t),\n\t\t\tproperty,\n\t\t\tviewport.label\n\t\t);\n\treturn (\n\t\t<Fragment>\n\t\t\t<span aria-describedby={ `rbc-desc-${ instanceId }` }>\n\t\t\t\t{ viewport.label }\n\t\t\t</span>\n\t\t\t<span\n\t\t\t\tclassName=\"screen-reader-text\"\n\t\t\t\tid={ `rbc-desc-${ instanceId }` }\n\t\t\t>\n\t\t\t\t{ accessibleLabel }\n\t\t\t</span>\n\t\t</Fragment>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { createBlobURL } from '@wordpress/blob';\n\nexport function filePasteHandler( files ) {\n\treturn files\n\t\t.filter( ( { type } ) => /^image\\/(?:jpe?g|png|gif)$/.test( type ) )\n\t\t.map( ( file ) => `<img src=\"${ createBlobURL( file ) }\">` )\n\t\t.join( '' );\n}\n","/**\n * WordPress dependencies\n */\nimport { Popover } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport BlockFormatControls from '../block-format-controls';\nimport FormatToolbar from './format-toolbar';\n\nconst FormatToolbarContainer = ( { inline, anchorRef } ) => {\n\tif ( inline ) {\n\t\t// Render in popover\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\tnoArrow\n\t\t\t\tposition=\"top center\"\n\t\t\t\tfocusOnMount={ false }\n\t\t\t\tanchorRef={ anchorRef }\n\t\t\t\tclassName=\"block-editor-rich-text__inline-format-toolbar\"\n\t\t\t>\n\t\t\t\t<FormatToolbar />\n\t\t\t</Popover>\n\t\t);\n\t}\n\t// Render regular toolbar\n\treturn (\n\t\t<BlockFormatControls>\n\t\t\t<FormatToolbar />\n\t\t</BlockFormatControls>\n\t);\n};\n\nexport default FormatToolbarContainer;\n","/**\n * External dependencies\n */\n\nimport { orderBy } from 'lodash';\n\n/**\n * WordPress dependencies\n */\n\nimport { __ } from '@wordpress/i18n';\nimport { Toolbar, Slot, DropdownMenu } from '@wordpress/components';\n\nconst POPOVER_PROPS = {\n\tposition: 'bottom left',\n};\n\nconst FormatToolbar = () => {\n\treturn (\n\t\t<div className=\"block-editor-format-toolbar\">\n\t\t\t<Toolbar>\n\t\t\t\t{ [ 'bold', 'italic', 'link', 'text-color' ].map(\n\t\t\t\t\t( format ) => (\n\t\t\t\t\t\t<Slot\n\t\t\t\t\t\t\tname={ `RichText.ToolbarControls.${ format }` }\n\t\t\t\t\t\t\tkey={ format }\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t) }\n\t\t\t\t<Slot name=\"RichText.ToolbarControls\">\n\t\t\t\t\t{ ( fills ) =>\n\t\t\t\t\t\tfills.length !== 0 && (\n\t\t\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\t\t\ticon={ false }\n\t\t\t\t\t\t\t\tlabel={ __( 'More rich text controls' ) }\n\t\t\t\t\t\t\t\tcontrols={ orderBy(\n\t\t\t\t\t\t\t\t\tfills.map( ( [ { props } ] ) => props ),\n\t\t\t\t\t\t\t\t\t'title'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Slot>\n\t\t\t</Toolbar>\n\t\t</div>\n\t);\n};\n\nexport default FormatToolbar;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRawHTML,\n\tPlatform,\n\tuseRef,\n\tuseCallback,\n\tforwardRef,\n} from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tpasteHandler,\n\tchildren as childrenSource,\n\tgetBlockTransforms,\n\tfindTransform,\n\tisUnmodifiedDefaultBlock,\n} from '@wordpress/blocks';\nimport { useInstanceId } from '@wordpress/compose';\nimport {\n\t__experimentalRichText as RichText,\n\t__unstableCreateElement,\n\tisEmpty,\n\t__unstableIsEmptyLine as isEmptyLine,\n\tinsert,\n\t__unstableInsertLineSeparator as insertLineSeparator,\n\tcreate,\n\treplace,\n\tsplit,\n\t__UNSTABLE_LINE_SEPARATOR as LINE_SEPARATOR,\n\ttoHTMLString,\n\tslice,\n} from '@wordpress/rich-text';\nimport deprecated from '@wordpress/deprecated';\nimport { isURL } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport Autocomplete from '../autocomplete';\nimport { useBlockEditContext } from '../block-edit';\nimport { RemoveBrowserShortcuts } from './remove-browser-shortcuts';\nimport { filePasteHandler } from './file-paste-handler';\nimport FormatToolbarContainer from './format-toolbar-container';\n\nconst wrapperClasses = 'block-editor-rich-text';\nconst classes = 'block-editor-rich-text__editable';\n\n/**\n * Get the multiline tag based on the multiline prop.\n *\n * @param {?(string|boolean)} multiline The multiline prop.\n *\n * @return {?string} The multiline tag.\n */\nfunction getMultilineTag( multiline ) {\n\tif ( multiline !== true && multiline !== 'p' && multiline !== 'li' ) {\n\t\treturn;\n\t}\n\n\treturn multiline === true ? 'p' : multiline;\n}\n\nfunction getAllowedFormats( { allowedFormats, formattingControls } ) {\n\tif ( ! allowedFormats && ! formattingControls ) {\n\t\treturn;\n\t}\n\n\tif ( allowedFormats ) {\n\t\treturn allowedFormats;\n\t}\n\n\tdeprecated( 'wp.blockEditor.RichText formattingControls prop', {\n\t\talternative: 'allowedFormats',\n\t} );\n\n\treturn formattingControls.map( ( name ) => `core/${ name }` );\n}\n\nfunction RichTextWrapper(\n\t{\n\t\tchildren,\n\t\ttagName,\n\t\tvalue: originalValue,\n\t\tonChange: originalOnChange,\n\t\tisSelected: originalIsSelected,\n\t\tmultiline,\n\t\tinlineToolbar,\n\t\twrapperClassName,\n\t\tclassName,\n\t\tautocompleters,\n\t\tonReplace,\n\t\tplaceholder,\n\t\tkeepPlaceholderOnFocus,\n\t\tallowedFormats,\n\t\tformattingControls,\n\t\twithoutInteractiveFormatting,\n\t\tonRemove,\n\t\tonMerge,\n\t\tonSplit,\n\t\t__unstableOnSplitMiddle: onSplitMiddle,\n\t\tidentifier,\n\t\t// To do: find a better way to implicitly inherit props.\n\t\tstart: startAttr,\n\t\treversed,\n\t\tstyle,\n\t\tpreserveWhiteSpace,\n\t\t__unstableEmbedURLOnPaste,\n\t\t...props\n\t},\n\tforwardedRef\n) {\n\tconst instanceId = useInstanceId( RichTextWrapper );\n\n\tidentifier = identifier || instanceId;\n\n\tconst fallbackRef = useRef();\n\tconst ref = forwardedRef || fallbackRef;\n\tconst {\n\t\tclientId,\n\t\tonCaretVerticalPositionChange,\n\t\tisSelected: blockIsSelected,\n\t} = useBlockEditContext();\n\tconst selector = ( select ) => {\n\t\tconst {\n\t\t\tisCaretWithinFormattedText,\n\t\t\tgetSelectionStart,\n\t\t\tgetSelectionEnd,\n\t\t\tgetSettings,\n\t\t\tdidAutomaticChange,\n\t\t\t__unstableGetBlockWithoutInnerBlocks,\n\t\t\tisMultiSelecting,\n\t\t\thasMultiSelection,\n\t\t} = select( 'core/block-editor' );\n\n\t\tconst selectionStart = getSelectionStart();\n\t\tconst selectionEnd = getSelectionEnd();\n\t\tconst {\n\t\t\t__experimentalCanUserUseUnfilteredHTML,\n\t\t\t__experimentalUndo: undo,\n\t\t} = getSettings();\n\n\t\tlet isSelected;\n\n\t\tif ( originalIsSelected === undefined ) {\n\t\t\tisSelected =\n\t\t\t\tselectionStart.clientId === clientId &&\n\t\t\t\tselectionStart.attributeKey === identifier;\n\t\t} else if ( originalIsSelected ) {\n\t\t\tisSelected = selectionStart.clientId === clientId;\n\t\t}\n\n\t\tlet extraProps = {};\n\t\tif ( Platform.OS === 'native' ) {\n\t\t\t// If the block of this RichText is unmodified then it's a candidate for replacing when adding a new block.\n\t\t\t// In order to fix https://github.com/wordpress-mobile/gutenberg-mobile/issues/1126, let's blur on unmount in that case.\n\t\t\t// This apparently assumes functionality the BlockHlder actually\n\t\t\tconst block =\n\t\t\t\tclientId && __unstableGetBlockWithoutInnerBlocks( clientId );\n\t\t\tconst shouldBlurOnUnmount =\n\t\t\t\tblock && isSelected && isUnmodifiedDefaultBlock( block );\n\t\t\textraProps = {\n\t\t\t\tshouldBlurOnUnmount,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tcanUserUseUnfilteredHTML: __experimentalCanUserUseUnfilteredHTML,\n\t\t\tisCaretWithinFormattedText: isCaretWithinFormattedText(),\n\t\t\tselectionStart: isSelected ? selectionStart.offset : undefined,\n\t\t\tselectionEnd: isSelected ? selectionEnd.offset : undefined,\n\t\t\tisSelected,\n\t\t\tdidAutomaticChange: didAutomaticChange(),\n\t\t\tdisabled: isMultiSelecting() || hasMultiSelection(),\n\t\t\tundo,\n\t\t\t...extraProps,\n\t\t};\n\t};\n\t// This selector must run on every render so the right selection state is\n\t// retreived from the store on merge.\n\t// To do: fix this somehow.\n\tconst {\n\t\tcanUserUseUnfilteredHTML,\n\t\tisCaretWithinFormattedText,\n\t\tselectionStart,\n\t\tselectionEnd,\n\t\tisSelected,\n\t\tdidAutomaticChange,\n\t\tdisabled,\n\t\tundo,\n\t\tshouldBlurOnUnmount,\n\t} = useSelect( selector );\n\tconst {\n\t\t__unstableMarkLastChangeAsPersistent,\n\t\tenterFormattedText,\n\t\texitFormattedText,\n\t\tselectionChange,\n\t\t__unstableMarkAutomaticChange,\n\t} = useDispatch( 'core/block-editor' );\n\tconst multilineTag = getMultilineTag( multiline );\n\tconst adjustedAllowedFormats = getAllowedFormats( {\n\t\tallowedFormats,\n\t\tformattingControls,\n\t} );\n\tconst hasFormats =\n\t\t! adjustedAllowedFormats || adjustedAllowedFormats.length > 0;\n\tlet adjustedValue = originalValue;\n\tlet adjustedOnChange = originalOnChange;\n\n\t// Handle deprecated format.\n\tif ( Array.isArray( originalValue ) ) {\n\t\tadjustedValue = childrenSource.toHTML( originalValue );\n\t\tadjustedOnChange = ( newValue ) =>\n\t\t\toriginalOnChange(\n\t\t\t\tchildrenSource.fromDOM(\n\t\t\t\t\t__unstableCreateElement( document, newValue ).childNodes\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tconst onSelectionChange = useCallback(\n\t\t( start, end ) => {\n\t\t\tselectionChange( clientId, identifier, start, end );\n\t\t},\n\t\t[ clientId, identifier ]\n\t);\n\n\tconst onDelete = useCallback(\n\t\t( { value, isReverse } ) => {\n\t\t\tif ( onMerge ) {\n\t\t\t\tonMerge( ! isReverse );\n\t\t\t}\n\n\t\t\t// Only handle remove on Backspace. This serves dual-purpose of being\n\t\t\t// an intentional user interaction distinguishing between Backspace and\n\t\t\t// Delete to remove the empty field, but also to avoid merge & remove\n\t\t\t// causing destruction of two fields (merge, then removed merged).\n\t\t\tif ( onRemove && isEmpty( value ) && isReverse ) {\n\t\t\t\tonRemove( ! isReverse );\n\t\t\t}\n\t\t},\n\t\t[ onMerge, onRemove ]\n\t);\n\n\t/**\n\t * Signals to the RichText owner that the block can be replaced with two\n\t * blocks as a result of splitting the block by pressing enter, or with\n\t * blocks as a result of splitting the block by pasting block content in the\n\t * instance.\n\t *\n\t * @param  {Object} record       The rich text value to split.\n\t * @param  {Array}  pastedBlocks The pasted blocks to insert, if any.\n\t */\n\tconst splitValue = useCallback(\n\t\t( record, pastedBlocks = [] ) => {\n\t\t\tif ( ! onReplace || ! onSplit ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst blocks = [];\n\t\t\tconst [ before, after ] = split( record );\n\t\t\tconst hasPastedBlocks = pastedBlocks.length > 0;\n\n\t\t\t// Create a block with the content before the caret if there's no pasted\n\t\t\t// blocks, or if there are pasted blocks and the value is not empty.\n\t\t\t// We do not want a leading empty block on paste, but we do if split\n\t\t\t// with e.g. the enter key.\n\t\t\tif ( ! hasPastedBlocks || ! isEmpty( before ) ) {\n\t\t\t\tblocks.push(\n\t\t\t\t\tonSplit(\n\t\t\t\t\t\ttoHTMLString( {\n\t\t\t\t\t\t\tvalue: before,\n\t\t\t\t\t\t\tmultilineTag,\n\t\t\t\t\t\t} )\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif ( hasPastedBlocks ) {\n\t\t\t\tblocks.push( ...pastedBlocks );\n\t\t\t} else if ( onSplitMiddle ) {\n\t\t\t\tblocks.push( onSplitMiddle() );\n\t\t\t}\n\n\t\t\t// If there's pasted blocks, append a block with the content after the\n\t\t\t// caret. Otherwise, do append and empty block if there is no\n\t\t\t// `onSplitMiddle` prop, but if there is and the content is empty, the\n\t\t\t// middle block is enough to set focus in.\n\t\t\tif ( hasPastedBlocks || ! onSplitMiddle || ! isEmpty( after ) ) {\n\t\t\t\tblocks.push(\n\t\t\t\t\tonSplit(\n\t\t\t\t\t\ttoHTMLString( {\n\t\t\t\t\t\t\tvalue: after,\n\t\t\t\t\t\t\tmultilineTag,\n\t\t\t\t\t\t} )\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// If there are pasted blocks, set the selection to the last one.\n\t\t\t// Otherwise, set the selection to the second block.\n\t\t\tconst indexToSelect = hasPastedBlocks ? blocks.length - 1 : 1;\n\n\t\t\tonReplace( blocks, indexToSelect );\n\t\t},\n\t\t[ onReplace, onSplit, multilineTag, onSplitMiddle ]\n\t);\n\n\tconst onEnter = useCallback(\n\t\t( { value, onChange, shiftKey } ) => {\n\t\t\tconst canSplit = onReplace && onSplit;\n\n\t\t\tif ( onReplace ) {\n\t\t\t\tconst transforms = getBlockTransforms( 'from' ).filter(\n\t\t\t\t\t( { type } ) => type === 'enter'\n\t\t\t\t);\n\t\t\t\tconst transformation = findTransform( transforms, ( item ) => {\n\t\t\t\t\treturn item.regExp.test( value.text );\n\t\t\t\t} );\n\n\t\t\t\tif ( transformation ) {\n\t\t\t\t\tonReplace( [\n\t\t\t\t\t\ttransformation.transform( { content: value.text } ),\n\t\t\t\t\t] );\n\t\t\t\t\t__unstableMarkAutomaticChange();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( multiline ) {\n\t\t\t\tif ( shiftKey ) {\n\t\t\t\t\tonChange( insert( value, '\\n' ) );\n\t\t\t\t} else if ( canSplit && isEmptyLine( value ) ) {\n\t\t\t\t\tsplitValue( value );\n\t\t\t\t} else {\n\t\t\t\t\tonChange( insertLineSeparator( value ) );\n\t\t\t\t}\n\t\t\t} else if ( shiftKey || ! canSplit ) {\n\t\t\t\tonChange( insert( value, '\\n' ) );\n\t\t\t} else {\n\t\t\t\tsplitValue( value );\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tonReplace,\n\t\t\tonSplit,\n\t\t\t__unstableMarkAutomaticChange,\n\t\t\tmultiline,\n\t\t\tsplitValue,\n\t\t]\n\t);\n\n\tconst onPaste = useCallback(\n\t\t( { value, onChange, html, plainText, files, activeFormats } ) => {\n\t\t\t// Only process file if no HTML is present.\n\t\t\t// Note: a pasted file may have the URL as plain text.\n\t\t\tif ( files && files.length && ! html ) {\n\t\t\t\tconst content = pasteHandler( {\n\t\t\t\t\tHTML: filePasteHandler( files ),\n\t\t\t\t\tmode: 'BLOCKS',\n\t\t\t\t\ttagName,\n\t\t\t\t} );\n\n\t\t\t\t// Allows us to ask for this information when we get a report.\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\twindow.console.log( 'Received items:\\n\\n', files );\n\n\t\t\t\tif ( onReplace && isEmpty( value ) ) {\n\t\t\t\t\tonReplace( content );\n\t\t\t\t} else {\n\t\t\t\t\tsplitValue( value, content );\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet mode = onReplace && onSplit ? 'AUTO' : 'INLINE';\n\n\t\t\tif (\n\t\t\t\t__unstableEmbedURLOnPaste &&\n\t\t\t\tisEmpty( value ) &&\n\t\t\t\tisURL( plainText.trim() )\n\t\t\t) {\n\t\t\t\tmode = 'BLOCKS';\n\t\t\t}\n\n\t\t\tconst content = pasteHandler( {\n\t\t\t\tHTML: html,\n\t\t\t\tplainText,\n\t\t\t\tmode,\n\t\t\t\ttagName,\n\t\t\t\tcanUserUseUnfilteredHTML,\n\t\t\t} );\n\n\t\t\tif ( typeof content === 'string' ) {\n\t\t\t\tlet valueToInsert = create( { html: content } );\n\n\t\t\t\t// If there are active formats, merge them with the pasted formats.\n\t\t\t\tif ( activeFormats.length ) {\n\t\t\t\t\tlet index = valueToInsert.formats.length;\n\n\t\t\t\t\twhile ( index-- ) {\n\t\t\t\t\t\tvalueToInsert.formats[ index ] = [\n\t\t\t\t\t\t\t...activeFormats,\n\t\t\t\t\t\t\t...( valueToInsert.formats[ index ] || [] ),\n\t\t\t\t\t\t];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If the content should be multiline, we should process text\n\t\t\t\t// separated by a line break as separate lines.\n\t\t\t\tif ( multiline ) {\n\t\t\t\t\tvalueToInsert = replace(\n\t\t\t\t\t\tvalueToInsert,\n\t\t\t\t\t\t/\\n+/g,\n\t\t\t\t\t\tLINE_SEPARATOR\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tonChange( insert( value, valueToInsert ) );\n\t\t\t} else if ( content.length > 0 ) {\n\t\t\t\tif ( onReplace && isEmpty( value ) ) {\n\t\t\t\t\tonReplace( content );\n\t\t\t\t} else {\n\t\t\t\t\tsplitValue( value, content );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\ttagName,\n\t\t\tonReplace,\n\t\t\tonSplit,\n\t\t\tsplitValue,\n\t\t\t__unstableEmbedURLOnPaste,\n\t\t\tcanUserUseUnfilteredHTML,\n\t\t\tmultiline,\n\t\t]\n\t);\n\n\tconst inputRule = useCallback(\n\t\t( value, valueToFormat ) => {\n\t\t\tif ( ! onReplace ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { start, text } = value;\n\t\t\tconst characterBefore = text.slice( start - 1, start );\n\n\t\t\t// The character right before the caret must be a plain space.\n\t\t\tif ( characterBefore !== ' ' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst trimmedTextBefore = text.slice( 0, start ).trim();\n\t\t\tconst prefixTransforms = getBlockTransforms( 'from' ).filter(\n\t\t\t\t( { type } ) => type === 'prefix'\n\t\t\t);\n\t\t\tconst transformation = findTransform(\n\t\t\t\tprefixTransforms,\n\t\t\t\t( { prefix } ) => {\n\t\t\t\t\treturn trimmedTextBefore === prefix;\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif ( ! transformation ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst content = valueToFormat( slice( value, start, text.length ) );\n\t\t\tconst block = transformation.transform( content );\n\n\t\t\tonReplace( [ block ] );\n\t\t\t__unstableMarkAutomaticChange();\n\t\t},\n\t\t[ onReplace, __unstableMarkAutomaticChange ]\n\t);\n\n\tconst content = (\n\t\t<RichText\n\t\t\t{ ...props }\n\t\t\tclientId={ clientId }\n\t\t\tidentifier={ identifier }\n\t\t\tref={ ref }\n\t\t\tvalue={ adjustedValue }\n\t\t\tonChange={ adjustedOnChange }\n\t\t\tselectionStart={ selectionStart }\n\t\t\tselectionEnd={ selectionEnd }\n\t\t\tonSelectionChange={ onSelectionChange }\n\t\t\ttagName={ tagName }\n\t\t\tclassName={ classnames( classes, className, {\n\t\t\t\t'keep-placeholder-on-focus': keepPlaceholderOnFocus,\n\t\t\t} ) }\n\t\t\tplaceholder={ placeholder }\n\t\t\tallowedFormats={ adjustedAllowedFormats }\n\t\t\twithoutInteractiveFormatting={ withoutInteractiveFormatting }\n\t\t\tonEnter={ onEnter }\n\t\t\tonDelete={ onDelete }\n\t\t\tonPaste={ onPaste }\n\t\t\t__unstableIsSelected={ isSelected }\n\t\t\t__unstableInputRule={ inputRule }\n\t\t\t__unstableMultilineTag={ multilineTag }\n\t\t\t__unstableIsCaretWithinFormattedText={ isCaretWithinFormattedText }\n\t\t\t__unstableOnEnterFormattedText={ enterFormattedText }\n\t\t\t__unstableOnExitFormattedText={ exitFormattedText }\n\t\t\t__unstableOnCreateUndoLevel={ __unstableMarkLastChangeAsPersistent }\n\t\t\t__unstableMarkAutomaticChange={ __unstableMarkAutomaticChange }\n\t\t\t__unstableDidAutomaticChange={ didAutomaticChange }\n\t\t\t__unstableUndo={ undo }\n\t\t\tstyle={ style }\n\t\t\tpreserveWhiteSpace={ preserveWhiteSpace }\n\t\t\tdisabled={ disabled }\n\t\t\tstart={ startAttr }\n\t\t\treversed={ reversed }\n\t\t\t// Native props.\n\t\t\tonCaretVerticalPositionChange={ onCaretVerticalPositionChange }\n\t\t\tblockIsSelected={\n\t\t\t\toriginalIsSelected !== undefined\n\t\t\t\t\t? originalIsSelected\n\t\t\t\t\t: blockIsSelected\n\t\t\t}\n\t\t\tshouldBlurOnUnmount={ shouldBlurOnUnmount }\n\t\t>\n\t\t\t{ ( {\n\t\t\t\tisSelected: nestedIsSelected,\n\t\t\t\tvalue,\n\t\t\t\tonChange,\n\t\t\t\tonFocus,\n\t\t\t\tEditable,\n\t\t\t} ) => (\n\t\t\t\t<>\n\t\t\t\t\t{ children && children( { value, onChange, onFocus } ) }\n\t\t\t\t\t{ nestedIsSelected && hasFormats && (\n\t\t\t\t\t\t<FormatToolbarContainer\n\t\t\t\t\t\t\tinline={ inlineToolbar }\n\t\t\t\t\t\t\tanchorRef={ ref.current }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ nestedIsSelected && <RemoveBrowserShortcuts /> }\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tonReplace={ onReplace }\n\t\t\t\t\t\tcompleters={ autocompleters }\n\t\t\t\t\t\trecord={ value }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\tisSelected={ nestedIsSelected }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ( { listBoxId, activeId, onKeyDown } ) => (\n\t\t\t\t\t\t\t<Editable\n\t\t\t\t\t\t\t\taria-autocomplete={\n\t\t\t\t\t\t\t\t\tlistBoxId ? 'list' : undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taria-owns={ listBoxId }\n\t\t\t\t\t\t\t\taria-activedescendant={ activeId }\n\t\t\t\t\t\t\t\tstart={ startAttr }\n\t\t\t\t\t\t\t\treversed={ reversed }\n\t\t\t\t\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Autocomplete>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</RichText>\n\t);\n\n\tif ( ! wrapperClassName ) {\n\t\treturn content;\n\t}\n\n\tdeprecated( 'wp.blockEditor.RichText wrapperClassName prop', {\n\t\talternative: 'className prop or create your own wrapper div',\n\t} );\n\n\treturn (\n\t\t<div className={ classnames( wrapperClasses, wrapperClassName ) }>\n\t\t\t{ content }\n\t\t</div>\n\t);\n}\n\nconst ForwardedRichTextContainer = forwardRef( RichTextWrapper );\n\nForwardedRichTextContainer.Content = ( {\n\tvalue,\n\ttagName: Tag,\n\tmultiline,\n\t...props\n} ) => {\n\t// Handle deprecated `children` and `node` sources.\n\tif ( Array.isArray( value ) ) {\n\t\tvalue = childrenSource.toHTML( value );\n\t}\n\n\tconst MultilineTag = getMultilineTag( multiline );\n\n\tif ( ! value && MultilineTag ) {\n\t\tvalue = `<${ MultilineTag }></${ MultilineTag }>`;\n\t}\n\n\tconst content = <RawHTML>{ value }</RawHTML>;\n\n\tif ( Tag ) {\n\t\treturn <Tag { ...omit( props, [ 'format' ] ) }>{ content }</Tag>;\n\t}\n\n\treturn content;\n};\n\nForwardedRichTextContainer.isEmpty = ( value ) => {\n\treturn ! value || value.length === 0;\n};\n\nForwardedRichTextContainer.Content.defaultProps = {\n\tformat: 'string',\n\tvalue: '',\n};\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/rich-text/README.md\n */\nexport default ForwardedRichTextContainer;\nexport { RichTextShortcut } from './shortcut';\nexport { RichTextToolbarButton } from './toolbar-button';\nexport { __unstableRichTextInputEvent } from './input-event';\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\nexport class __unstableRichTextInputEvent extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onInput = this.onInput.bind( this );\n\t}\n\n\tonInput( event ) {\n\t\tif ( event.inputType === this.props.inputType ) {\n\t\t\tthis.props.onInput();\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.addEventListener( 'input', this.onInput, true );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdocument.removeEventListener( 'input', this.onInput, true );\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n","/**\n * External dependencies\n */\nimport { fromPairs } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { rawShortcut } from '@wordpress/keycodes';\nimport { KeyboardShortcuts } from '@wordpress/components';\n\n/**\n * Set of keyboard shortcuts handled internally by RichText.\n *\n * @type {Array}\n */\nconst HANDLED_SHORTCUTS = [\n\trawShortcut.primary( 'z' ),\n\trawShortcut.primaryShift( 'z' ),\n\trawShortcut.primary( 'y' ),\n];\n\n/**\n * An instance of a KeyboardShortcuts element pre-bound for the handled\n * shortcuts. Since shortcuts never change, the element can be considered\n * static, and can be skipped in reconciliation.\n *\n * @type {WPElement}\n */\nconst SHORTCUTS_ELEMENT = (\n\t<KeyboardShortcuts\n\t\tbindGlobal\n\t\tshortcuts={ fromPairs(\n\t\t\tHANDLED_SHORTCUTS.map( ( shortcut ) => {\n\t\t\t\treturn [ shortcut, ( event ) => event.preventDefault() ];\n\t\t\t} )\n\t\t) }\n\t/>\n);\n\n/**\n * Component which registered keyboard event handlers to prevent default\n * behaviors for key combinations otherwise handled internally by RichText.\n *\n * @return {WPComponent} The component to be rendered.\n */\nexport const RemoveBrowserShortcuts = () => SHORTCUTS_ELEMENT;\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { KeyboardShortcuts } from '@wordpress/components';\nimport { rawShortcut } from '@wordpress/keycodes';\n\nexport class RichTextShortcut extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onUse = this.onUse.bind( this );\n\t}\n\n\tonUse() {\n\t\tthis.props.onUse();\n\t\treturn false;\n\t}\n\n\trender() {\n\t\tconst { character, type } = this.props;\n\n\t\treturn (\n\t\t\t<KeyboardShortcuts\n\t\t\t\tbindGlobal\n\t\t\t\tshortcuts={ {\n\t\t\t\t\t[ rawShortcut[ type ]( character ) ]: this.onUse,\n\t\t\t\t} }\n\t\t\t/>\n\t\t);\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { Fill, ToolbarButton } from '@wordpress/components';\nimport { displayShortcut } from '@wordpress/keycodes';\n\nexport function RichTextToolbarButton( {\n\tname,\n\tshortcutType,\n\tshortcutCharacter,\n\t...props\n} ) {\n\tlet shortcut;\n\tlet fillName = 'RichText.ToolbarControls';\n\n\tif ( name ) {\n\t\tfillName += `.${ name }`;\n\t}\n\n\tif ( shortcutType && shortcutCharacter ) {\n\t\tshortcut = displayShortcut[ shortcutType ]( shortcutCharacter );\n\t}\n\n\treturn (\n\t\t<Fill name={ fillName }>\n\t\t\t<ToolbarButton { ...props } shortcut={ shortcut } />\n\t\t</Fill>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { getBlockDOMNode } from '../../utils/dom';\n\nconst SkipToSelectedBlock = ( { selectedBlockClientId } ) => {\n\tconst onClick = () => {\n\t\tconst selectedBlockElement = getBlockDOMNode( selectedBlockClientId );\n\t\tselectedBlockElement.focus();\n\t};\n\n\treturn (\n\t\tselectedBlockClientId && (\n\t\t\t<Button\n\t\t\t\tisSecondary\n\t\t\t\tclassName=\"block-editor-skip-to-selected-block\"\n\t\t\t\tonClick={ onClick }\n\t\t\t>\n\t\t\t\t{ __( 'Skip to the selected block' ) }\n\t\t\t</Button>\n\t\t)\n\t);\n};\n\nexport default withSelect( ( select ) => {\n\treturn {\n\t\tselectedBlockClientId: select(\n\t\t\t'core/block-editor'\n\t\t).getBlockSelectionStart(),\n\t};\n} )( SkipToSelectedBlock );\n","/**\n * WordPress dependencies\n */\nimport {\n\tDropdown,\n\tButton,\n\tMenuItemsChoice,\n\tSVG,\n\tPath,\n\tNavigableMenu,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useViewportMatch } from '@wordpress/compose';\n\nconst editIcon = (\n\t<SVG\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\twidth=\"20\"\n\t\theight=\"20\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n\t\t<Path d=\"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z\" />\n\t</SVG>\n);\nconst selectIcon = (\n\t<SVG\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\twidth=\"20\"\n\t\theight=\"20\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path d=\"M6.5 1v21.5l6-6.5H21L6.5 1zm5.1 13l-3.1 3.4V5.9l7.8 8.1h-4.7z\" />\n\t</SVG>\n);\n\nfunction ToolSelector() {\n\tconst isNavigationTool = useSelect(\n\t\t( select ) => select( 'core/block-editor' ).isNavigationMode(),\n\t\t[]\n\t);\n\tconst { setNavigationMode } = useDispatch( 'core/block-editor' );\n\tconst isMediumViewport = useViewportMatch( 'medium' );\n\tif ( ! isMediumViewport ) {\n\t\treturn null;\n\t}\n\n\tconst onSwitchMode = ( mode ) => {\n\t\tsetNavigationMode( mode === 'edit' ? false : true );\n\t};\n\n\treturn (\n\t\t<Dropdown\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<Button\n\t\t\t\t\ticon={ isNavigationTool ? selectIcon : editIcon }\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\tlabel={ __( 'Tools' ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\trenderContent={ () => (\n\t\t\t\t<>\n\t\t\t\t\t<NavigableMenu role=\"menu\" aria-label={ __( 'Tools' ) }>\n\t\t\t\t\t\t<MenuItemsChoice\n\t\t\t\t\t\t\tvalue={ isNavigationTool ? 'select' : 'edit' }\n\t\t\t\t\t\t\tonSelect={ onSwitchMode }\n\t\t\t\t\t\t\tchoices={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalue: 'edit',\n\t\t\t\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{ editIcon }\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalue: 'select',\n\t\t\t\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{ selectIcon }\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Select' ) }\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</NavigableMenu>\n\t\t\t\t\t<div className=\"block-editor-tool-selector__help\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Tools offer different interactions for block selection & editing. To select, press Escape, to go back to editing, press Enter.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nexport default ToolSelector;\n","/**\n * WordPress dependencies\n */\nimport { Component, createRef } from '@wordpress/element';\nimport { computeCaretRect, getScrollContainer } from '@wordpress/dom';\nimport { withSelect } from '@wordpress/data';\nimport { UP, DOWN, LEFT, RIGHT } from '@wordpress/keycodes';\n\n/** @typedef {import('@wordpress/element').WPSyntheticEvent} WPSyntheticEvent */\n\nconst isIE = window.navigator.userAgent.indexOf( 'Trident' ) !== -1;\nconst arrowKeyCodes = new Set( [ UP, DOWN, LEFT, RIGHT ] );\nconst initialTriggerPercentage = 0.75;\n\nclass Typewriter extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.ref = createRef();\n\t\tthis.onKeyDown = this.onKeyDown.bind( this );\n\t\tthis.addSelectionChangeListener = this.addSelectionChangeListener.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.computeCaretRectOnSelectionChange = this.computeCaretRectOnSelectionChange.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.maintainCaretPosition = this.maintainCaretPosition.bind( this );\n\t\tthis.computeCaretRect = this.computeCaretRect.bind( this );\n\t\tthis.onScrollResize = this.onScrollResize.bind( this );\n\t\tthis.isSelectionEligibleForScroll = this.isSelectionEligibleForScroll.bind(\n\t\t\tthis\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\t// When the user scrolls or resizes, the scroll position should be\n\t\t// reset.\n\t\twindow.addEventListener( 'scroll', this.onScrollResize, true );\n\t\twindow.addEventListener( 'resize', this.onScrollResize, true );\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener( 'scroll', this.onScrollResize, true );\n\t\twindow.removeEventListener( 'resize', this.onScrollResize, true );\n\t\tdocument.removeEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.computeCaretRectOnSelectionChange\n\t\t);\n\n\t\tif ( this.onScrollResize.rafId ) {\n\t\t\twindow.cancelAnimationFrame( this.onScrollResize.rafId );\n\t\t}\n\n\t\tif ( this.onKeyDown.rafId ) {\n\t\t\twindow.cancelAnimationFrame( this.onKeyDown.rafId );\n\t\t}\n\t}\n\n\t/**\n\t * Resets the scroll position to be maintained.\n\t */\n\tcomputeCaretRect() {\n\t\tif ( this.isSelectionEligibleForScroll() ) {\n\t\t\tthis.caretRect = computeCaretRect();\n\t\t}\n\t}\n\n\t/**\n\t * Resets the scroll position to be maintained during a `selectionchange`\n\t * event. Also removes the listener, so it acts as a one-time listener.\n\t */\n\tcomputeCaretRectOnSelectionChange() {\n\t\tdocument.removeEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.computeCaretRectOnSelectionChange\n\t\t);\n\t\tthis.computeCaretRect();\n\t}\n\n\tonScrollResize() {\n\t\tif ( this.onScrollResize.rafId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.onScrollResize.rafId = window.requestAnimationFrame( () => {\n\t\t\tthis.computeCaretRect();\n\t\t\tdelete this.onScrollResize.rafId;\n\t\t} );\n\t}\n\n\t/**\n\t * Checks if the current situation is elegible for scroll:\n\t * - There should be one and only one block selected.\n\t * - The component must contain the selection.\n\t * - The active element must be contenteditable.\n\t */\n\tisSelectionEligibleForScroll() {\n\t\treturn (\n\t\t\tthis.props.selectedBlockClientId &&\n\t\t\tthis.ref.current.contains( document.activeElement ) &&\n\t\t\tdocument.activeElement.isContentEditable\n\t\t);\n\t}\n\n\tisLastEditableNode() {\n\t\tconst editableNodes = this.ref.current.querySelectorAll(\n\t\t\t'[contenteditable=\"true\"]'\n\t\t);\n\t\tconst lastEditableNode = editableNodes[ editableNodes.length - 1 ];\n\t\treturn lastEditableNode === document.activeElement;\n\t}\n\n\t/**\n\t * Maintains the scroll position after a selection change caused by a\n\t * keyboard event.\n\t *\n\t * @param {WPSyntheticEvent} event Synthetic keyboard event.\n\t */\n\tmaintainCaretPosition( { keyCode } ) {\n\t\tif ( ! this.isSelectionEligibleForScroll() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentCaretRect = computeCaretRect();\n\n\t\tif ( ! currentCaretRect ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If for some reason there is no position set to be scrolled to, let\n\t\t// this be the position to be scrolled to in the future.\n\t\tif ( ! this.caretRect ) {\n\t\t\tthis.caretRect = currentCaretRect;\n\t\t\treturn;\n\t\t}\n\n\t\t// Even though enabling the typewriter effect for arrow keys results in\n\t\t// a pleasant experience, it may not be the case for everyone, so, for\n\t\t// now, let's disable it.\n\t\tif ( arrowKeyCodes.has( keyCode ) ) {\n\t\t\t// Reset the caret position to maintain.\n\t\t\tthis.caretRect = currentCaretRect;\n\t\t\treturn;\n\t\t}\n\n\t\tconst diff = currentCaretRect.top - this.caretRect.top;\n\n\t\tif ( diff === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollContainer = getScrollContainer( this.ref.current );\n\n\t\t// The page must be scrollable.\n\t\tif ( ! scrollContainer ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst windowScroll = scrollContainer === document.body;\n\t\tconst scrollY = windowScroll\n\t\t\t? window.scrollY\n\t\t\t: scrollContainer.scrollTop;\n\t\tconst scrollContainerY = windowScroll\n\t\t\t? 0\n\t\t\t: scrollContainer.getBoundingClientRect().top;\n\t\tconst relativeScrollPosition = windowScroll\n\t\t\t? this.caretRect.top / window.innerHeight\n\t\t\t: ( this.caretRect.top - scrollContainerY ) /\n\t\t\t  ( window.innerHeight - scrollContainerY );\n\n\t\t// If the scroll position is at the start, the active editable element\n\t\t// is the last one, and the caret is positioned within the initial\n\t\t// trigger percentage of the page, do not scroll the page.\n\t\t// The typewriter effect should not kick in until an empty page has been\n\t\t// filled with the initial trigger percentage or the user scrolls\n\t\t// intentionally down.\n\t\tif (\n\t\t\tscrollY === 0 &&\n\t\t\trelativeScrollPosition < initialTriggerPercentage &&\n\t\t\tthis.isLastEditableNode()\n\t\t) {\n\t\t\t// Reset the caret position to maintain.\n\t\t\tthis.caretRect = currentCaretRect;\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollContainerHeight = windowScroll\n\t\t\t? window.innerHeight\n\t\t\t: scrollContainer.clientHeight;\n\n\t\t// Abort if the target scroll position would scroll the caret out of\n\t\t// view.\n\t\tif (\n\t\t\t// The caret is under the lower fold.\n\t\t\tthis.caretRect.top + this.caretRect.height >\n\t\t\t\tscrollContainerY + scrollContainerHeight ||\n\t\t\t// The caret is above the upper fold.\n\t\t\tthis.caretRect.top < scrollContainerY\n\t\t) {\n\t\t\t// Reset the caret position to maintain.\n\t\t\tthis.caretRect = currentCaretRect;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( windowScroll ) {\n\t\t\twindow.scrollBy( 0, diff );\n\t\t} else {\n\t\t\tscrollContainer.scrollTop += diff;\n\t\t}\n\t}\n\n\t/**\n\t * Adds a `selectionchange` listener to reset the scroll position to be\n\t * maintained.\n\t */\n\taddSelectionChangeListener() {\n\t\tdocument.addEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.computeCaretRectOnSelectionChange\n\t\t);\n\t}\n\n\tonKeyDown( event ) {\n\t\tevent.persist();\n\n\t\t// Ensure the any remaining request is cancelled.\n\t\tif ( this.onKeyDown.rafId ) {\n\t\t\twindow.cancelAnimationFrame( this.onKeyDown.rafId );\n\t\t}\n\n\t\t// Use an animation frame for a smooth result.\n\t\tthis.onKeyDown.rafId = window.requestAnimationFrame( () => {\n\t\t\tthis.maintainCaretPosition( event );\n\t\t\tdelete this.onKeyDown.rafId;\n\t\t} );\n\t}\n\n\trender() {\n\t\t// Disable reason: Wrapper itself is non-interactive, but must capture\n\t\t// bubbling events from children to determine focus transition intents.\n\t\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ this.ref }\n\t\t\t\tonKeyDown={ this.onKeyDown }\n\t\t\t\tonKeyUp={ this.maintainCaretPosition }\n\t\t\t\tonMouseDown={ this.addSelectionChangeListener }\n\t\t\t\tonTouchStart={ this.addSelectionChangeListener }\n\t\t\t\tclassName=\"block-editor__typewriter\"\n\t\t\t>\n\t\t\t\t{ this.props.children }\n\t\t\t</div>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n\t}\n}\n\n/**\n * The exported component. The implementation of Typewriter faced technical\n * challenges in Internet Explorer, and is simply skipped, rendering the given\n * props children instead.\n *\n * @type {WPComponent}\n */\nconst TypewriterOrIEBypass = isIE\n\t? ( props ) => props.children\n\t: withSelect( ( select ) => {\n\t\t\tconst { getSelectedBlockClientId } = select( 'core/block-editor' );\n\t\t\treturn { selectedBlockClientId: getSelectedBlockClientId() };\n\t  } )( Typewriter );\n\n/**\n * Ensures that the text selection keeps the same vertical distance from the\n * viewport during keyboard events within this component. The vertical distance\n * can vary. It is the last clicked or scrolled to position.\n */\nexport default TypewriterOrIEBypass;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { Button } from '@wordpress/components';\nimport { link, keyboardReturn, arrowLeft } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport URLInput from './';\n\nclass URLInputButton extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.toggle = this.toggle.bind( this );\n\t\tthis.submitLink = this.submitLink.bind( this );\n\t\tthis.state = {\n\t\t\texpanded: false,\n\t\t};\n\t}\n\n\ttoggle() {\n\t\tthis.setState( { expanded: ! this.state.expanded } );\n\t}\n\n\tsubmitLink( event ) {\n\t\tevent.preventDefault();\n\t\tthis.toggle();\n\t}\n\n\trender() {\n\t\tconst { url, onChange } = this.props;\n\t\tconst { expanded } = this.state;\n\t\tconst buttonLabel = url ? __( 'Edit link' ) : __( 'Insert link' );\n\n\t\treturn (\n\t\t\t<div className=\"block-editor-url-input__button\">\n\t\t\t\t<Button\n\t\t\t\t\ticon={ link }\n\t\t\t\t\tlabel={ buttonLabel }\n\t\t\t\t\tonClick={ this.toggle }\n\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\tisPressed={ !! url }\n\t\t\t\t/>\n\t\t\t\t{ expanded && (\n\t\t\t\t\t<form\n\t\t\t\t\t\tclassName=\"block-editor-url-input__button-modal\"\n\t\t\t\t\t\tonSubmit={ this.submitLink }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"block-editor-url-input__button-modal-line\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"block-editor-url-input__back\"\n\t\t\t\t\t\t\t\ticon={ arrowLeft }\n\t\t\t\t\t\t\t\tlabel={ __( 'Close' ) }\n\t\t\t\t\t\t\t\tonClick={ this.toggle }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<URLInput\n\t\t\t\t\t\t\t\tvalue={ url || '' }\n\t\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ticon={ keyboardReturn }\n\t\t\t\t\t\t\t\tlabel={ __( 'Submit' ) }\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/url-input/README.md\n */\nexport default URLInputButton;\n","/**\n * External dependencies\n */\nimport { throttle, isFunction } from 'lodash';\nimport classnames from 'classnames';\nimport scrollIntoView from 'dom-scroll-into-view';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf, _n } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport { UP, DOWN, ENTER, TAB } from '@wordpress/keycodes';\nimport {\n\tBaseControl,\n\tButton,\n\tSpinner,\n\twithSpokenMessages,\n\tPopover,\n} from '@wordpress/components';\nimport { withInstanceId, withSafeTimeout, compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport { isURL } from '@wordpress/url';\n\n// Since URLInput is rendered in the context of other inputs, but should be\n// considered a separate modal node, prevent keyboard events from propagating\n// as being considered from the input.\nconst stopEventPropagation = ( event ) => event.stopPropagation();\n\nclass URLInput extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.onChange = this.onChange.bind( this );\n\t\tthis.onKeyDown = this.onKeyDown.bind( this );\n\t\tthis.selectLink = this.selectLink.bind( this );\n\t\tthis.handleOnClick = this.handleOnClick.bind( this );\n\t\tthis.bindSuggestionNode = this.bindSuggestionNode.bind( this );\n\t\tthis.autocompleteRef = props.autocompleteRef || createRef();\n\t\tthis.inputRef = createRef();\n\t\tthis.updateSuggestions = throttle(\n\t\t\tthis.updateSuggestions.bind( this ),\n\t\t\t200\n\t\t);\n\n\t\tthis.suggestionNodes = [];\n\n\t\tthis.isUpdatingSuggestions = false;\n\n\t\tthis.state = {\n\t\t\tsuggestions: [],\n\t\t\tshowSuggestions: false,\n\t\t\tselectedSuggestion: null,\n\t\t};\n\t}\n\n\tcomponentDidUpdate() {\n\t\tconst { showSuggestions, selectedSuggestion } = this.state;\n\n\t\t// only have to worry about scrolling selected suggestion into view\n\t\t// when already expanded\n\t\tif (\n\t\t\tshowSuggestions &&\n\t\t\tselectedSuggestion !== null &&\n\t\t\t! this.scrollingIntoView\n\t\t) {\n\t\t\tthis.scrollingIntoView = true;\n\n\t\t\tscrollIntoView(\n\t\t\t\tthis.suggestionNodes[ selectedSuggestion ],\n\t\t\t\tthis.autocompleteRef.current,\n\t\t\t\t{\n\t\t\t\t\tonlyScrollIfNeeded: true,\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tthis.props.setTimeout( () => {\n\t\t\t\tthis.scrollingIntoView = false;\n\t\t\t}, 100 );\n\t\t}\n\n\t\tif ( this.shouldShowInitialSuggestions() ) {\n\t\t\tthis.updateSuggestions();\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( this.shouldShowInitialSuggestions() ) {\n\t\t\tthis.updateSuggestions();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdelete this.suggestionsRequest;\n\t}\n\n\tbindSuggestionNode( index ) {\n\t\treturn ( ref ) => {\n\t\t\tthis.suggestionNodes[ index ] = ref;\n\t\t};\n\t}\n\n\tshouldShowInitialSuggestions() {\n\t\tconst { suggestions } = this.state;\n\t\tconst {\n\t\t\t__experimentalShowInitialSuggestions = false,\n\t\t\tvalue,\n\t\t} = this.props;\n\t\treturn (\n\t\t\t! this.isUpdatingSuggestions &&\n\t\t\t__experimentalShowInitialSuggestions &&\n\t\t\t! ( value && value.length ) &&\n\t\t\t! ( suggestions && suggestions.length )\n\t\t);\n\t}\n\n\tupdateSuggestions( value = '' ) {\n\t\tconst {\n\t\t\t__experimentalFetchLinkSuggestions: fetchLinkSuggestions,\n\t\t\t__experimentalHandleURLSuggestions: handleURLSuggestions,\n\t\t} = this.props;\n\n\t\tif ( ! fetchLinkSuggestions ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isInitialSuggestions = ! ( value && value.length );\n\n\t\t// Allow a suggestions request if:\n\t\t// - there are at least 2 characters in the search input (except manual searches where\n\t\t//   search input length is not required to trigger a fetch)\n\t\t// - this is a direct entry (eg: a URL)\n\t\tif (\n\t\t\t! isInitialSuggestions &&\n\t\t\t( value.length < 2 || ( ! handleURLSuggestions && isURL( value ) ) )\n\t\t) {\n\t\t\tthis.setState( {\n\t\t\t\tshowSuggestions: false,\n\t\t\t\tselectedSuggestion: null,\n\t\t\t\tloading: false,\n\t\t\t} );\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.isUpdatingSuggestions = true;\n\n\t\tthis.setState( {\n\t\t\tshowSuggestions: true,\n\t\t\tselectedSuggestion: null,\n\t\t\tloading: true,\n\t\t} );\n\n\t\tconst request = fetchLinkSuggestions( value, {\n\t\t\tisInitialSuggestions,\n\t\t} );\n\n\t\trequest\n\t\t\t.then( ( suggestions ) => {\n\t\t\t\t// A fetch Promise doesn't have an abort option. It's mimicked by\n\t\t\t\t// comparing the request reference in on the instance, which is\n\t\t\t\t// reset or deleted on subsequent requests or unmounting.\n\t\t\t\tif ( this.suggestionsRequest !== request ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.setState( {\n\t\t\t\t\tsuggestions,\n\t\t\t\t\tloading: false,\n\t\t\t\t} );\n\n\t\t\t\tif ( !! suggestions.length ) {\n\t\t\t\t\tthis.props.debouncedSpeak(\n\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t'%d result found, use up and down arrow keys to navigate.',\n\t\t\t\t\t\t\t\t'%d results found, use up and down arrow keys to navigate.',\n\t\t\t\t\t\t\t\tsuggestions.length\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tsuggestions.length\n\t\t\t\t\t\t),\n\t\t\t\t\t\t'assertive'\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.debouncedSpeak(\n\t\t\t\t\t\t__( 'No results.' ),\n\t\t\t\t\t\t'assertive'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tthis.isUpdatingSuggestions = false;\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\tif ( this.suggestionsRequest === request ) {\n\t\t\t\t\tthis.setState( {\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t} );\n\t\t\t\t\tthis.isUpdatingSuggestions = false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t// Note that this assignment is handled *before* the async search request\n\t\t// as a Promise always resolves on the next tick of the event loop.\n\t\tthis.suggestionsRequest = request;\n\t}\n\n\tonChange( event ) {\n\t\tconst inputValue = event.target.value;\n\n\t\tthis.props.onChange( inputValue );\n\t\tif ( ! this.props.disableSuggestions ) {\n\t\t\tthis.updateSuggestions( inputValue );\n\t\t}\n\t}\n\n\tonKeyDown( event ) {\n\t\tconst {\n\t\t\tshowSuggestions,\n\t\t\tselectedSuggestion,\n\t\t\tsuggestions,\n\t\t\tloading,\n\t\t} = this.state;\n\n\t\t// If the suggestions are not shown or loading, we shouldn't handle the arrow keys\n\t\t// We shouldn't preventDefault to allow block arrow keys navigation\n\t\tif ( ! showSuggestions || ! suggestions.length || loading ) {\n\t\t\t// In the Windows version of Firefox the up and down arrows don't move the caret\n\t\t\t// within an input field like they do for Mac Firefox/Chrome/Safari. This causes\n\t\t\t// a form of focus trapping that is disruptive to the user experience. This disruption\n\t\t\t// only happens if the caret is not in the first or last position in the text input.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/5693#issuecomment-436684747\n\t\t\tswitch ( event.keyCode ) {\n\t\t\t\t// When UP is pressed, if the caret is at the start of the text, move it to the 0\n\t\t\t\t// position.\n\t\t\t\tcase UP: {\n\t\t\t\t\tif ( 0 !== event.target.selectionStart ) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\t// Set the input caret to position 0\n\t\t\t\t\t\tevent.target.setSelectionRange( 0, 0 );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// When DOWN is pressed, if the caret is not at the end of the text, move it to the\n\t\t\t\t// last position.\n\t\t\t\tcase DOWN: {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.props.value.length !== event.target.selectionStart\n\t\t\t\t\t) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\t// Set the input caret to the last position\n\t\t\t\t\t\tevent.target.setSelectionRange(\n\t\t\t\t\t\t\tthis.props.value.length,\n\t\t\t\t\t\t\tthis.props.value.length\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst suggestion = this.state.suggestions[\n\t\t\tthis.state.selectedSuggestion\n\t\t];\n\n\t\tswitch ( event.keyCode ) {\n\t\t\tcase UP: {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconst previousIndex = ! selectedSuggestion\n\t\t\t\t\t? suggestions.length - 1\n\t\t\t\t\t: selectedSuggestion - 1;\n\t\t\t\tthis.setState( {\n\t\t\t\t\tselectedSuggestion: previousIndex,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase DOWN: {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconst nextIndex =\n\t\t\t\t\tselectedSuggestion === null ||\n\t\t\t\t\tselectedSuggestion === suggestions.length - 1\n\t\t\t\t\t\t? 0\n\t\t\t\t\t\t: selectedSuggestion + 1;\n\t\t\t\tthis.setState( {\n\t\t\t\t\tselectedSuggestion: nextIndex,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase TAB: {\n\t\t\t\tif ( this.state.selectedSuggestion !== null ) {\n\t\t\t\t\tthis.selectLink( suggestion );\n\t\t\t\t\t// Announce a link has been selected when tabbing away from the input field.\n\t\t\t\t\tthis.props.speak( __( 'Link selected.' ) );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase ENTER: {\n\t\t\t\tif ( this.state.selectedSuggestion !== null ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tthis.selectLink( suggestion );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tselectLink( suggestion ) {\n\t\tthis.props.onChange( suggestion.url, suggestion );\n\t\tthis.setState( {\n\t\t\tselectedSuggestion: null,\n\t\t\tshowSuggestions: false,\n\t\t} );\n\t}\n\n\thandleOnClick( suggestion ) {\n\t\tthis.selectLink( suggestion );\n\t\t// Move focus to the input field when a link suggestion is clicked.\n\t\tthis.inputRef.current.focus();\n\t}\n\n\tstatic getDerivedStateFromProps(\n\t\t{\n\t\t\tvalue,\n\t\t\tdisableSuggestions,\n\t\t\t__experimentalShowInitialSuggestions = false,\n\t\t},\n\t\t{ showSuggestions }\n\t) {\n\t\tlet shouldShowSuggestions = showSuggestions;\n\n\t\tconst hasValue = value && value.length;\n\n\t\tif ( ! __experimentalShowInitialSuggestions && ! hasValue ) {\n\t\t\tshouldShowSuggestions = false;\n\t\t}\n\n\t\tif ( disableSuggestions === true ) {\n\t\t\tshouldShowSuggestions = false;\n\t\t}\n\n\t\treturn {\n\t\t\tshowSuggestions: shouldShowSuggestions,\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tlabel,\n\t\t\tinstanceId,\n\t\t\tclassName,\n\t\t\tisFullWidth,\n\t\t\thasBorder,\n\t\t\t__experimentalRenderSuggestions: renderSuggestions,\n\t\t\tplaceholder = __( 'Paste URL or type to search' ),\n\t\t\tvalue = '',\n\t\t\tautoFocus = true,\n\t\t\t__experimentalShowInitialSuggestions = false,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tshowSuggestions,\n\t\t\tsuggestions,\n\t\t\tselectedSuggestion,\n\t\t\tloading,\n\t\t} = this.state;\n\n\t\tconst id = `url-input-control-${ instanceId }`;\n\n\t\tconst suggestionsListboxId = `block-editor-url-input-suggestions-${ instanceId }`;\n\t\tconst suggestionOptionIdPrefix = `block-editor-url-input-suggestion-${ instanceId }`;\n\n\t\tconst suggestionsListProps = {\n\t\t\tid: suggestionsListboxId,\n\t\t\tref: this.autocompleteRef,\n\t\t\trole: 'listbox',\n\t\t};\n\n\t\tconst buildSuggestionItemProps = ( suggestion, index ) => {\n\t\t\treturn {\n\t\t\t\trole: 'option',\n\t\t\t\ttabIndex: '-1',\n\t\t\t\tid: `${ suggestionOptionIdPrefix }-${ index }`,\n\t\t\t\tref: this.bindSuggestionNode( index ),\n\t\t\t\t'aria-selected': index === selectedSuggestion,\n\t\t\t};\n\t\t};\n\n\t\t/* eslint-disable jsx-a11y/no-autofocus */\n\t\treturn (\n\t\t\t<BaseControl\n\t\t\t\tlabel={ label }\n\t\t\t\tid={ id }\n\t\t\t\tclassName={ classnames( 'block-editor-url-input', className, {\n\t\t\t\t\t'is-full-width': isFullWidth,\n\t\t\t\t\t'has-border': hasBorder,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<input\n\t\t\t\t\tautoFocus={ autoFocus }\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\taria-label={ __( 'URL' ) }\n\t\t\t\t\trequired\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ this.onChange }\n\t\t\t\t\tonInput={ stopEventPropagation }\n\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\tonKeyDown={ this.onKeyDown }\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\taria-expanded={ showSuggestions }\n\t\t\t\t\taria-autocomplete=\"list\"\n\t\t\t\t\taria-owns={ suggestionsListboxId }\n\t\t\t\t\taria-activedescendant={\n\t\t\t\t\t\tselectedSuggestion !== null\n\t\t\t\t\t\t\t? `${ suggestionOptionIdPrefix }-${ selectedSuggestion }`\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\tref={ this.inputRef }\n\t\t\t\t/>\n\n\t\t\t\t{ loading && <Spinner /> }\n\n\t\t\t\t{ isFunction( renderSuggestions ) &&\n\t\t\t\t\tshowSuggestions &&\n\t\t\t\t\t!! suggestions.length &&\n\t\t\t\t\trenderSuggestions( {\n\t\t\t\t\t\tsuggestions,\n\t\t\t\t\t\tselectedSuggestion,\n\t\t\t\t\t\tsuggestionsListProps,\n\t\t\t\t\t\tbuildSuggestionItemProps,\n\t\t\t\t\t\tisLoading: loading,\n\t\t\t\t\t\thandleSuggestionClick: this.handleOnClick,\n\t\t\t\t\t\tisInitialSuggestions:\n\t\t\t\t\t\t\t__experimentalShowInitialSuggestions &&\n\t\t\t\t\t\t\t! ( value && value.length ),\n\t\t\t\t\t} ) }\n\n\t\t\t\t{ ! isFunction( renderSuggestions ) &&\n\t\t\t\t\tshowSuggestions &&\n\t\t\t\t\t!! suggestions.length && (\n\t\t\t\t\t\t<Popover\n\t\t\t\t\t\t\tposition=\"bottom\"\n\t\t\t\t\t\t\tnoArrow\n\t\t\t\t\t\t\tfocusOnMount={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t{ ...suggestionsListProps }\n\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t'block-editor-url-input__suggestions',\n\t\t\t\t\t\t\t\t\t`${ className }__suggestions`\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ suggestions.map( ( suggestion, index ) => (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t{ ...buildSuggestionItemProps(\n\t\t\t\t\t\t\t\t\t\t\tsuggestion,\n\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tkey={ suggestion.id }\n\t\t\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t\t\t'block-editor-url-input__suggestion',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t'is-selected':\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex ===\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedSuggestion,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\tthis.handleOnClick( suggestion )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ suggestion.title }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Popover>\n\t\t\t\t\t) }\n\t\t\t</BaseControl>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-autofocus */\n\t}\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/url-input/README.md\n */\nexport default compose(\n\twithSafeTimeout,\n\twithSpokenMessages,\n\twithInstanceId,\n\twithSelect( ( select, props ) => {\n\t\t// If a link suggestions handler is already provided then\n\t\t// bail\n\t\tif ( isFunction( props.__experimentalFetchLinkSuggestions ) ) {\n\t\t\treturn;\n\t\t}\n\t\tconst { getSettings } = select( 'core/block-editor' );\n\t\treturn {\n\t\t\t__experimentalFetchLinkSuggestions: getSettings()\n\t\t\t\t.__experimentalFetchLinkSuggestions,\n\t\t};\n\t} )\n)( URLInput );\n","/**\n * External dependencies\n */\nimport { find, isEmpty, each, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useRef, useState, useCallback } from '@wordpress/element';\nimport {\n\tButton,\n\tNavigableMenu,\n\tMenuItem,\n\tToggleControl,\n\tTextControl,\n\tSVG,\n\tPath,\n} from '@wordpress/components';\nimport { LEFT, RIGHT, UP, DOWN, BACKSPACE, ENTER } from '@wordpress/keycodes';\nimport { link as linkIcon, close } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport URLPopover from './index';\n\nconst LINK_DESTINATION_NONE = 'none';\nconst LINK_DESTINATION_CUSTOM = 'custom';\nconst LINK_DESTINATION_MEDIA = 'media';\nconst LINK_DESTINATION_ATTACHMENT = 'attachment';\nconst NEW_TAB_REL = [ 'noreferrer', 'noopener' ];\n\nconst icon = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M0,0h24v24H0V0z\" fill=\"none\" />\n\t\t<Path d=\"m19 5v14h-14v-14h14m0-2h-14c-1.1 0-2 0.9-2 2v14c0 1.1 0.9 2 2 2h14c1.1 0 2-0.9 2-2v-14c0-1.1-0.9-2-2-2z\" />\n\t\t<Path d=\"m14.14 11.86l-3 3.87-2.14-2.59-3 3.86h12l-3.86-5.14z\" />\n\t</SVG>\n);\n\nconst ImageURLInputUI = ( {\n\tlinkDestination,\n\tonChangeUrl,\n\turl,\n\tmediaType = 'image',\n\tmediaUrl,\n\tmediaLink,\n\tlinkTarget,\n\tlinkClass,\n\trel,\n} ) => {\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\tconst openLinkUI = useCallback( () => {\n\t\tsetIsOpen( true );\n\t} );\n\n\tconst [ isEditingLink, setIsEditingLink ] = useState( false );\n\tconst [ urlInput, setUrlInput ] = useState( null );\n\n\tconst autocompleteRef = useRef( null );\n\n\tconst stopPropagation = ( event ) => {\n\t\tevent.stopPropagation();\n\t};\n\n\tconst stopPropagationRelevantKeys = ( event ) => {\n\t\tif (\n\t\t\t[ LEFT, DOWN, RIGHT, UP, BACKSPACE, ENTER ].indexOf(\n\t\t\t\tevent.keyCode\n\t\t\t) > -1\n\t\t) {\n\t\t\t// Stop the key event from propagating up to ObserveTyping.startTypingInTextField.\n\t\t\tevent.stopPropagation();\n\t\t}\n\t};\n\n\tconst startEditLink = useCallback( () => {\n\t\tif (\n\t\t\tlinkDestination === LINK_DESTINATION_MEDIA ||\n\t\t\tlinkDestination === LINK_DESTINATION_ATTACHMENT\n\t\t) {\n\t\t\tsetUrlInput( '' );\n\t\t}\n\t\tsetIsEditingLink( true );\n\t} );\n\n\tconst stopEditLink = useCallback( () => {\n\t\tsetIsEditingLink( false );\n\t} );\n\n\tconst closeLinkUI = useCallback( () => {\n\t\tsetUrlInput( null );\n\t\tstopEditLink();\n\t\tsetIsOpen( false );\n\t} );\n\n\tconst removeNewTabRel = ( currentRel ) => {\n\t\tlet newRel = currentRel;\n\n\t\tif ( currentRel !== undefined && ! isEmpty( newRel ) ) {\n\t\t\tif ( ! isEmpty( newRel ) ) {\n\t\t\t\teach( NEW_TAB_REL, function( relVal ) {\n\t\t\t\t\tconst regExp = new RegExp( '\\\\b' + relVal + '\\\\b', 'gi' );\n\t\t\t\t\tnewRel = newRel.replace( regExp, '' );\n\t\t\t\t} );\n\n\t\t\t\t// Only trim if NEW_TAB_REL values was replaced.\n\t\t\t\tif ( newRel !== currentRel ) {\n\t\t\t\t\tnewRel = newRel.trim();\n\t\t\t\t}\n\n\t\t\t\tif ( isEmpty( newRel ) ) {\n\t\t\t\t\tnewRel = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn newRel;\n\t};\n\n\tconst getUpdatedLinkTargetSettings = ( value ) => {\n\t\tconst newLinkTarget = value ? '_blank' : undefined;\n\n\t\tlet updatedRel;\n\t\tif ( ! newLinkTarget && ! rel ) {\n\t\t\tupdatedRel = undefined;\n\t\t} else {\n\t\t\tupdatedRel = removeNewTabRel( rel );\n\t\t}\n\n\t\treturn {\n\t\t\tlinkTarget: newLinkTarget,\n\t\t\trel: updatedRel,\n\t\t};\n\t};\n\n\tconst onFocusOutside = useCallback( () => {\n\t\treturn ( event ) => {\n\t\t\t// The autocomplete suggestions list renders in a separate popover (in a portal),\n\t\t\t// so onFocusOutside fails to detect that a click on a suggestion occurred in the\n\t\t\t// LinkContainer. Detect clicks on autocomplete suggestions using a ref here, and\n\t\t\t// return to avoid the popover being closed.\n\t\t\tconst autocompleteElement = autocompleteRef.current;\n\t\t\tif (\n\t\t\t\tautocompleteElement &&\n\t\t\t\tautocompleteElement.contains( event.target )\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetIsOpen( false );\n\t\t\tsetUrlInput( null );\n\t\t\tstopEditLink();\n\t\t};\n\t} );\n\n\tconst onSubmitLinkChange = useCallback( () => {\n\t\treturn ( event ) => {\n\t\t\tif ( urlInput ) {\n\t\t\t\tonChangeUrl( { href: urlInput } );\n\t\t\t}\n\t\t\tstopEditLink();\n\t\t\tsetUrlInput( null );\n\t\t\tevent.preventDefault();\n\t\t};\n\t} );\n\n\tconst onLinkRemove = useCallback( () => {\n\t\tonChangeUrl( {\n\t\t\tlinkDestination: LINK_DESTINATION_NONE,\n\t\t\thref: '',\n\t\t} );\n\t} );\n\n\tconst getLinkDestinations = () => {\n\t\treturn [\n\t\t\t{\n\t\t\t\tlinkDestination: LINK_DESTINATION_MEDIA,\n\t\t\t\ttitle: __( 'Media File' ),\n\t\t\t\turl: mediaType === 'image' ? mediaUrl : undefined,\n\t\t\t\ticon,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlinkDestination: LINK_DESTINATION_ATTACHMENT,\n\t\t\t\ttitle: __( 'Attachment Page' ),\n\t\t\t\turl: mediaType === 'image' ? mediaLink : undefined,\n\t\t\t\ticon: (\n\t\t\t\t\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t<Path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n\t\t\t\t\t\t<Path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z\" />\n\t\t\t\t\t</SVG>\n\t\t\t\t),\n\t\t\t},\n\t\t];\n\t};\n\n\tconst onSetHref = ( value ) => {\n\t\tconst linkDestinations = getLinkDestinations();\n\t\tlet linkDestinationInput;\n\t\tif ( ! value ) {\n\t\t\tlinkDestinationInput = LINK_DESTINATION_NONE;\n\t\t} else {\n\t\t\tlinkDestinationInput = (\n\t\t\t\tfind( linkDestinations, ( destination ) => {\n\t\t\t\t\treturn destination.url === value;\n\t\t\t\t} ) || { linkDestination: LINK_DESTINATION_CUSTOM }\n\t\t\t).linkDestination;\n\t\t}\n\t\tonChangeUrl( {\n\t\t\tlinkDestination: linkDestinationInput,\n\t\t\thref: value,\n\t\t} );\n\t};\n\n\tconst onSetNewTab = ( value ) => {\n\t\tconst updatedLinkTarget = getUpdatedLinkTargetSettings( value );\n\t\tonChangeUrl( updatedLinkTarget );\n\t};\n\n\tconst onSetLinkRel = ( value ) => {\n\t\tonChangeUrl( { rel: value } );\n\t};\n\n\tconst onSetLinkClass = ( value ) => {\n\t\tonChangeUrl( { linkClass: value } );\n\t};\n\n\tconst advancedOptions = (\n\t\t<>\n\t\t\t<ToggleControl\n\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\tonChange={ onSetNewTab }\n\t\t\t\tchecked={ linkTarget === '_blank' }\n\t\t\t/>\n\t\t\t<TextControl\n\t\t\t\tlabel={ __( 'Link Rel' ) }\n\t\t\t\tvalue={ removeNewTabRel( rel ) || '' }\n\t\t\t\tonChange={ onSetLinkRel }\n\t\t\t\tonKeyPress={ stopPropagation }\n\t\t\t\tonKeyDown={ stopPropagationRelevantKeys }\n\t\t\t/>\n\t\t\t<TextControl\n\t\t\t\tlabel={ __( 'Link CSS Class' ) }\n\t\t\t\tvalue={ linkClass || '' }\n\t\t\t\tonKeyPress={ stopPropagation }\n\t\t\t\tonKeyDown={ stopPropagationRelevantKeys }\n\t\t\t\tonChange={ onSetLinkClass }\n\t\t\t/>\n\t\t</>\n\t);\n\n\tconst linkEditorValue = urlInput !== null ? urlInput : url;\n\n\tconst urlLabel = (\n\t\tfind( getLinkDestinations(), [ 'linkDestination', linkDestination ] ) ||\n\t\t{}\n\t).title;\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\ticon={ linkIcon }\n\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\tlabel={ url ? __( 'Edit link' ) : __( 'Insert link' ) }\n\t\t\t\taria-expanded={ isOpen }\n\t\t\t\tonClick={ openLinkUI }\n\t\t\t/>\n\t\t\t{ isOpen && (\n\t\t\t\t<URLPopover\n\t\t\t\t\tonFocusOutside={ onFocusOutside() }\n\t\t\t\t\tonClose={ closeLinkUI }\n\t\t\t\t\trenderSettings={ () => advancedOptions }\n\t\t\t\t\tadditionalControls={\n\t\t\t\t\t\t! linkEditorValue && (\n\t\t\t\t\t\t\t<NavigableMenu>\n\t\t\t\t\t\t\t\t{ map( getLinkDestinations(), ( link ) => (\n\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\tkey={ link.linkDestination }\n\t\t\t\t\t\t\t\t\t\ticon={ link.icon }\n\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\tsetUrlInput( null );\n\t\t\t\t\t\t\t\t\t\t\tonSetHref( link.url );\n\t\t\t\t\t\t\t\t\t\t\tstopEditLink();\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ link.title }\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</NavigableMenu>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ ( ! url || isEditingLink ) && (\n\t\t\t\t\t\t<URLPopover.LinkEditor\n\t\t\t\t\t\t\tclassName=\"block-editor-format-toolbar__link-container-content\"\n\t\t\t\t\t\t\tvalue={ linkEditorValue }\n\t\t\t\t\t\t\tonChangeInputValue={ setUrlInput }\n\t\t\t\t\t\t\tonKeyDown={ stopPropagationRelevantKeys }\n\t\t\t\t\t\t\tonKeyPress={ stopPropagation }\n\t\t\t\t\t\t\tonSubmit={ onSubmitLinkChange() }\n\t\t\t\t\t\t\tautocompleteRef={ autocompleteRef }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ url && ! isEditingLink && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<URLPopover.LinkViewer\n\t\t\t\t\t\t\t\tclassName=\"block-editor-format-toolbar__link-container-content\"\n\t\t\t\t\t\t\t\tonKeyPress={ stopPropagation }\n\t\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t\t\tonEditLinkClick={ startEditLink }\n\t\t\t\t\t\t\t\turlLabel={ urlLabel }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ticon={ close }\n\t\t\t\t\t\t\t\tlabel={ __( 'Remove link' ) }\n\t\t\t\t\t\t\t\tonClick={ onLinkRemove }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</URLPopover>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nexport { ImageURLInputUI as __experimentalImageURLInputUI };\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { Button, Popover } from '@wordpress/components';\nimport { chevronDown } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport LinkViewer from './link-viewer';\nimport LinkEditor from './link-editor';\n\nclass URLPopover extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.toggleSettingsVisibility = this.toggleSettingsVisibility.bind(\n\t\t\tthis\n\t\t);\n\n\t\tthis.state = {\n\t\t\tisSettingsExpanded: false,\n\t\t};\n\t}\n\n\ttoggleSettingsVisibility() {\n\t\tthis.setState( {\n\t\t\tisSettingsExpanded: ! this.state.isSettingsExpanded,\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tadditionalControls,\n\t\t\tchildren,\n\t\t\trenderSettings,\n\t\t\tposition = 'bottom center',\n\t\t\tfocusOnMount = 'firstElement',\n\t\t\t...popoverProps\n\t\t} = this.props;\n\n\t\tconst { isSettingsExpanded } = this.state;\n\n\t\tconst showSettings = !! renderSettings && isSettingsExpanded;\n\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\tclassName=\"block-editor-url-popover\"\n\t\t\t\tfocusOnMount={ focusOnMount }\n\t\t\t\tposition={ position }\n\t\t\t\t{ ...popoverProps }\n\t\t\t>\n\t\t\t\t<div className=\"block-editor-url-popover__input-container\">\n\t\t\t\t\t<div className=\"block-editor-url-popover__row\">\n\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t{ !! renderSettings && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"block-editor-url-popover__settings-toggle\"\n\t\t\t\t\t\t\t\ticon={ chevronDown }\n\t\t\t\t\t\t\t\tlabel={ __( 'Link settings' ) }\n\t\t\t\t\t\t\t\tonClick={ this.toggleSettingsVisibility }\n\t\t\t\t\t\t\t\taria-expanded={ isSettingsExpanded }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t\t{ showSettings && (\n\t\t\t\t\t\t<div className=\"block-editor-url-popover__row block-editor-url-popover__settings\">\n\t\t\t\t\t\t\t{ renderSettings() }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t{ additionalControls && ! showSettings && (\n\t\t\t\t\t<div className=\"block-editor-url-popover__additional-controls\">\n\t\t\t\t\t\t{ additionalControls }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</Popover>\n\t\t);\n\t}\n}\n\nURLPopover.LinkEditor = LinkEditor;\n\nURLPopover.LinkViewer = LinkViewer;\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/url-popover/README.md\n */\nexport default URLPopover;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { keyboardReturn } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport URLInput from '../url-input';\n\nexport default function LinkEditor( {\n\tautocompleteRef,\n\tclassName,\n\tonChangeInputValue,\n\tvalue,\n\t...props\n} ) {\n\treturn (\n\t\t<form\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-url-popover__link-editor',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t<URLInput\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ onChangeInputValue }\n\t\t\t\tautocompleteRef={ autocompleteRef }\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\ticon={ keyboardReturn }\n\t\t\t\tlabel={ __( 'Apply' ) }\n\t\t\t\ttype=\"submit\"\n\t\t\t/>\n\t\t</form>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ExternalLink, Button } from '@wordpress/components';\nimport { safeDecodeURI, filterURLForDisplay } from '@wordpress/url';\nimport { pencil } from '@wordpress/icons';\n\nfunction LinkViewerUrl( { url, urlLabel, className } ) {\n\tconst linkClassName = classnames(\n\t\tclassName,\n\t\t'block-editor-url-popover__link-viewer-url'\n\t);\n\n\tif ( ! url ) {\n\t\treturn <span className={ linkClassName }></span>;\n\t}\n\n\treturn (\n\t\t<ExternalLink className={ linkClassName } href={ url }>\n\t\t\t{ urlLabel || filterURLForDisplay( safeDecodeURI( url ) ) }\n\t\t</ExternalLink>\n\t);\n}\n\nexport default function LinkViewer( {\n\tclassName,\n\tlinkClassName,\n\tonEditLinkClick,\n\turl,\n\turlLabel,\n\t...props\n} ) {\n\treturn (\n\t\t<div\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-url-popover__link-viewer',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t<LinkViewerUrl\n\t\t\t\turl={ url }\n\t\t\t\turlLabel={ urlLabel }\n\t\t\t\tclassName={ linkClassName }\n\t\t\t/>\n\t\t\t{ onEditLinkClick && (\n\t\t\t\t<Button\n\t\t\t\t\ticon={ pencil }\n\t\t\t\t\tlabel={ __( 'Edit' ) }\n\t\t\t\t\tonClick={ onEditLinkClick }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Children } from '@wordpress/element';\nimport { Dropdown, Button, MenuGroup, MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { moreHorizontal } from '@wordpress/icons';\n\nfunction Warning( { className, actions, children, secondaryActions } ) {\n\treturn (\n\t\t<div className={ classnames( className, 'block-editor-warning' ) }>\n\t\t\t<div className=\"block-editor-warning__contents\">\n\t\t\t\t<p className=\"block-editor-warning__message\">{ children }</p>\n\n\t\t\t\t{ Children.count( actions ) > 0 && (\n\t\t\t\t\t<div className=\"block-editor-warning__actions\">\n\t\t\t\t\t\t{ Children.map( actions, ( action, i ) => (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tkey={ i }\n\t\t\t\t\t\t\t\tclassName=\"block-editor-warning__action\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ action }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\n\t\t\t{ secondaryActions && (\n\t\t\t\t<Dropdown\n\t\t\t\t\tclassName=\"block-editor-warning__secondary\"\n\t\t\t\t\tposition=\"bottom left\"\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={ moreHorizontal }\n\t\t\t\t\t\t\tlabel={ __( 'More options' ) }\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t{ secondaryActions.map( ( item, pos ) => (\n\t\t\t\t\t\t\t\t<MenuItem onClick={ item.onClick } key={ pos }>\n\t\t\t\t\t\t\t\t\t{ item.title }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default Warning;\n","/**\n * External dependencies\n */\nimport { first, last } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\nimport { focus } from '@wordpress/dom';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { getBlockDOMNode } from '../../utils/dom';\n\n/**\n * Renders focus capturing areas to redirect focus to the selected block if not\n * in Navigation mode.\n *\n * @param {string}  selectedClientId Client ID of the selected block.\n * @param {boolean} isReverse        Set to true if the component is rendered\n *                                   after the block list, false if rendered\n *                                   before.\n * @param {Object}  containerRef     Reference containing the element reference\n *                                   of the block list container.\n * @param {boolean} noCapture        Reference containing the flag for enabling\n *                                   or disabling capturing.\n *\n * @return {WPElement} The focus capture element.\n */\nconst FocusCapture = forwardRef(\n\t(\n\t\t{\n\t\t\tselectedClientId,\n\t\t\tisReverse,\n\t\t\tcontainerRef,\n\t\t\tnoCapture,\n\t\t\thasMultiSelection,\n\t\t\tmultiSelectionContainer,\n\t\t},\n\t\tref\n\t) => {\n\t\tconst isNavigationMode = useSelect( ( select ) =>\n\t\t\tselect( 'core/block-editor' ).isNavigationMode()\n\t\t);\n\t\tconst { setNavigationMode } = useDispatch( 'core/block-editor' );\n\n\t\tfunction onFocus() {\n\t\t\t// Do not capture incoming focus if set by us in WritingFlow.\n\t\t\tif ( noCapture.current ) {\n\t\t\t\tnoCapture.current = null;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// When focus coming in from out of the block list, and no block is\n\t\t\t// selected, enable Navigation mode and select the first or last block\n\t\t\t// depending on the direction.\n\t\t\tif ( ! selectedClientId ) {\n\t\t\t\tif ( hasMultiSelection ) {\n\t\t\t\t\tmultiSelectionContainer.current.focus();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetNavigationMode( true );\n\n\t\t\t\tconst tabbables = focus.tabbable.find( containerRef.current );\n\n\t\t\t\tif ( tabbables.length ) {\n\t\t\t\t\tif ( isReverse ) {\n\t\t\t\t\t\tlast( tabbables ).focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfirst( tabbables ).focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If there is a selected block, move focus to the first or last\n\t\t\t// tabbable element depending on the direction.\n\t\t\tconst wrapper = getBlockDOMNode( selectedClientId );\n\n\t\t\tif ( isReverse ) {\n\t\t\t\tconst tabbables = focus.tabbable.find( wrapper );\n\t\t\t\tconst lastTabbable = last( tabbables ) || wrapper;\n\t\t\t\tlastTabbable.focus();\n\t\t\t} else {\n\t\t\t\twrapper.focus();\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ ref }\n\t\t\t\t// Don't allow tabbing to this element in Navigation mode.\n\t\t\t\ttabIndex={ ! isNavigationMode ? '0' : undefined }\n\t\t\t\tonFocus={ onFocus }\n\t\t\t\t// Needs to be positioned within the viewport, so focus to this\n\t\t\t\t// element does not scroll the page.\n\t\t\t\tstyle={ { position: 'fixed' } }\n\t\t\t/>\n\t\t);\n\t}\n);\n\nexport default FocusCapture;\n","/**\n * External dependencies\n */\nimport { overEvery, find, findLast, reverse, first, last } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport {\n\tcomputeCaretRect,\n\tfocus,\n\tisHorizontalEdge,\n\tisTextField,\n\tisVerticalEdge,\n\tplaceCaretAtHorizontalEdge,\n\tplaceCaretAtVerticalEdge,\n\tisEntirelySelected,\n} from '@wordpress/dom';\nimport {\n\tUP,\n\tDOWN,\n\tLEFT,\n\tRIGHT,\n\tTAB,\n\tisKeyboardEvent,\n\tESCAPE,\n} from '@wordpress/keycodes';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport {\n\tisBlockFocusStop,\n\tisInSameBlock,\n\thasInnerBlocksContext,\n\tisInsideRootBlock,\n\tgetBlockDOMNode,\n\tgetBlockClientId,\n} from '../../utils/dom';\nimport FocusCapture from './focus-capture';\n\n/**\n * Browser constants\n */\n\nconst { getSelection, getComputedStyle } = window;\n\n/**\n * Given an element, returns true if the element is a tabbable text field, or\n * false otherwise.\n *\n * @param {Element} element Element to test.\n *\n * @return {boolean} Whether element is a tabbable text field.\n */\nconst isTabbableTextField = overEvery( [\n\tisTextField,\n\tfocus.tabbable.isTabbableIndex,\n] );\n\n/**\n * Returns true if the element should consider edge navigation upon a keyboard\n * event of the given directional key code, or false otherwise.\n *\n * @param {Element} element     HTML element to test.\n * @param {number}  keyCode     KeyboardEvent keyCode to test.\n * @param {boolean} hasModifier Whether a modifier is pressed.\n *\n * @return {boolean} Whether element should consider edge navigation.\n */\nexport function isNavigationCandidate( element, keyCode, hasModifier ) {\n\tconst isVertical = keyCode === UP || keyCode === DOWN;\n\n\t// Currently, all elements support unmodified vertical navigation.\n\tif ( isVertical && ! hasModifier ) {\n\t\treturn true;\n\t}\n\n\t// Native inputs should not navigate horizontally.\n\tconst { tagName } = element;\n\treturn tagName !== 'INPUT' && tagName !== 'TEXTAREA';\n}\n\n/**\n * Returns the optimal tab target from the given focused element in the\n * desired direction. A preference is made toward text fields, falling back\n * to the block focus stop if no other candidates exist for the block.\n *\n * @param {Element} target           Currently focused text field.\n * @param {boolean} isReverse        True if considering as the first field.\n * @param {Element} containerElement Element containing all blocks.\n *\n * @return {?Element} Optimal tab target, if one exists.\n */\nexport function getClosestTabbable( target, isReverse, containerElement ) {\n\t// Since the current focus target is not guaranteed to be a text field,\n\t// find all focusables. Tabbability is considered later.\n\tlet focusableNodes = focus.focusable.find( containerElement );\n\n\tif ( isReverse ) {\n\t\tfocusableNodes = reverse( focusableNodes );\n\t}\n\n\t// Consider as candidates those focusables after the current target.\n\t// It's assumed this can only be reached if the target is focusable\n\t// (on its keydown event), so no need to verify it exists in the set.\n\tfocusableNodes = focusableNodes.slice(\n\t\tfocusableNodes.indexOf( target ) + 1\n\t);\n\n\tfunction isTabCandidate( node, i, array ) {\n\t\t// Not a candidate if the node is not tabbable.\n\t\tif ( ! focus.tabbable.isTabbableIndex( node ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Prefer text fields...\n\t\tif ( isTextField( node ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// ...but settle for block focus stop.\n\t\tif ( ! isBlockFocusStop( node ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// If element contains inner blocks, stop immediately at its focus\n\t\t// wrapper.\n\t\tif ( hasInnerBlocksContext( node ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// If navigating out of a block (in reverse), don't consider its\n\t\t// block focus stop.\n\t\tif ( node.contains( target ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// In case of block focus stop, check to see if there's a better\n\t\t// text field candidate within.\n\t\tfor (\n\t\t\tlet offset = 1, nextNode;\n\t\t\t( nextNode = array[ i + offset ] );\n\t\t\toffset++\n\t\t) {\n\t\t\t// Abort if no longer testing descendents of focus stop.\n\t\t\tif ( ! node.contains( nextNode ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Apply same tests by recursion. This is important to consider\n\t\t\t// nestable blocks where we don't want to settle for the inner\n\t\t\t// block focus stop.\n\t\t\tif ( isTabCandidate( nextNode, i + offset, array ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\treturn find( focusableNodes, isTabCandidate );\n}\n\nfunction selector( select ) {\n\tconst {\n\t\tgetSelectedBlockClientId,\n\t\tgetMultiSelectedBlocksStartClientId,\n\t\tgetMultiSelectedBlocksEndClientId,\n\t\tgetPreviousBlockClientId,\n\t\tgetNextBlockClientId,\n\t\tgetFirstMultiSelectedBlockClientId,\n\t\tgetLastMultiSelectedBlockClientId,\n\t\thasMultiSelection,\n\t\tgetBlockOrder,\n\t\tisNavigationMode,\n\t\tisSelectionEnabled,\n\t\tgetBlockSelectionStart,\n\t\tisMultiSelecting,\n\t} = select( 'core/block-editor' );\n\n\tconst selectedBlockClientId = getSelectedBlockClientId();\n\tconst selectionStartClientId = getMultiSelectedBlocksStartClientId();\n\tconst selectionEndClientId = getMultiSelectedBlocksEndClientId();\n\n\treturn {\n\t\tselectedBlockClientId,\n\t\tselectionStartClientId,\n\t\tselectionBeforeEndClientId: getPreviousBlockClientId(\n\t\t\tselectionEndClientId || selectedBlockClientId\n\t\t),\n\t\tselectionAfterEndClientId: getNextBlockClientId(\n\t\t\tselectionEndClientId || selectedBlockClientId\n\t\t),\n\t\tselectedFirstClientId: getFirstMultiSelectedBlockClientId(),\n\t\tselectedLastClientId: getLastMultiSelectedBlockClientId(),\n\t\thasMultiSelection: hasMultiSelection(),\n\t\tblocks: getBlockOrder(),\n\t\tisNavigationMode: isNavigationMode(),\n\t\tisSelectionEnabled: isSelectionEnabled(),\n\t\tblockSelectionStart: getBlockSelectionStart(),\n\t\tisMultiSelecting: isMultiSelecting(),\n\t};\n}\n\n/**\n * Handles selection and navigation across blocks. This component should be\n * wrapped around BlockList.\n */\nexport default function WritingFlow( { children } ) {\n\tconst container = useRef();\n\tconst focusCaptureBeforeRef = useRef();\n\tconst focusCaptureAfterRef = useRef();\n\tconst multiSelectionContainer = useRef();\n\n\tconst entirelySelected = useRef();\n\n\t// Reference that holds the a flag for enabling or disabling\n\t// capturing on the focus capture elements.\n\tconst noCapture = useRef();\n\n\t// Here a DOMRect is stored while moving the caret vertically so vertical\n\t// position of the start position can be restored. This is to recreate\n\t// browser behaviour across blocks.\n\tconst verticalRect = useRef();\n\n\tconst {\n\t\tselectedBlockClientId,\n\t\tselectionStartClientId,\n\t\tselectionBeforeEndClientId,\n\t\tselectionAfterEndClientId,\n\t\tselectedFirstClientId,\n\t\tselectedLastClientId,\n\t\thasMultiSelection,\n\t\tblocks,\n\t\tisNavigationMode,\n\t\tisSelectionEnabled,\n\t\tblockSelectionStart,\n\t\tisMultiSelecting,\n\t} = useSelect( selector, [] );\n\tconst {\n\t\tmultiSelect,\n\t\tselectBlock,\n\t\tclearSelectedBlock,\n\t\tsetNavigationMode,\n\t} = useDispatch( 'core/block-editor' );\n\n\tfunction onMouseDown( event ) {\n\t\tverticalRect.current = null;\n\n\t\t// Clicking inside a selected block should exit navigation mode.\n\t\tif (\n\t\t\tisNavigationMode &&\n\t\t\tselectedBlockClientId &&\n\t\t\tisInsideRootBlock(\n\t\t\t\tgetBlockDOMNode( selectedBlockClientId ),\n\t\t\t\tevent.target\n\t\t\t)\n\t\t) {\n\t\t\tsetNavigationMode( false );\n\t\t}\n\n\t\t// Multi-select blocks when Shift+clicking.\n\t\tif (\n\t\t\tisSelectionEnabled &&\n\t\t\t// The main button.\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n\t\t\tevent.button === 0\n\t\t) {\n\t\t\tconst clientId = getBlockClientId( event.target );\n\n\t\t\tif ( clientId ) {\n\t\t\t\tif ( event.shiftKey ) {\n\t\t\t\t\tif ( blockSelectionStart !== clientId ) {\n\t\t\t\t\t\tmultiSelect( blockSelectionStart, clientId );\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\t// Allow user to escape out of a multi-selection to a singular\n\t\t\t\t\t// selection of a block via click. This is handled here since\n\t\t\t\t\t// focus handling excludes blocks when there is multiselection,\n\t\t\t\t\t// as focus can be incurred by starting a multiselection (focus\n\t\t\t\t\t// moved to first block's multi-controls).\n\t\t\t\t} else if ( hasMultiSelection ) {\n\t\t\t\t\tselectBlock( clientId );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction expandSelection( isReverse ) {\n\t\tconst nextSelectionEndClientId = isReverse\n\t\t\t? selectionBeforeEndClientId\n\t\t\t: selectionAfterEndClientId;\n\n\t\tif ( nextSelectionEndClientId ) {\n\t\t\tmultiSelect(\n\t\t\t\tselectionStartClientId || selectedBlockClientId,\n\t\t\t\tnextSelectionEndClientId\n\t\t\t);\n\t\t}\n\t}\n\n\tfunction moveSelection( isReverse ) {\n\t\tconst focusedBlockClientId = isReverse\n\t\t\t? selectedFirstClientId\n\t\t\t: selectedLastClientId;\n\n\t\tif ( focusedBlockClientId ) {\n\t\t\tselectBlock( focusedBlockClientId );\n\t\t}\n\t}\n\n\t/**\n\t * Returns true if the given target field is the last in its block which\n\t * can be considered for tab transition. For example, in a block with two\n\t * text fields, this would return true when reversing from the first of the\n\t * two fields, but false when reversing from the second.\n\t *\n\t * @param {Element} target    Currently focused text field.\n\t * @param {boolean} isReverse True if considering as the first field.\n\t *\n\t * @return {boolean} Whether field is at edge for tab transition.\n\t */\n\tfunction isTabbableEdge( target, isReverse ) {\n\t\tconst closestTabbable = getClosestTabbable(\n\t\t\ttarget,\n\t\t\tisReverse,\n\t\t\tcontainer.current\n\t\t);\n\t\treturn ! closestTabbable || ! isInSameBlock( target, closestTabbable );\n\t}\n\n\tfunction onKeyDown( event ) {\n\t\tconst { keyCode, target } = event;\n\t\tconst isUp = keyCode === UP;\n\t\tconst isDown = keyCode === DOWN;\n\t\tconst isLeft = keyCode === LEFT;\n\t\tconst isRight = keyCode === RIGHT;\n\t\tconst isTab = keyCode === TAB;\n\t\tconst isEscape = keyCode === ESCAPE;\n\t\tconst isReverse = isUp || isLeft;\n\t\tconst isHorizontal = isLeft || isRight;\n\t\tconst isVertical = isUp || isDown;\n\t\tconst isNav = isHorizontal || isVertical;\n\t\tconst isShift = event.shiftKey;\n\t\tconst hasModifier =\n\t\t\tisShift || event.ctrlKey || event.altKey || event.metaKey;\n\t\tconst isNavEdge = isVertical ? isVerticalEdge : isHorizontalEdge;\n\n\t\t// In navigation mode, tab and arrows navigate from block to block.\n\t\tif ( isNavigationMode ) {\n\t\t\tconst navigateUp = ( isTab && isShift ) || isUp;\n\t\t\tconst navigateDown = ( isTab && ! isShift ) || isDown;\n\t\t\tconst focusedBlockUid = navigateUp\n\t\t\t\t? selectionBeforeEndClientId\n\t\t\t\t: selectionAfterEndClientId;\n\n\t\t\tif ( navigateDown || navigateUp ) {\n\t\t\t\tif ( focusedBlockUid ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tselectBlock( focusedBlockUid );\n\t\t\t\t} else if ( isTab && selectedBlockClientId ) {\n\t\t\t\t\tconst wrapper = getBlockDOMNode( selectedBlockClientId );\n\t\t\t\t\tlet nextTabbable;\n\n\t\t\t\t\tif ( navigateDown ) {\n\t\t\t\t\t\tnextTabbable = focus.tabbable.findNext( wrapper );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextTabbable = focus.tabbable.findPrevious( wrapper );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( nextTabbable ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tnextTabbable.focus();\n\t\t\t\t\t\tclearSelectedBlock();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// In Edit mode, Tab should focus the first tabbable element after the\n\t\t// content, which is normally the sidebar (with block controls) and\n\t\t// Shift+Tab should focus the first tabbable element before the content,\n\t\t// which is normally the block toolbar.\n\t\t// Arrow keys can be used, and Tab and arrow keys can be used in\n\t\t// Navigation mode (press Esc), to navigate through blocks.\n\t\tif ( selectedBlockClientId ) {\n\t\t\tif ( isTab ) {\n\t\t\t\tconst wrapper = getBlockDOMNode( selectedBlockClientId );\n\n\t\t\t\tif ( isShift ) {\n\t\t\t\t\tif ( target === wrapper ) {\n\t\t\t\t\t\t// Disable focus capturing on the focus capture element, so\n\t\t\t\t\t\t// it doesn't refocus this block and so it allows default\n\t\t\t\t\t\t// behaviour (moving focus to the next tabbable element).\n\t\t\t\t\t\tnoCapture.current = true;\n\t\t\t\t\t\tfocusCaptureBeforeRef.current.focus();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst tabbables = focus.tabbable.find( wrapper );\n\t\t\t\t\tconst lastTabbable = last( tabbables ) || wrapper;\n\n\t\t\t\t\tif ( target === lastTabbable ) {\n\t\t\t\t\t\t// See comment above.\n\t\t\t\t\t\tnoCapture.current = true;\n\t\t\t\t\t\tfocusCaptureAfterRef.current.focus();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if ( isEscape ) {\n\t\t\t\tsetNavigationMode( true );\n\t\t\t}\n\t\t} else if (\n\t\t\thasMultiSelection &&\n\t\t\tisTab &&\n\t\t\ttarget === multiSelectionContainer.current\n\t\t) {\n\t\t\t// See comment above.\n\t\t\tnoCapture.current = true;\n\n\t\t\tif ( isShift ) {\n\t\t\t\tfocusCaptureBeforeRef.current.focus();\n\t\t\t} else {\n\t\t\t\tfocusCaptureAfterRef.current.focus();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// When presing any key other than up or down, the initial vertical\n\t\t// position must ALWAYS be reset. The vertical position is saved so it\n\t\t// can be restored as well as possible on sebsequent vertical arrow key\n\t\t// presses. It may not always be possible to restore the exact same\n\t\t// position (such as at an empty line), so it wouldn't be good to\n\t\t// compute the position right before any vertical arrow key press.\n\t\tif ( ! isVertical ) {\n\t\t\tverticalRect.current = null;\n\t\t} else if ( ! verticalRect.current ) {\n\t\t\tverticalRect.current = computeCaretRect();\n\t\t}\n\n\t\t// This logic inside this condition needs to be checked before\n\t\t// the check for event.nativeEvent.defaultPrevented.\n\t\t// The logic handles meta+a keypress and this event is default prevented\n\t\t// by RichText.\n\t\tif ( ! isNav ) {\n\t\t\t// Set immediately before the meta+a combination can be pressed.\n\t\t\tif ( isKeyboardEvent.primary( event ) ) {\n\t\t\t\tentirelySelected.current = isEntirelySelected( target );\n\t\t\t}\n\n\t\t\tif ( isKeyboardEvent.primary( event, 'a' ) ) {\n\t\t\t\t// When the target is contentEditable, selection will already\n\t\t\t\t// have been set by the browser earlier in this call stack. We\n\t\t\t\t// need check the previous result, otherwise all blocks will be\n\t\t\t\t// selected right away.\n\t\t\t\tif (\n\t\t\t\t\ttarget.isContentEditable\n\t\t\t\t\t\t? entirelySelected.current\n\t\t\t\t\t\t: isEntirelySelected( target )\n\t\t\t\t) {\n\t\t\t\t\tmultiSelect( first( blocks ), last( blocks ) );\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\n\t\t\t\t// After pressing primary + A we can assume isEntirelySelected is true.\n\t\t\t\t// Calling right away isEntirelySelected after primary + A may still return false on some browsers.\n\t\t\t\tentirelySelected.current = true;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Abort if navigation has already been handled (e.g. RichText inline\n\t\t// boundaries).\n\t\tif ( event.nativeEvent.defaultPrevented ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Abort if our current target is not a candidate for navigation (e.g.\n\t\t// preserve native input behaviors).\n\t\tif ( ! isNavigationCandidate( target, keyCode, hasModifier ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// In the case of RTL scripts, right means previous and left means next,\n\t\t// which is the exact reverse of LTR.\n\t\tconst { direction } = getComputedStyle( target );\n\t\tconst isReverseDir = direction === 'rtl' ? ! isReverse : isReverse;\n\n\t\tif ( isShift ) {\n\t\t\tif (\n\t\t\t\t// Ensure that there is a target block.\n\t\t\t\t( ( isReverse && selectionBeforeEndClientId ) ||\n\t\t\t\t\t( ! isReverse && selectionAfterEndClientId ) ) &&\n\t\t\t\t( hasMultiSelection ||\n\t\t\t\t\t( isTabbableEdge( target, isReverse ) &&\n\t\t\t\t\t\tisNavEdge( target, isReverse ) ) )\n\t\t\t) {\n\t\t\t\t// Shift key is down, and there is multi selection or we're at\n\t\t\t\t// the end of the current block.\n\t\t\t\texpandSelection( isReverse );\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t} else if ( hasMultiSelection ) {\n\t\t\t// Moving from block multi-selection to single block selection\n\t\t\tmoveSelection( isReverse );\n\t\t\tevent.preventDefault();\n\t\t} else if ( isVertical && isVerticalEdge( target, isReverse ) ) {\n\t\t\tconst closestTabbable = getClosestTabbable(\n\t\t\t\ttarget,\n\t\t\t\tisReverse,\n\t\t\t\tcontainer.current\n\t\t\t);\n\n\t\t\tif ( closestTabbable ) {\n\t\t\t\tplaceCaretAtVerticalEdge(\n\t\t\t\t\tclosestTabbable,\n\t\t\t\t\tisReverse,\n\t\t\t\t\tverticalRect.current\n\t\t\t\t);\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t} else if (\n\t\t\tisHorizontal &&\n\t\t\tgetSelection().isCollapsed &&\n\t\t\tisHorizontalEdge( target, isReverseDir )\n\t\t) {\n\t\t\tconst closestTabbable = getClosestTabbable(\n\t\t\t\ttarget,\n\t\t\t\tisReverseDir,\n\t\t\t\tcontainer.current\n\t\t\t);\n\t\t\tplaceCaretAtHorizontalEdge( closestTabbable, isReverseDir );\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\tfunction focusLastTextField() {\n\t\tconst focusableNodes = focus.focusable.find( container.current );\n\t\tconst target = findLast( focusableNodes, isTabbableTextField );\n\t\tif ( target ) {\n\t\t\tplaceCaretAtHorizontalEdge( target, true );\n\t\t}\n\t}\n\n\tuseEffect( () => {\n\t\tif ( hasMultiSelection && ! isMultiSelecting ) {\n\t\t\tmultiSelectionContainer.current.focus();\n\t\t}\n\t}, [ hasMultiSelection, isMultiSelecting ] );\n\n\tconst className = classnames( 'block-editor-writing-flow', {\n\t\t'is-navigate-mode': isNavigationMode,\n\t} );\n\n\t// Disable reason: Wrapper itself is non-interactive, but must capture\n\t// bubbling events from children to determine focus transition intents.\n\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\treturn (\n\t\t<div className={ className }>\n\t\t\t<FocusCapture\n\t\t\t\tref={ focusCaptureBeforeRef }\n\t\t\t\tselectedClientId={ selectedBlockClientId }\n\t\t\t\tcontainerRef={ container }\n\t\t\t\tnoCapture={ noCapture }\n\t\t\t\thasMultiSelection={ hasMultiSelection }\n\t\t\t\tmultiSelectionContainer={ multiSelectionContainer }\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tref={ container }\n\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\tonMouseDown={ onMouseDown }\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tref={ multiSelectionContainer }\n\t\t\t\t\ttabIndex={ hasMultiSelection ? '0' : undefined }\n\t\t\t\t\taria-label={\n\t\t\t\t\t\thasMultiSelection\n\t\t\t\t\t\t\t? __( 'Multiple selected blocks' )\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\t// Needs to be positioned within the viewport, so focus to this\n\t\t\t\t\t// element does not scroll the page.\n\t\t\t\t\tstyle={ { position: 'fixed' } }\n\t\t\t\t/>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t\t<FocusCapture\n\t\t\t\tref={ focusCaptureAfterRef }\n\t\t\t\tselectedClientId={ selectedBlockClientId }\n\t\t\t\tcontainerRef={ container }\n\t\t\t\tnoCapture={ noCapture }\n\t\t\t\thasMultiSelection={ hasMultiSelection }\n\t\t\t\tmultiSelectionContainer={ multiSelectionContainer }\n\t\t\t\tisReverse\n\t\t\t/>\n\t\t\t<div\n\t\t\t\taria-hidden\n\t\t\t\ttabIndex={ -1 }\n\t\t\t\tonClick={ focusLastTextField }\n\t\t\t\tclassName=\"block-editor-writing-flow__click-redirect\"\n\t\t\t/>\n\t\t</div>\n\t);\n\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { assign, get, has, includes, without } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createContext, useContext } from '@wordpress/element';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { addFilter } from '@wordpress/hooks';\nimport {\n\tgetBlockSupport,\n\tgetBlockType,\n\thasBlockSupport,\n} from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { BlockControls, BlockAlignmentToolbar } from '../components';\n\n/**\n * An array which includes all possible valid alignments,\n * used to validate if an alignment is valid or not.\n *\n * @constant\n * @type {string[]}\n */\nconst ALL_ALIGNMENTS = [ 'left', 'center', 'right', 'wide', 'full' ];\n\n/**\n * An array which includes all wide alignments.\n * In order for this alignments to be valid they need to be supported by the block,\n * and by the theme.\n *\n * @constant\n * @type {string[]}\n */\nconst WIDE_ALIGNMENTS = [ 'wide', 'full' ];\n\n/**\n * Returns the valid alignments.\n * Takes into consideration the aligns supported by a block, if the block supports wide controls or not and if theme supports wide controls or not.\n * Exported just for testing purposes, not exported outside the module.\n *\n * @param {?boolean|string[]} blockAlign          Aligns supported by the block.\n * @param {?boolean}          hasWideBlockSupport True if block supports wide alignments. And False otherwise.\n * @param {?boolean}          hasWideEnabled      True if theme supports wide alignments. And False otherwise.\n *\n * @return {string[]} Valid alignments.\n */\nexport function getValidAlignments(\n\tblockAlign,\n\thasWideBlockSupport = true,\n\thasWideEnabled = true\n) {\n\tlet validAlignments;\n\tif ( Array.isArray( blockAlign ) ) {\n\t\tvalidAlignments = blockAlign;\n\t} else if ( blockAlign === true ) {\n\t\t// `true` includes all alignments...\n\t\tvalidAlignments = ALL_ALIGNMENTS;\n\t} else {\n\t\tvalidAlignments = [];\n\t}\n\n\tif (\n\t\t! hasWideEnabled ||\n\t\t( blockAlign === true && ! hasWideBlockSupport )\n\t) {\n\t\treturn without( validAlignments, ...WIDE_ALIGNMENTS );\n\t}\n\n\treturn validAlignments;\n}\n\n/**\n * Filters registered block settings, extending attributes to include `align`.\n *\n * @param  {Object} settings Original block settings\n * @return {Object}          Filtered block settings\n */\nexport function addAttribute( settings ) {\n\t// allow blocks to specify their own attribute definition with default values if needed.\n\tif ( has( settings.attributes, [ 'align', 'type' ] ) ) {\n\t\treturn settings;\n\t}\n\tif ( hasBlockSupport( settings, 'align' ) ) {\n\t\t// Use Lodash's assign to gracefully handle if attributes are undefined\n\t\tsettings.attributes = assign( settings.attributes, {\n\t\t\talign: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t} );\n\t}\n\n\treturn settings;\n}\n\nconst AlignmentHookSettings = createContext( {} );\n\n/**\n * Allows to pass additional settings to the alignment hook.\n */\nexport const AlignmentHookSettingsProvider = AlignmentHookSettings.Provider;\n\n/**\n * Override the default edit UI to include new toolbar controls for block\n * alignment, if block defines support.\n *\n * @param  {Function} BlockEdit Original component\n * @return {Function}           Wrapped component\n */\nexport const withToolbarControls = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst { isEmbedButton } = useContext( AlignmentHookSettings );\n\t\tconst { name: blockName } = props;\n\t\t// Compute valid alignments without taking into account,\n\t\t// if the theme supports wide alignments or not.\n\t\t// BlockAlignmentToolbar takes into account the theme support.\n\t\tconst validAlignments = isEmbedButton\n\t\t\t? []\n\t\t\t: getValidAlignments(\n\t\t\t\t\tgetBlockSupport( blockName, 'align' ),\n\t\t\t\t\thasBlockSupport( blockName, 'alignWide', true )\n\t\t\t  );\n\n\t\tconst updateAlignment = ( nextAlign ) => {\n\t\t\tif ( ! nextAlign ) {\n\t\t\t\tconst blockType = getBlockType( props.name );\n\t\t\t\tconst blockDefaultAlign = get( blockType, [\n\t\t\t\t\t'attributes',\n\t\t\t\t\t'align',\n\t\t\t\t\t'default',\n\t\t\t\t] );\n\t\t\t\tif ( blockDefaultAlign ) {\n\t\t\t\t\tnextAlign = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tprops.setAttributes( { align: nextAlign } );\n\t\t};\n\n\t\treturn [\n\t\t\tvalidAlignments.length > 0 && props.isSelected && (\n\t\t\t\t<BlockControls key=\"align-controls\">\n\t\t\t\t\t<BlockAlignmentToolbar\n\t\t\t\t\t\tvalue={ props.attributes.align }\n\t\t\t\t\t\tonChange={ updateAlignment }\n\t\t\t\t\t\tcontrols={ validAlignments }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t),\n\t\t\t<BlockEdit key=\"edit\" { ...props } />,\n\t\t];\n\t},\n\t'withToolbarControls'\n);\n\n/**\n * Override the default block element to add alignment wrapper props.\n *\n * @param  {Function} BlockListBlock Original component\n * @return {Function}                Wrapped component\n */\nexport const withDataAlign = createHigherOrderComponent(\n\t( BlockListBlock ) => ( props ) => {\n\t\tconst { name, attributes } = props;\n\t\tconst { align } = attributes;\n\t\tconst hasWideEnabled = useSelect(\n\t\t\t( select ) =>\n\t\t\t\t!! select( 'core/block-editor' ).getSettings().alignWide,\n\t\t\t[]\n\t\t);\n\n\t\t// If an alignment is not assigned, there's no need to go through the\n\t\t// effort to validate or assign its value.\n\t\tif ( align === undefined ) {\n\t\t\treturn <BlockListBlock { ...props } />;\n\t\t}\n\n\t\tconst validAlignments = getValidAlignments(\n\t\t\tgetBlockSupport( name, 'align' ),\n\t\t\thasBlockSupport( name, 'alignWide', true ),\n\t\t\thasWideEnabled\n\t\t);\n\n\t\tlet wrapperProps = props.wrapperProps;\n\t\tif ( includes( validAlignments, align ) ) {\n\t\t\twrapperProps = { ...wrapperProps, 'data-align': align };\n\t\t}\n\n\t\treturn <BlockListBlock { ...props } wrapperProps={ wrapperProps } />;\n\t}\n);\n\n/**\n * Override props assigned to save component to inject alignment class name if\n * block supports it.\n *\n * @param  {Object} props      Additional props applied to save element\n * @param  {Object} blockType  Block type\n * @param  {Object} attributes Block attributes\n * @return {Object}            Filtered props applied to save element\n */\nexport function addAssignedAlign( props, blockType, attributes ) {\n\tconst { align } = attributes;\n\tconst blockAlign = getBlockSupport( blockType, 'align' );\n\tconst hasWideBlockSupport = hasBlockSupport( blockType, 'alignWide', true );\n\tconst isAlignValid = includes(\n\t\t// Compute valid alignments without taking into account,\n\t\t// if the theme supports wide alignments or not.\n\t\t// This way changing themes does not impacts the block save.\n\t\tgetValidAlignments( blockAlign, hasWideBlockSupport ),\n\t\talign\n\t);\n\tif ( isAlignValid ) {\n\t\tprops.className = classnames( `align${ align }`, props.className );\n\t}\n\n\treturn props;\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/align/addAttribute',\n\taddAttribute\n);\naddFilter(\n\t'editor.BlockListBlock',\n\t'core/editor/align/with-data-align',\n\twithDataAlign\n);\naddFilter(\n\t'editor.BlockEdit',\n\t'core/editor/align/with-toolbar-controls',\n\twithToolbarControls\n);\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'core/align/addAssignedAlign',\n\taddAssignedAlign\n);\n","/**\n * External dependencies\n */\nimport { assign, has } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { TextControl, ExternalLink } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { hasBlockSupport } from '@wordpress/blocks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { InspectorAdvancedControls } from '../components';\n\n/**\n * Regular expression matching invalid anchor characters for replacement.\n *\n * @type {RegExp}\n */\nconst ANCHOR_REGEX = /[\\s#]/g;\n\n/**\n * Filters registered block settings, extending attributes with anchor using ID\n * of the first node.\n *\n * @param {Object} settings Original block settings.\n *\n * @return {Object} Filtered block settings.\n */\nexport function addAttribute( settings ) {\n\t// allow blocks to specify their own attribute definition with default values if needed.\n\tif ( has( settings.attributes, [ 'anchor', 'type' ] ) ) {\n\t\treturn settings;\n\t}\n\tif ( hasBlockSupport( settings, 'anchor' ) ) {\n\t\t// Use Lodash's assign to gracefully handle if attributes are undefined\n\t\tsettings.attributes = assign( settings.attributes, {\n\t\t\tanchor: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'attribute',\n\t\t\t\tattribute: 'id',\n\t\t\t\tselector: '*',\n\t\t\t},\n\t\t} );\n\t}\n\n\treturn settings;\n}\n\n/**\n * Override the default edit UI to include a new block inspector control for\n * assigning the anchor ID, if block supports anchor.\n *\n * @param {WPComponent} BlockEdit Original component.\n *\n * @return {WPComponent} Wrapped component.\n */\nexport const withInspectorControl = createHigherOrderComponent(\n\t( BlockEdit ) => {\n\t\treturn ( props ) => {\n\t\t\tconst hasAnchor = hasBlockSupport( props.name, 'anchor' );\n\n\t\t\tif ( hasAnchor && props.isSelected ) {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t\t\t<InspectorAdvancedControls>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tclassName=\"html-anchor-control\"\n\t\t\t\t\t\t\t\tlabel={ __( 'HTML anchor' ) }\n\t\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t'Enter a word or two — without spaces — to make a unique web address just for this heading, called an “anchor.” Then, you’ll be able to link directly to this section of your page.'\n\t\t\t\t\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/support/article/page-jumps/'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Learn more about anchors' ) }\n\t\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue={ props.attributes.anchor || '' }\n\t\t\t\t\t\t\t\tonChange={ ( nextValue ) => {\n\t\t\t\t\t\t\t\t\tnextValue = nextValue.replace(\n\t\t\t\t\t\t\t\t\t\tANCHOR_REGEX,\n\t\t\t\t\t\t\t\t\t\t'-'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tprops.setAttributes( {\n\t\t\t\t\t\t\t\t\t\tanchor: nextValue,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</InspectorAdvancedControls>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t};\n\t},\n\t'withInspectorControl'\n);\n\n/**\n * Override props assigned to save component to inject anchor ID, if block\n * supports anchor. This is only applied if the block's save result is an\n * element and not a markup string.\n *\n * @param {Object} extraProps Additional props applied to save element.\n * @param {Object} blockType  Block type.\n * @param {Object} attributes Current block attributes.\n *\n * @return {Object} Filtered props applied to save element.\n */\nexport function addSaveProps( extraProps, blockType, attributes ) {\n\tif ( hasBlockSupport( blockType, 'anchor' ) ) {\n\t\textraProps.id = attributes.anchor === '' ? null : attributes.anchor;\n\t}\n\n\treturn extraProps;\n}\n\naddFilter( 'blocks.registerBlockType', 'core/anchor/attribute', addAttribute );\naddFilter(\n\t'editor.BlockEdit',\n\t'core/editor/anchor/with-inspector-control',\n\twithInspectorControl\n);\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'core/anchor/save-props',\n\taddSaveProps\n);\n","/**\n * External dependencies\n */\nimport { assign, difference, omit } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { TextControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\thasBlockSupport,\n\tparseWithAttributeSchema,\n\tgetSaveContent,\n} from '@wordpress/blocks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { InspectorAdvancedControls } from '../components';\n\n/**\n * Filters registered block settings, extending attributes with anchor using ID\n * of the first node.\n *\n * @param {Object} settings Original block settings.\n *\n * @return {Object} Filtered block settings.\n */\nexport function addAttribute( settings ) {\n\tif ( hasBlockSupport( settings, 'customClassName', true ) ) {\n\t\t// Use Lodash's assign to gracefully handle if attributes are undefined\n\t\tsettings.attributes = assign( settings.attributes, {\n\t\t\tclassName: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t} );\n\t}\n\n\treturn settings;\n}\n\n/**\n * Override the default edit UI to include a new block inspector control for\n * assigning the custom class name, if block supports custom class name.\n *\n * @param {WPComponent} BlockEdit Original component.\n *\n * @return {WPComponent} Wrapped component.\n */\nexport const withInspectorControl = createHigherOrderComponent(\n\t( BlockEdit ) => {\n\t\treturn ( props ) => {\n\t\t\tconst hasCustomClassName = hasBlockSupport(\n\t\t\t\tprops.name,\n\t\t\t\t'customClassName',\n\t\t\t\ttrue\n\t\t\t);\n\t\t\tif ( hasCustomClassName && props.isSelected ) {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t\t\t<InspectorAdvancedControls>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Additional CSS class(es)' ) }\n\t\t\t\t\t\t\t\tvalue={ props.attributes.className || '' }\n\t\t\t\t\t\t\t\tonChange={ ( nextValue ) => {\n\t\t\t\t\t\t\t\t\tprops.setAttributes( {\n\t\t\t\t\t\t\t\t\t\tclassName:\n\t\t\t\t\t\t\t\t\t\t\tnextValue !== ''\n\t\t\t\t\t\t\t\t\t\t\t\t? nextValue\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Separate multiple classes with spaces.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</InspectorAdvancedControls>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t};\n\t},\n\t'withInspectorControl'\n);\n\n/**\n * Override props assigned to save component to inject anchor ID, if block\n * supports anchor. This is only applied if the block's save result is an\n * element and not a markup string.\n *\n * @param {Object} extraProps Additional props applied to save element.\n * @param {Object} blockType  Block type.\n * @param {Object} attributes Current block attributes.\n *\n * @return {Object} Filtered props applied to save element.\n */\nexport function addSaveProps( extraProps, blockType, attributes ) {\n\tif (\n\t\thasBlockSupport( blockType, 'customClassName', true ) &&\n\t\tattributes.className\n\t) {\n\t\textraProps.className = classnames(\n\t\t\textraProps.className,\n\t\t\tattributes.className\n\t\t);\n\t}\n\n\treturn extraProps;\n}\n\n/**\n * Given an HTML string, returns an array of class names assigned to the root\n * element in the markup.\n *\n * @param {string} innerHTML Markup string from which to extract classes.\n *\n * @return {string[]} Array of class names assigned to the root element.\n */\nexport function getHTMLRootElementClasses( innerHTML ) {\n\tinnerHTML = `<div data-custom-class-name>${ innerHTML }</div>`;\n\n\tconst parsed = parseWithAttributeSchema( innerHTML, {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tselector: '[data-custom-class-name] > *',\n\t\tattribute: 'class',\n\t} );\n\n\treturn parsed ? parsed.trim().split( /\\s+/ ) : [];\n}\n\n/**\n * Given a parsed set of block attributes, if the block supports custom class\n * names and an unknown class (per the block's serialization behavior) is\n * found, the unknown classes are treated as custom classes. This prevents the\n * block from being considered as invalid.\n *\n * @param {Object} blockAttributes Original block attributes.\n * @param {Object} blockType       Block type settings.\n * @param {string} innerHTML       Original block markup.\n *\n * @return {Object} Filtered block attributes.\n */\nexport function addParsedDifference( blockAttributes, blockType, innerHTML ) {\n\tif ( hasBlockSupport( blockType, 'customClassName', true ) ) {\n\t\t// To determine difference, serialize block given the known set of\n\t\t// attributes, with the exception of `className`. This will determine\n\t\t// the default set of classes. From there, any difference in innerHTML\n\t\t// can be considered as custom classes.\n\t\tconst attributesSansClassName = omit( blockAttributes, [\n\t\t\t'className',\n\t\t] );\n\t\tconst serialized = getSaveContent( blockType, attributesSansClassName );\n\t\tconst defaultClasses = getHTMLRootElementClasses( serialized );\n\t\tconst actualClasses = getHTMLRootElementClasses( innerHTML );\n\t\tconst customClasses = difference( actualClasses, defaultClasses );\n\n\t\tif ( customClasses.length ) {\n\t\t\tblockAttributes.className = customClasses.join( ' ' );\n\t\t} else if ( serialized ) {\n\t\t\tdelete blockAttributes.className;\n\t\t}\n\t}\n\n\treturn blockAttributes;\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/custom-class-name/attribute',\n\taddAttribute\n);\naddFilter(\n\t'editor.BlockEdit',\n\t'core/editor/custom-class-name/with-inspector-control',\n\twithInspectorControl\n);\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'core/custom-class-name/save-props',\n\taddSaveProps\n);\naddFilter(\n\t'blocks.getBlockAttributes',\n\t'core/custom-class-name/addParsedDifference',\n\taddParsedDifference\n);\n","/**\n * External dependencies\n */\nimport { uniq } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { hasBlockSupport, getBlockDefaultClassName } from '@wordpress/blocks';\n\n/**\n * Override props assigned to save component to inject generated className if\n * block supports it. This is only applied if the block's save result is an\n * element and not a markup string.\n *\n * @param {Object} extraProps Additional props applied to save element.\n * @param {Object} blockType  Block type.\n *\n * @return {Object} Filtered props applied to save element.\n */\nexport function addGeneratedClassName( extraProps, blockType ) {\n\t// Adding the generated className\n\tif ( hasBlockSupport( blockType, 'className', true ) ) {\n\t\tif ( typeof extraProps.className === 'string' ) {\n\t\t\t// We have some extra classes and want to add the default classname\n\t\t\t// We use uniq to prevent duplicate classnames\n\n\t\t\textraProps.className = uniq( [\n\t\t\t\tgetBlockDefaultClassName( blockType.name ),\n\t\t\t\t...extraProps.className.split( ' ' ),\n\t\t\t] )\n\t\t\t\t.join( ' ' )\n\t\t\t\t.trim();\n\t\t} else {\n\t\t\t// There is no string in the className variable,\n\t\t\t// so we just dump the default name in there\n\t\t\textraProps.className = getBlockDefaultClassName( blockType.name );\n\t\t}\n\t}\n\treturn extraProps;\n}\n\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'core/generated-class-name/save-props',\n\taddGeneratedClassName\n);\n","/**\n * Internal dependencies\n */\nimport { AlignmentHookSettingsProvider } from './align';\nimport './anchor';\nimport './custom-class-name';\nimport './generated-class-name';\n\nexport { AlignmentHookSettingsProvider };\n","/**\n * WordPress dependencies\n */\nimport '@wordpress/blocks';\nimport '@wordpress/rich-text';\nimport '@wordpress/viewport';\nimport '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport { AlignmentHookSettingsProvider as __experimentalAlignmentHookSettingsProvider } from './hooks';\nexport { __experimentalAlignmentHookSettingsProvider };\nexport * from './components';\nexport * from './utils';\nexport { storeConfig } from './store';\nexport { SETTINGS_DEFAULTS } from './store/defaults';\n","/**\n * External dependencies\n */\nimport { castArray, first, get, includes, last, some } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tgetDefaultBlockName,\n\tcreateBlock,\n\thasBlockSupport,\n\tcloneBlock,\n} from '@wordpress/blocks';\nimport { speak } from '@wordpress/a11y';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { select } from './controls';\n\n/**\n * Generator which will yield a default block insert action if there\n * are no other blocks at the root of the editor. This generator should be used\n * in actions which may result in no blocks remaining in the editor (removal,\n * replacement, etc).\n */\nfunction* ensureDefaultBlock() {\n\tconst count = yield select( 'core/block-editor', 'getBlockCount' );\n\n\t// To avoid a focus loss when removing the last block, assure there is\n\t// always a default block if the last of the blocks have been removed.\n\tif ( count === 0 ) {\n\t\tyield insertDefaultBlock();\n\t}\n}\n\n/**\n * Returns an action object used in signalling that blocks state should be\n * reset to the specified array of blocks, taking precedence over any other\n * content reflected as an edit in state.\n *\n * @param {Array} blocks Array of blocks.\n *\n * @return {Object} Action object.\n */\nexport function resetBlocks( blocks ) {\n\treturn {\n\t\ttype: 'RESET_BLOCKS',\n\t\tblocks,\n\t};\n}\n\n/**\n * A block selection object.\n *\n * @typedef {Object} WPBlockSelection\n *\n * @property {string} clientId     A block client ID.\n * @property {string} attributeKey A block attribute key.\n * @property {number} offset       An attribute value offset, based on the rich\n *                                 text value. See `wp.richText.create`.\n */\n\n/**\n * Returns an action object used in signalling that selection state should be\n * reset to the specified selection.\n *\n * @param {WPBlockSelection} selectionStart The selection start.\n * @param {WPBlockSelection} selectionEnd   The selection end.\n *\n * @return {Object} Action object.\n */\nexport function resetSelection( selectionStart, selectionEnd ) {\n\treturn {\n\t\ttype: 'RESET_SELECTION',\n\t\tselectionStart,\n\t\tselectionEnd,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that blocks have been received.\n * Unlike resetBlocks, these should be appended to the existing known set, not\n * replacing.\n *\n * @param {Object[]} blocks Array of block objects.\n *\n * @return {Object} Action object.\n */\nexport function receiveBlocks( blocks ) {\n\treturn {\n\t\ttype: 'RECEIVE_BLOCKS',\n\t\tblocks,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the block attributes with\n * the specified client ID has been updated.\n *\n * @param {string} clientId   Block client ID.\n * @param {Object} attributes Block attributes to be merged.\n *\n * @return {Object} Action object.\n */\nexport function updateBlockAttributes( clientId, attributes ) {\n\treturn {\n\t\ttype: 'UPDATE_BLOCK_ATTRIBUTES',\n\t\tclientId,\n\t\tattributes,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the block with the\n * specified client ID has been updated.\n *\n * @param {string} clientId Block client ID.\n * @param {Object} updates  Block attributes to be merged.\n *\n * @return {Object} Action object.\n */\nexport function updateBlock( clientId, updates ) {\n\treturn {\n\t\ttype: 'UPDATE_BLOCK',\n\t\tclientId,\n\t\tupdates,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the block with the\n * specified client ID has been selected, optionally accepting a position\n * value reflecting its selection directionality. An initialPosition of -1\n * reflects a reverse selection.\n *\n * @param {string}  clientId        Block client ID.\n * @param {?number} initialPosition Optional initial position. Pass as -1 to\n *                                  reflect reverse selection.\n *\n * @return {Object} Action object.\n */\nexport function selectBlock( clientId, initialPosition = null ) {\n\treturn {\n\t\ttype: 'SELECT_BLOCK',\n\t\tinitialPosition,\n\t\tclientId,\n\t};\n}\n\n/**\n * Yields action objects used in signalling that the block preceding the given\n * clientId should be selected.\n *\n * @param {string} clientId Block client ID.\n */\nexport function* selectPreviousBlock( clientId ) {\n\tconst previousBlockClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getPreviousBlockClientId',\n\t\tclientId\n\t);\n\n\tif ( previousBlockClientId ) {\n\t\tyield selectBlock( previousBlockClientId, -1 );\n\t}\n}\n\n/**\n * Yields action objects used in signalling that the block following the given\n * clientId should be selected.\n *\n * @param {string} clientId Block client ID.\n */\nexport function* selectNextBlock( clientId ) {\n\tconst nextBlockClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getNextBlockClientId',\n\t\tclientId\n\t);\n\n\tif ( nextBlockClientId ) {\n\t\tyield selectBlock( nextBlockClientId );\n\t}\n}\n\n/**\n * Returns an action object used in signalling that a block multi-selection has started.\n *\n * @return {Object} Action object.\n */\nexport function startMultiSelect() {\n\treturn {\n\t\ttype: 'START_MULTI_SELECT',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that block multi-selection stopped.\n *\n * @return {Object} Action object.\n */\nexport function stopMultiSelect() {\n\treturn {\n\t\ttype: 'STOP_MULTI_SELECT',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that block multi-selection changed.\n *\n * @param {string} start First block of the multi selection.\n * @param {string} end   Last block of the multiselection.\n *\n * @return {Object} Action object.\n */\nexport function multiSelect( start, end ) {\n\treturn {\n\t\ttype: 'MULTI_SELECT',\n\t\tstart,\n\t\tend,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the block selection is cleared.\n *\n * @return {Object} Action object.\n */\nexport function clearSelectedBlock() {\n\treturn {\n\t\ttype: 'CLEAR_SELECTED_BLOCK',\n\t};\n}\n\n/**\n * Returns an action object that enables or disables block selection.\n *\n * @param {boolean} [isSelectionEnabled=true] Whether block selection should\n *                                            be enabled.\n *\n * @return {Object} Action object.\n */\nexport function toggleSelection( isSelectionEnabled = true ) {\n\treturn {\n\t\ttype: 'TOGGLE_SELECTION',\n\t\tisSelectionEnabled,\n\t};\n}\n\nfunction getBlocksWithDefaultStylesApplied( blocks, blockEditorSettings ) {\n\tconst preferredStyleVariations = get(\n\t\tblockEditorSettings,\n\t\t[ '__experimentalPreferredStyleVariations', 'value' ],\n\t\t{}\n\t);\n\treturn blocks.map( ( block ) => {\n\t\tconst blockName = block.name;\n\t\tif ( ! preferredStyleVariations[ blockName ] ) {\n\t\t\treturn block;\n\t\t}\n\t\tconst className = get( block, [ 'attributes', 'className' ] );\n\t\tif ( includes( className, 'is-style-' ) ) {\n\t\t\treturn block;\n\t\t}\n\t\tconst { attributes = {} } = block;\n\t\tconst blockStyle = preferredStyleVariations[ blockName ];\n\t\treturn {\n\t\t\t...block,\n\t\t\tattributes: {\n\t\t\t\t...attributes,\n\t\t\t\tclassName: `${ className ||\n\t\t\t\t\t'' } is-style-${ blockStyle }`.trim(),\n\t\t\t},\n\t\t};\n\t} );\n}\n\n/**\n * Returns an action object signalling that a blocks should be replaced with\n * one or more replacement blocks.\n *\n * @param {(string|string[])} clientIds     Block client ID(s) to replace.\n * @param {(Object|Object[])} blocks        Replacement block(s).\n * @param {number}            indexToSelect Index of replacement block to\n *                                          select.\n *\n * @yield {Object} Action object.\n */\nexport function* replaceBlocks( clientIds, blocks, indexToSelect ) {\n\tclientIds = castArray( clientIds );\n\tblocks = getBlocksWithDefaultStylesApplied(\n\t\tcastArray( blocks ),\n\t\tyield select( 'core/block-editor', 'getSettings' )\n\t);\n\tconst rootClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockRootClientId',\n\t\tfirst( clientIds )\n\t);\n\t// Replace is valid if the new blocks can be inserted in the root block.\n\tfor ( let index = 0; index < blocks.length; index++ ) {\n\t\tconst block = blocks[ index ];\n\t\tconst canInsertBlock = yield select(\n\t\t\t'core/block-editor',\n\t\t\t'canInsertBlockType',\n\t\t\tblock.name,\n\t\t\trootClientId\n\t\t);\n\t\tif ( ! canInsertBlock ) {\n\t\t\treturn;\n\t\t}\n\t}\n\tyield {\n\t\ttype: 'REPLACE_BLOCKS',\n\t\tclientIds,\n\t\tblocks,\n\t\ttime: Date.now(),\n\t\tindexToSelect,\n\t};\n\tyield* ensureDefaultBlock();\n}\n\n/**\n * Returns an action object signalling that a single block should be replaced\n * with one or more replacement blocks.\n *\n * @param {(string|string[])} clientId Block client ID to replace.\n * @param {(Object|Object[])} block    Replacement block(s).\n *\n * @return {Object} Action object.\n */\nexport function replaceBlock( clientId, block ) {\n\treturn replaceBlocks( clientId, block );\n}\n\n/**\n * Higher-order action creator which, given the action type to dispatch creates\n * an action creator for managing block movement.\n *\n * @param {string} type Action type to dispatch.\n *\n * @return {Function} Action creator.\n */\nfunction createOnMove( type ) {\n\treturn ( clientIds, rootClientId ) => {\n\t\treturn {\n\t\t\tclientIds: castArray( clientIds ),\n\t\t\ttype,\n\t\t\trootClientId,\n\t\t};\n\t};\n}\n\nexport const moveBlocksDown = createOnMove( 'MOVE_BLOCKS_DOWN' );\nexport const moveBlocksUp = createOnMove( 'MOVE_BLOCKS_UP' );\n\n/**\n * Returns an action object signalling that an indexed block should be moved\n * to a new index.\n *\n * @param  {?string} clientId         The client ID of the block.\n * @param  {?string} fromRootClientId Root client ID source.\n * @param  {?string} toRootClientId   Root client ID destination.\n * @param  {number}  index            The index to move the block into.\n *\n * @yield {Object} Action object.\n */\nexport function* moveBlockToPosition(\n\tclientId,\n\tfromRootClientId = '',\n\ttoRootClientId = '',\n\tindex\n) {\n\tconst templateLock = yield select(\n\t\t'core/block-editor',\n\t\t'getTemplateLock',\n\t\tfromRootClientId\n\t);\n\n\t// If locking is equal to all on the original clientId (fromRootClientId),\n\t// it is not possible to move the block to any other position.\n\tif ( templateLock === 'all' ) {\n\t\treturn;\n\t}\n\n\tconst action = {\n\t\ttype: 'MOVE_BLOCK_TO_POSITION',\n\t\tfromRootClientId,\n\t\ttoRootClientId,\n\t\tclientId,\n\t\tindex,\n\t};\n\t// If moving inside the same root block the move is always possible.\n\tif ( fromRootClientId === toRootClientId ) {\n\t\tyield action;\n\t\treturn;\n\t}\n\n\t// If templateLock is insert we can not remove the block from the parent.\n\t// Given that here we know that we are moving the block to a different parent, the move should not be possible if the condition is true.\n\tif ( templateLock === 'insert' ) {\n\t\treturn;\n\t}\n\n\tconst blockName = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockName',\n\t\tclientId\n\t);\n\n\tconst canInsertBlock = yield select(\n\t\t'core/block-editor',\n\t\t'canInsertBlockType',\n\t\tblockName,\n\t\ttoRootClientId\n\t);\n\n\t// If moving to other parent block, the move is possible if we can insert a block of the same type inside the new parent block.\n\tif ( canInsertBlock ) {\n\t\tyield action;\n\t}\n}\n\n/**\n * Returns an action object used in signalling that a single block should be\n * inserted, optionally at a specific index respective a root block list.\n *\n * @param {Object}  block            Block object to insert.\n * @param {?number} index            Index at which block should be inserted.\n * @param {?string} rootClientId     Optional root client ID of block list on which to insert.\n * @param {?boolean} updateSelection If true block selection will be updated. If false, block selection will not change. Defaults to true.\n *\n * @return {Object} Action object.\n */\nexport function insertBlock(\n\tblock,\n\tindex,\n\trootClientId,\n\tupdateSelection = true\n) {\n\treturn insertBlocks( [ block ], index, rootClientId, updateSelection );\n}\n\n/**\n * Returns an action object used in signalling that an array of blocks should\n * be inserted, optionally at a specific index respective a root block list.\n *\n * @param {Object[]} blocks          Block objects to insert.\n * @param {?number}  index           Index at which block should be inserted.\n * @param {?string}  rootClientId    Optional root client ID of block list on which to insert.\n * @param {?boolean} updateSelection If true block selection will be updated.  If false, block selection will not change. Defaults to true.\n *\n *  @return {Object} Action object.\n */\nexport function* insertBlocks(\n\tblocks,\n\tindex,\n\trootClientId,\n\tupdateSelection = true\n) {\n\tblocks = getBlocksWithDefaultStylesApplied(\n\t\tcastArray( blocks ),\n\t\tyield select( 'core/block-editor', 'getSettings' )\n\t);\n\tconst allowedBlocks = [];\n\tfor ( const block of blocks ) {\n\t\tconst isValid = yield select(\n\t\t\t'core/block-editor',\n\t\t\t'canInsertBlockType',\n\t\t\tblock.name,\n\t\t\trootClientId\n\t\t);\n\t\tif ( isValid ) {\n\t\t\tallowedBlocks.push( block );\n\t\t}\n\t}\n\tif ( allowedBlocks.length ) {\n\t\treturn {\n\t\t\ttype: 'INSERT_BLOCKS',\n\t\t\tblocks: allowedBlocks,\n\t\t\tindex,\n\t\t\trootClientId,\n\t\t\ttime: Date.now(),\n\t\t\tupdateSelection,\n\t\t};\n\t}\n}\n\n/**\n * Returns an action object used in signalling that the insertion point should\n * be shown.\n *\n * @param {?string} rootClientId Optional root client ID of block list on\n *                               which to insert.\n * @param {?number} index        Index at which block should be inserted.\n *\n * @return {Object} Action object.\n */\nexport function showInsertionPoint( rootClientId, index ) {\n\treturn {\n\t\ttype: 'SHOW_INSERTION_POINT',\n\t\trootClientId,\n\t\tindex,\n\t};\n}\n\n/**\n * Returns an action object hiding the insertion point.\n *\n * @return {Object} Action object.\n */\nexport function hideInsertionPoint() {\n\treturn {\n\t\ttype: 'HIDE_INSERTION_POINT',\n\t};\n}\n\n/**\n * Returns an action object resetting the template validity.\n *\n * @param {boolean}  isValid  template validity flag.\n *\n * @return {Object} Action object.\n */\nexport function setTemplateValidity( isValid ) {\n\treturn {\n\t\ttype: 'SET_TEMPLATE_VALIDITY',\n\t\tisValid,\n\t};\n}\n\n/**\n * Returns an action object synchronize the template with the list of blocks\n *\n * @return {Object} Action object.\n */\nexport function synchronizeTemplate() {\n\treturn {\n\t\ttype: 'SYNCHRONIZE_TEMPLATE',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that two blocks should be merged\n *\n * @param {string} firstBlockClientId  Client ID of the first block to merge.\n * @param {string} secondBlockClientId Client ID of the second block to merge.\n *\n * @return {Object} Action object.\n */\nexport function mergeBlocks( firstBlockClientId, secondBlockClientId ) {\n\treturn {\n\t\ttype: 'MERGE_BLOCKS',\n\t\tblocks: [ firstBlockClientId, secondBlockClientId ],\n\t};\n}\n\n/**\n * Yields action objects used in signalling that the blocks corresponding to\n * the set of specified client IDs are to be removed.\n *\n * @param {string|string[]} clientIds      Client IDs of blocks to remove.\n * @param {boolean}         selectPrevious True if the previous block should be\n *                                         selected when a block is removed.\n */\nexport function* removeBlocks( clientIds, selectPrevious = true ) {\n\tif ( ! clientIds || ! clientIds.length ) {\n\t\treturn;\n\t}\n\n\tclientIds = castArray( clientIds );\n\tconst rootClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockRootClientId',\n\t\tclientIds[ 0 ]\n\t);\n\tconst isLocked = yield select(\n\t\t'core/block-editor',\n\t\t'getTemplateLock',\n\t\trootClientId\n\t);\n\tif ( isLocked ) {\n\t\treturn;\n\t}\n\n\tif ( selectPrevious ) {\n\t\tyield selectPreviousBlock( clientIds[ 0 ] );\n\t}\n\n\tyield {\n\t\ttype: 'REMOVE_BLOCKS',\n\t\tclientIds,\n\t};\n\n\t// To avoid a focus loss when removing the last block, assure there is\n\t// always a default block if the last of the blocks have been removed.\n\tyield* ensureDefaultBlock();\n}\n\n/**\n * Returns an action object used in signalling that the block with the\n * specified client ID is to be removed.\n *\n * @param {string}  clientId       Client ID of block to remove.\n * @param {boolean} selectPrevious True if the previous block should be\n *                                 selected when a block is removed.\n *\n * @return {Object} Action object.\n */\nexport function removeBlock( clientId, selectPrevious ) {\n\treturn removeBlocks( [ clientId ], selectPrevious );\n}\n\n/**\n * Returns an action object used in signalling that the inner blocks with the\n * specified client ID should be replaced.\n *\n * @param {string}   rootClientId    Client ID of the block whose InnerBlocks will re replaced.\n * @param {Object[]} blocks          Block objects to insert as new InnerBlocks\n * @param {?boolean} updateSelection If true block selection will be updated. If false, block selection will not change. Defaults to true.\n *\n * @return {Object} Action object.\n */\nexport function replaceInnerBlocks(\n\trootClientId,\n\tblocks,\n\tupdateSelection = true\n) {\n\treturn {\n\t\ttype: 'REPLACE_INNER_BLOCKS',\n\t\trootClientId,\n\t\tblocks,\n\t\tupdateSelection,\n\t\ttime: Date.now(),\n\t};\n}\n\n/**\n * Returns an action object used to toggle the block editing mode between\n * visual and HTML modes.\n *\n * @param {string} clientId Block client ID.\n *\n * @return {Object} Action object.\n */\nexport function toggleBlockMode( clientId ) {\n\treturn {\n\t\ttype: 'TOGGLE_BLOCK_MODE',\n\t\tclientId,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user has begun to type.\n *\n * @return {Object} Action object.\n */\nexport function startTyping() {\n\treturn {\n\t\ttype: 'START_TYPING',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user has stopped typing.\n *\n * @return {Object} Action object.\n */\nexport function stopTyping() {\n\treturn {\n\t\ttype: 'STOP_TYPING',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user has begun to drag blocks.\n *\n * @return {Object} Action object.\n */\nexport function startDraggingBlocks() {\n\treturn {\n\t\ttype: 'START_DRAGGING_BLOCKS',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user has stopped dragging blocks.\n *\n * @return {Object} Action object.\n */\nexport function stopDraggingBlocks() {\n\treturn {\n\t\ttype: 'STOP_DRAGGING_BLOCKS',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the caret has entered formatted text.\n *\n * @return {Object} Action object.\n */\nexport function enterFormattedText() {\n\treturn {\n\t\ttype: 'ENTER_FORMATTED_TEXT',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user caret has exited formatted text.\n *\n * @return {Object} Action object.\n */\nexport function exitFormattedText() {\n\treturn {\n\t\ttype: 'EXIT_FORMATTED_TEXT',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user caret has changed\n * position.\n *\n * @param {string} clientId     The selected block client ID.\n * @param {string} attributeKey The selected block attribute key.\n * @param {number} startOffset  The start offset.\n * @param {number} endOffset    The end offset.\n *\n * @return {Object} Action object.\n */\nexport function selectionChange(\n\tclientId,\n\tattributeKey,\n\tstartOffset,\n\tendOffset\n) {\n\treturn {\n\t\ttype: 'SELECTION_CHANGE',\n\t\tclientId,\n\t\tattributeKey,\n\t\tstartOffset,\n\t\tendOffset,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a new block of the default\n * type should be added to the block list.\n *\n * @param {?Object} attributes   Optional attributes of the block to assign.\n * @param {?string} rootClientId Optional root client ID of block list on which\n *                               to append.\n * @param {?number} index        Optional index where to insert the default block\n *\n * @return {Object} Action object\n */\nexport function insertDefaultBlock( attributes, rootClientId, index ) {\n\t// Abort if there is no default block type (if it has been unregistered).\n\tconst defaultBlockName = getDefaultBlockName();\n\tif ( ! defaultBlockName ) {\n\t\treturn;\n\t}\n\n\tconst block = createBlock( defaultBlockName, attributes );\n\n\treturn insertBlock( block, index, rootClientId );\n}\n\n/**\n * Returns an action object that changes the nested settings of a given block.\n *\n * @param {string} clientId Client ID of the block whose nested setting are\n *                          being received.\n * @param {Object} settings Object with the new settings for the nested block.\n *\n * @return {Object} Action object\n */\nexport function updateBlockListSettings( clientId, settings ) {\n\treturn {\n\t\ttype: 'UPDATE_BLOCK_LIST_SETTINGS',\n\t\tclientId,\n\t\tsettings,\n\t};\n}\n\n/*\n * Returns an action object used in signalling that the block editor settings have been updated.\n *\n * @param {Object} settings Updated settings\n *\n * @return {Object} Action object\n */\nexport function updateSettings( settings ) {\n\treturn {\n\t\ttype: 'UPDATE_SETTINGS',\n\t\tsettings,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a temporary reusable blocks have been saved\n * in order to switch its temporary id with the real id.\n *\n * @param {string} id        Reusable block's id.\n * @param {string} updatedId Updated block's id.\n *\n * @return {Object} Action object.\n */\nexport function __unstableSaveReusableBlock( id, updatedId ) {\n\treturn {\n\t\ttype: 'SAVE_REUSABLE_BLOCK_SUCCESS',\n\t\tid,\n\t\tupdatedId,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the last block change should be marked explicitely as persistent.\n *\n * @return {Object} Action object.\n */\nexport function __unstableMarkLastChangeAsPersistent() {\n\treturn { type: 'MARK_LAST_CHANGE_AS_PERSISTENT' };\n}\n\n/**\n * Returns an action object used in signalling that the next block change should be marked explicitly as not persistent.\n *\n * @return {Object} Action object.\n */\nexport function __unstableMarkNextChangeAsNotPersistent() {\n\treturn { type: 'MARK_NEXT_CHANGE_AS_NOT_PERSISTENT' };\n}\n\n/**\n * Returns an action object used in signalling that the last block change is\n * an automatic change, meaning it was not performed by the user, and can be\n * undone using the `Escape` and `Backspace` keys. This action must be called\n * after the change was made, and any actions that are a consequence of it, so\n * it is recommended to be called at the next idle period to ensure all\n * selection changes have been recorded.\n *\n * @return {Object} Action object.\n */\nexport function __unstableMarkAutomaticChange() {\n\treturn { type: 'MARK_AUTOMATIC_CHANGE' };\n}\n\n/**\n * Generators that triggers an action used to enable or disable the navigation mode.\n *\n * @param {string} isNavigationMode Enable/Disable navigation mode.\n */\nexport function* setNavigationMode( isNavigationMode = true ) {\n\tyield {\n\t\ttype: 'SET_NAVIGATION_MODE',\n\t\tisNavigationMode,\n\t};\n\n\tif ( isNavigationMode ) {\n\t\tspeak(\n\t\t\t__(\n\t\t\t\t'You are currently in navigation mode. Navigate blocks using the Tab key. To exit navigation mode and edit the selected block, press Enter.'\n\t\t\t)\n\t\t);\n\t} else {\n\t\tspeak(\n\t\t\t__(\n\t\t\t\t'You are currently in edit mode. To return to the navigation mode, press Escape.'\n\t\t\t)\n\t\t);\n\t}\n}\n\n/**\n * Generator that triggers an action used to duplicate a list of blocks.\n *\n * @param {string[]} clientIds\n */\nexport function* duplicateBlocks( clientIds ) {\n\tif ( ! clientIds && ! clientIds.length ) {\n\t\treturn;\n\t}\n\tconst blocks = yield select(\n\t\t'core/block-editor',\n\t\t'getBlocksByClientId',\n\t\tclientIds\n\t);\n\tconst rootClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockRootClientId',\n\t\tclientIds[ 0 ]\n\t);\n\t// Return early if blocks don't exist.\n\tif ( some( blocks, ( block ) => ! block ) ) {\n\t\treturn;\n\t}\n\tconst blockNames = blocks.map( ( block ) => block.name );\n\t// Return early if blocks don't support multipe  usage.\n\tif (\n\t\tsome(\n\t\t\tblockNames,\n\t\t\t( blockName ) => ! hasBlockSupport( blockName, 'multiple', true )\n\t\t)\n\t) {\n\t\treturn;\n\t}\n\n\tconst lastSelectedIndex = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockIndex',\n\t\tlast( castArray( clientIds ) ),\n\t\trootClientId\n\t);\n\tconst clonedBlocks = blocks.map( ( block ) => cloneBlock( block ) );\n\tyield insertBlocks( clonedBlocks, lastSelectedIndex + 1, rootClientId );\n\tif ( clonedBlocks.length > 1 ) {\n\t\tyield multiSelect(\n\t\t\tfirst( clonedBlocks ).clientId,\n\t\t\tlast( clonedBlocks ).clientId\n\t\t);\n\t}\n}\n\n/**\n * Generator used to insert an empty block after a given block.\n *\n * @param {string} clientId\n */\nexport function* insertBeforeBlock( clientId ) {\n\tif ( ! clientId ) {\n\t\treturn;\n\t}\n\tconst rootClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockRootClientId',\n\t\tclientId\n\t);\n\tconst isLocked = yield select(\n\t\t'core/block-editor',\n\t\t'getTemplateLock',\n\t\trootClientId\n\t);\n\tif ( isLocked ) {\n\t\treturn;\n\t}\n\n\tconst firstSelectedIndex = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockIndex',\n\t\tclientId,\n\t\trootClientId\n\t);\n\tyield insertDefaultBlock( {}, rootClientId, firstSelectedIndex );\n}\n\n/**\n * Generator used to insert an empty block before a given block.\n *\n * @param {string} clientId\n */\nexport function* insertAfterBlock( clientId ) {\n\tif ( ! clientId ) {\n\t\treturn;\n\t}\n\tconst rootClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockRootClientId',\n\t\tclientId\n\t);\n\tconst isLocked = yield select(\n\t\t'core/block-editor',\n\t\t'getTemplateLock',\n\t\trootClientId\n\t);\n\tif ( isLocked ) {\n\t\treturn;\n\t}\n\n\tconst firstSelectedIndex = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockIndex',\n\t\tclientId,\n\t\trootClientId\n\t);\n\tyield insertDefaultBlock( {}, rootClientId, firstSelectedIndex + 1 );\n}\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\n\n/**\n * Insert one or multiple elements into a given position of an array.\n *\n * @param {Array}  array    Source array.\n * @param {*}      elements Elements to insert.\n * @param {number} index    Insert Position.\n *\n * @return {Array}          Result.\n */\nexport function insertAt( array, elements, index ) {\n\treturn [\n\t\t...array.slice( 0, index ),\n\t\t...castArray( elements ),\n\t\t...array.slice( index ),\n\t];\n}\n\n/**\n * Moves an element in an array.\n *\n * @param {Array}  array Source array.\n * @param {number} from  Source index.\n * @param {number} to    Destination index.\n * @param {number} count Number of elements to move.\n *\n * @return {Array}       Result.\n */\nexport function moveTo( array, from, to, count = 1 ) {\n\tconst withoutMovedElements = [ ...array ];\n\twithoutMovedElements.splice( from, count );\n\treturn insertAt(\n\t\twithoutMovedElements,\n\t\tarray.slice( from, from + count ),\n\t\tto\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { createRegistryControl } from '@wordpress/data';\n\n/**\n * Calls a selector using the current state.\n *\n * @param {string} storeName    Store name.\n * @param {string} selectorName Selector name.\n * @param  {Array} args         Selector arguments.\n *\n * @return {Object} control descriptor.\n */\nexport function select( storeName, selectorName, ...args ) {\n\treturn {\n\t\ttype: 'SELECT',\n\t\tstoreName,\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\nconst controls = {\n\tSELECT: createRegistryControl(\n\t\t( registry ) => ( { storeName, selectorName, args } ) => {\n\t\t\treturn registry.select( storeName )[ selectorName ]( ...args );\n\t\t}\n\t),\n};\n\nexport default controls;\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\n\nexport const PREFERENCES_DEFAULTS = {\n\tinsertUsage: {},\n};\n\n/**\n * The default editor settings\n *\n * @typedef {Object} SETTINGS_DEFAULT\n * @property {boolean} alignWide Enable/Disable Wide/Full Alignments\n * @property {Array} availableLegacyWidgets Array of objects representing the legacy widgets available.\n * @property {Array} colors Palette colors\n * @property {boolean} disableCustomColors Whether or not the custom colors are disabled\n * @property {Array} fontSizes Available font sizes\n * @property {boolean} disableCustomFontSizes Whether or not the custom font sizes are disabled\n * @property {Array} imageSizes Available image sizes\n * @property {number} maxWidth Max width to constraint resizing\n * @property {boolean|Array} allowedBlockTypes Allowed block types\n * @property {boolean} hasFixedToolbar Whether or not the editor toolbar is fixed\n * @property {boolean} hasPermissionsToManageWidgets Whether or not the user is able to manage widgets.\n * @property {boolean} focusMode Whether the focus mode is enabled or not\n * @property {Array} styles Editor Styles\n * @property {boolean} isRTL Whether the editor is in RTL mode\n * @property {string} bodyPlaceholder Empty post placeholder\n * @property {string} titlePlaceholder Empty title placeholder\n * @property {boolean} codeEditingEnabled Whether or not the user can switch to the code editor\n * @property {boolean} showInserterHelpPanel Whether or not the inserter help panel is shown\n * @property {boolean} __experimentalCanUserUseUnfilteredHTML Whether the user should be able to use unfiltered HTML or the HTML should be filtered e.g., to remove elements considered insecure like iframes.\n * @property {boolean} __experimentalEnableLegacyWidgetBlock Whether the user has enabled the Legacy Widget Block\n * @property {boolean} __experimentalBlockDirectory Whether the user has enabled the Block Directory\n * @property {boolean} __experimentalEnableFullSiteEditing Whether the user has enabled Full Site Editing\n * @property {boolean} __experimentalEnableFullSiteEditingDemo Whether the user has enabled Full Site Editing Demo Templates\n * @property {boolean} __experimentalEnablePageTemplates Whether the user has enabled the Page Templates\n */\nexport const SETTINGS_DEFAULTS = {\n\talignWide: false,\n\tcolors: [\n\t\t{\n\t\t\tname: __( 'Pale pink' ),\n\t\t\tslug: 'pale-pink',\n\t\t\tcolor: '#f78da7',\n\t\t},\n\t\t{ name: __( 'Vivid red' ), slug: 'vivid-red', color: '#cf2e2e' },\n\t\t{\n\t\t\tname: __( 'Luminous vivid orange' ),\n\t\t\tslug: 'luminous-vivid-orange',\n\t\t\tcolor: '#ff6900',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Luminous vivid amber' ),\n\t\t\tslug: 'luminous-vivid-amber',\n\t\t\tcolor: '#fcb900',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Light green cyan' ),\n\t\t\tslug: 'light-green-cyan',\n\t\t\tcolor: '#7bdcb5',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Vivid green cyan' ),\n\t\t\tslug: 'vivid-green-cyan',\n\t\t\tcolor: '#00d084',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Pale cyan blue' ),\n\t\t\tslug: 'pale-cyan-blue',\n\t\t\tcolor: '#8ed1fc',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Vivid cyan blue' ),\n\t\t\tslug: 'vivid-cyan-blue',\n\t\t\tcolor: '#0693e3',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Vivid purple' ),\n\t\t\tslug: 'vivid-purple',\n\t\t\tcolor: '#9b51e0',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Very light gray' ),\n\t\t\tslug: 'very-light-gray',\n\t\t\tcolor: '#eeeeee',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Cyan bluish gray' ),\n\t\t\tslug: 'cyan-bluish-gray',\n\t\t\tcolor: '#abb8c3',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Very dark gray' ),\n\t\t\tslug: 'very-dark-gray',\n\t\t\tcolor: '#313131',\n\t\t},\n\t],\n\n\tfontSizes: [\n\t\t{\n\t\t\tname: _x( 'Small', 'font size name' ),\n\t\t\tsize: 13,\n\t\t\tslug: 'small',\n\t\t},\n\t\t{\n\t\t\tname: _x( 'Normal', 'font size name' ),\n\t\t\tsize: 16,\n\t\t\tslug: 'normal',\n\t\t},\n\t\t{\n\t\t\tname: _x( 'Medium', 'font size name' ),\n\t\t\tsize: 20,\n\t\t\tslug: 'medium',\n\t\t},\n\t\t{\n\t\t\tname: _x( 'Large', 'font size name' ),\n\t\t\tsize: 36,\n\t\t\tslug: 'large',\n\t\t},\n\t\t{\n\t\t\tname: _x( 'Huge', 'font size name' ),\n\t\t\tsize: 48,\n\t\t\tslug: 'huge',\n\t\t},\n\t],\n\n\timageSizes: [\n\t\t{ slug: 'thumbnail', name: __( 'Thumbnail' ) },\n\t\t{ slug: 'medium', name: __( 'Medium' ) },\n\t\t{ slug: 'large', name: __( 'Large' ) },\n\t\t{ slug: 'full', name: __( 'Full Size' ) },\n\t],\n\n\t// This is current max width of the block inner area\n\t// It's used to constraint image resizing and this value could be overridden later by themes\n\tmaxWidth: 580,\n\n\t// Allowed block types for the editor, defaulting to true (all supported).\n\tallowedBlockTypes: true,\n\n\t// Maximum upload size in bytes allowed for the site.\n\tmaxUploadFileSize: 0,\n\n\t// List of allowed mime types and file extensions.\n\tallowedMimeTypes: null,\n\n\tavailableLegacyWidgets: {},\n\thasPermissionsToManageWidgets: false,\n\tshowInserterHelpPanel: true,\n\t__experimentalCanUserUseUnfilteredHTML: false,\n\t__experimentalEnableLegacyWidgetBlock: false,\n\t__experimentalBlockDirectory: false,\n\t__experimentalEnableFullSiteEditing: false,\n\t__experimentalEnableFullSiteEditingDemo: false,\n\t__experimentalEnablePageTemplates: false,\n\tgradients: [\n\t\t{\n\t\t\tname: __( 'Vivid cyan blue to vivid purple' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)',\n\t\t\tslug: 'vivid-cyan-blue-to-vivid-purple',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Light green cyan to vivid green cyan' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)',\n\t\t\tslug: 'light-green-cyan-to-vivid-green-cyan',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Luminous vivid amber to luminous vivid orange' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)',\n\t\t\tslug: 'luminous-vivid-amber-to-luminous-vivid-orange',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Luminous vivid orange to vivid red' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%)',\n\t\t\tslug: 'luminous-vivid-orange-to-vivid-red',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Very light gray to cyan bluish gray' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%)',\n\t\t\tslug: 'very-light-gray-to-cyan-bluish-gray',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Cool to warm spectrum' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%)',\n\t\t\tslug: 'cool-to-warm-spectrum',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Blush light purple' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%)',\n\t\t\tslug: 'blush-light-purple',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Blush bordeaux' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%)',\n\t\t\tslug: 'blush-bordeaux',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Luminous dusk' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%)',\n\t\t\tslug: 'luminous-dusk',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Pale ocean' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%)',\n\t\t\tslug: 'pale-ocean',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Electric grass' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%)',\n\t\t\tslug: 'electric-grass',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Midnight' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%)',\n\t\t\tslug: 'midnight',\n\t\t},\n\t],\n};\n","/**\n * External dependencies\n */\nimport { findKey } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { speak } from '@wordpress/a11y';\nimport {\n\tgetBlockType,\n\tdoBlocksMatchTemplate,\n\tswitchToBlockType,\n\tsynchronizeBlocksWithTemplate,\n\tcloneBlock,\n} from '@wordpress/blocks';\nimport { _n, sprintf } from '@wordpress/i18n';\nimport { create, toHTMLString, insert, remove } from '@wordpress/rich-text';\n\n/**\n * Internal dependencies\n */\nimport {\n\treplaceBlocks,\n\tselectBlock,\n\tsetTemplateValidity,\n\tresetBlocks,\n\tselectionChange,\n} from './actions';\nimport {\n\tgetBlock,\n\tgetBlocks,\n\tgetSelectedBlockCount,\n\tgetTemplateLock,\n\tgetTemplate,\n\tisValidTemplate,\n\tgetSelectionStart,\n} from './selectors';\n\n/**\n * Block validity is a function of blocks state (at the point of a\n * reset) and the template setting. As a compromise to its placement\n * across distinct parts of state, it is implemented here as a side-\n * effect of the block reset action.\n *\n * @param {Object} action RESET_BLOCKS action.\n * @param {Object} store  Store instance.\n *\n * @return {?Object} New validity set action if validity has changed.\n */\nexport function validateBlocksToTemplate( action, store ) {\n\tconst state = store.getState();\n\tconst template = getTemplate( state );\n\tconst templateLock = getTemplateLock( state );\n\n\t// Unlocked templates are considered always valid because they act\n\t// as default values only.\n\tconst isBlocksValidToTemplate =\n\t\t! template ||\n\t\ttemplateLock !== 'all' ||\n\t\tdoBlocksMatchTemplate( action.blocks, template );\n\n\t// Update if validity has changed.\n\tif ( isBlocksValidToTemplate !== isValidTemplate( state ) ) {\n\t\treturn setTemplateValidity( isBlocksValidToTemplate );\n\t}\n}\n\nexport default {\n\tMERGE_BLOCKS( action, store ) {\n\t\tconst { dispatch } = store;\n\t\tconst state = store.getState();\n\t\tconst [ clientIdA, clientIdB ] = action.blocks;\n\t\tconst blockA = getBlock( state, clientIdA );\n\t\tconst blockAType = getBlockType( blockA.name );\n\n\t\t// Only focus the previous block if it's not mergeable\n\t\tif ( ! blockAType.merge ) {\n\t\t\tdispatch( selectBlock( blockA.clientId ) );\n\t\t\treturn;\n\t\t}\n\n\t\tconst blockB = getBlock( state, clientIdB );\n\t\tconst blockBType = getBlockType( blockB.name );\n\t\tconst { clientId, attributeKey, offset } = getSelectionStart( state );\n\t\tconst selectedBlockType =\n\t\t\tclientId === clientIdA ? blockAType : blockBType;\n\t\tconst attributeDefinition =\n\t\t\tselectedBlockType.attributes[ attributeKey ];\n\t\tconst canRestoreTextSelection =\n\t\t\t( clientId === clientIdA || clientId === clientIdB ) &&\n\t\t\tattributeKey !== undefined &&\n\t\t\toffset !== undefined &&\n\t\t\t// We cannot restore text selection if the RichText identifier\n\t\t\t// is not a defined block attribute key. This can be the case if the\n\t\t\t// fallback intance ID is used to store selection (and no RichText\n\t\t\t// identifier is set), or when the identifier is wrong.\n\t\t\t!! attributeDefinition;\n\n\t\tif ( ! attributeDefinition ) {\n\t\t\tif ( typeof attributeKey === 'number' ) {\n\t\t\t\twindow.console.error(\n\t\t\t\t\t`RichText needs an identifier prop that is the block attribute key of the attribute it controls. Its type is expected to be a string, but was ${ typeof attributeKey }`\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\twindow.console.error(\n\t\t\t\t\t'The RichText identifier prop does not match any attributes defined by the block.'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// A robust way to retain selection position through various transforms\n\t\t// is to insert a special character at the position and then recover it.\n\t\tconst START_OF_SELECTED_AREA = '\\u0086';\n\n\t\t// Clone the blocks so we don't insert the character in a \"live\" block.\n\t\tconst cloneA = cloneBlock( blockA );\n\t\tconst cloneB = cloneBlock( blockB );\n\n\t\tif ( canRestoreTextSelection ) {\n\t\t\tconst selectedBlock = clientId === clientIdA ? cloneA : cloneB;\n\t\t\tconst html = selectedBlock.attributes[ attributeKey ];\n\t\t\tconst {\n\t\t\t\tmultiline: multilineTag,\n\t\t\t\t__unstableMultilineWrapperTags: multilineWrapperTags,\n\t\t\t\t__unstablePreserveWhiteSpace: preserveWhiteSpace,\n\t\t\t} = attributeDefinition;\n\t\t\tconst value = insert(\n\t\t\t\tcreate( {\n\t\t\t\t\thtml,\n\t\t\t\t\tmultilineTag,\n\t\t\t\t\tmultilineWrapperTags,\n\t\t\t\t\tpreserveWhiteSpace,\n\t\t\t\t} ),\n\t\t\t\tSTART_OF_SELECTED_AREA,\n\t\t\t\toffset,\n\t\t\t\toffset\n\t\t\t);\n\n\t\t\tselectedBlock.attributes[ attributeKey ] = toHTMLString( {\n\t\t\t\tvalue,\n\t\t\t\tmultilineTag,\n\t\t\t\tpreserveWhiteSpace,\n\t\t\t} );\n\t\t}\n\n\t\t// We can only merge blocks with similar types\n\t\t// thus, we transform the block to merge first\n\t\tconst blocksWithTheSameType =\n\t\t\tblockA.name === blockB.name\n\t\t\t\t? [ cloneB ]\n\t\t\t\t: switchToBlockType( cloneB, blockA.name );\n\n\t\t// If the block types can not match, do nothing\n\t\tif ( ! blocksWithTheSameType || ! blocksWithTheSameType.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Calling the merge to update the attributes and remove the block to be merged\n\t\tconst updatedAttributes = blockAType.merge(\n\t\t\tcloneA.attributes,\n\t\t\tblocksWithTheSameType[ 0 ].attributes\n\t\t);\n\n\t\tif ( canRestoreTextSelection ) {\n\t\t\tconst newAttributeKey = findKey(\n\t\t\t\tupdatedAttributes,\n\t\t\t\t( v ) =>\n\t\t\t\t\ttypeof v === 'string' &&\n\t\t\t\t\tv.indexOf( START_OF_SELECTED_AREA ) !== -1\n\t\t\t);\n\t\t\tconst convertedHtml = updatedAttributes[ newAttributeKey ];\n\t\t\tconst {\n\t\t\t\tmultiline: multilineTag,\n\t\t\t\t__unstableMultilineWrapperTags: multilineWrapperTags,\n\t\t\t\t__unstablePreserveWhiteSpace: preserveWhiteSpace,\n\t\t\t} = blockAType.attributes[ newAttributeKey ];\n\t\t\tconst convertedValue = create( {\n\t\t\t\thtml: convertedHtml,\n\t\t\t\tmultilineTag,\n\t\t\t\tmultilineWrapperTags,\n\t\t\t\tpreserveWhiteSpace,\n\t\t\t} );\n\t\t\tconst newOffset = convertedValue.text.indexOf(\n\t\t\t\tSTART_OF_SELECTED_AREA\n\t\t\t);\n\t\t\tconst newValue = remove( convertedValue, newOffset, newOffset + 1 );\n\t\t\tconst newHtml = toHTMLString( {\n\t\t\t\tvalue: newValue,\n\t\t\t\tmultilineTag,\n\t\t\t\tpreserveWhiteSpace,\n\t\t\t} );\n\n\t\t\tupdatedAttributes[ newAttributeKey ] = newHtml;\n\n\t\t\tdispatch(\n\t\t\t\tselectionChange(\n\t\t\t\t\tblockA.clientId,\n\t\t\t\t\tnewAttributeKey,\n\t\t\t\t\tnewOffset,\n\t\t\t\t\tnewOffset\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tdispatch(\n\t\t\treplaceBlocks(\n\t\t\t\t[ blockA.clientId, blockB.clientId ],\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\t...blockA,\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t...blockA.attributes,\n\t\t\t\t\t\t\t...updatedAttributes,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t...blocksWithTheSameType.slice( 1 ),\n\t\t\t\t]\n\t\t\t)\n\t\t);\n\t},\n\tRESET_BLOCKS: [ validateBlocksToTemplate ],\n\tMULTI_SELECT: ( action, { getState } ) => {\n\t\tconst blockCount = getSelectedBlockCount( getState() );\n\n\t\t/* translators: %s: number of selected blocks */\n\t\tspeak(\n\t\t\tsprintf(\n\t\t\t\t_n( '%s block selected.', '%s blocks selected.', blockCount ),\n\t\t\t\tblockCount\n\t\t\t),\n\t\t\t'assertive'\n\t\t);\n\t},\n\tSYNCHRONIZE_TEMPLATE( action, { getState } ) {\n\t\tconst state = getState();\n\t\tconst blocks = getBlocks( state );\n\t\tconst template = getTemplate( state );\n\t\tconst updatedBlockList = synchronizeBlocksWithTemplate(\n\t\t\tblocks,\n\t\t\ttemplate\n\t\t);\n\n\t\treturn resetBlocks( updatedBlockList );\n\t},\n\tMARK_AUTOMATIC_CHANGE( action, store ) {\n\t\tconst {\n\t\t\tsetTimeout,\n\t\t\trequestIdleCallback = ( callback ) => setTimeout( callback, 100 ),\n\t\t} = window;\n\n\t\trequestIdleCallback( () => {\n\t\t\tstore.dispatch( { type: 'MARK_AUTOMATIC_CHANGE_FINAL' } );\n\t\t} );\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { registerStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport applyMiddlewares from './middlewares';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\nimport controls from './controls';\n\n/**\n * Module Constants\n */\nconst MODULE_KEY = 'core/block-editor';\n\n/**\n * Block editor data store configuration.\n *\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/data/README.md#registerStore\n *\n * @type {Object}\n */\nexport const storeConfig = {\n\treducer,\n\tselectors,\n\tactions,\n\tcontrols,\n};\n\nconst store = registerStore( MODULE_KEY, {\n\t...storeConfig,\n\tpersist: [ 'preferences' ],\n} );\napplyMiddlewares( store );\n\nexport default store;\n","/**\n * External dependencies\n */\nimport refx from 'refx';\nimport multi from 'redux-multi';\nimport { flowRight } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport effects from './effects';\n\n/**\n * Applies the custom middlewares used specifically in the editor module.\n *\n * @param {Object} store Store Object.\n *\n * @return {Object} Update Store Object.\n */\nfunction applyMiddlewares( store ) {\n\tconst middlewares = [ refx( effects ), multi ];\n\n\tlet enhancedDispatch = () => {\n\t\tthrow new Error(\n\t\t\t'Dispatching while constructing your middleware is not allowed. ' +\n\t\t\t\t'Other middleware would not be applied to this dispatch.'\n\t\t);\n\t};\n\tlet chain = [];\n\n\tconst middlewareAPI = {\n\t\tgetState: store.getState,\n\t\tdispatch: ( ...args ) => enhancedDispatch( ...args ),\n\t};\n\tchain = middlewares.map( ( middleware ) => middleware( middlewareAPI ) );\n\tenhancedDispatch = flowRight( ...chain )( store.dispatch );\n\n\tstore.dispatch = enhancedDispatch;\n\treturn store;\n}\n\nexport default applyMiddlewares;\n","/**\n * External dependencies\n */\nimport {\n\tflow,\n\treduce,\n\tfirst,\n\tlast,\n\tomit,\n\twithout,\n\tmapValues,\n\tkeys,\n\tisEqual,\n\tisEmpty,\n\tget,\n\tidentity,\n\tdifference,\n\tomitBy,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\nimport { isReusableBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { PREFERENCES_DEFAULTS, SETTINGS_DEFAULTS } from './defaults';\nimport { insertAt, moveTo } from './array';\n\n/**\n * Given an array of blocks, returns an object where each key is a nesting\n * context, the value of which is an array of block client IDs existing within\n * that nesting context.\n *\n * @param {Array}   blocks       Blocks to map.\n * @param {?string} rootClientId Assumed root client ID.\n *\n * @return {Object} Block order map object.\n */\nfunction mapBlockOrder( blocks, rootClientId = '' ) {\n\tconst result = { [ rootClientId ]: [] };\n\n\tblocks.forEach( ( block ) => {\n\t\tconst { clientId, innerBlocks } = block;\n\n\t\tresult[ rootClientId ].push( clientId );\n\n\t\tObject.assign( result, mapBlockOrder( innerBlocks, clientId ) );\n\t} );\n\n\treturn result;\n}\n\n/**\n * Given an array of blocks, returns an object where each key contains\n * the clientId of the block and the value is the parent of the block.\n *\n * @param {Array}   blocks       Blocks to map.\n * @param {?string} rootClientId Assumed root client ID.\n *\n * @return {Object} Block order map object.\n */\nfunction mapBlockParents( blocks, rootClientId = '' ) {\n\treturn blocks.reduce(\n\t\t( result, block ) =>\n\t\t\tObject.assign(\n\t\t\t\tresult,\n\t\t\t\t{ [ block.clientId ]: rootClientId },\n\t\t\t\tmapBlockParents( block.innerBlocks, block.clientId )\n\t\t\t),\n\t\t{}\n\t);\n}\n\n/**\n * Helper method to iterate through all blocks, recursing into inner blocks,\n * applying a transformation function to each one.\n * Returns a flattened object with the transformed blocks.\n *\n * @param {Array} blocks Blocks to flatten.\n * @param {Function} transform Transforming function to be applied to each block.\n *\n * @return {Object} Flattened object.\n */\nfunction flattenBlocks( blocks, transform = identity ) {\n\tconst result = {};\n\n\tconst stack = [ ...blocks ];\n\twhile ( stack.length ) {\n\t\tconst { innerBlocks, ...block } = stack.shift();\n\t\tstack.push( ...innerBlocks );\n\t\tresult[ block.clientId ] = transform( block );\n\t}\n\n\treturn result;\n}\n\n/**\n * Given an array of blocks, returns an object containing all blocks, without\n * attributes, recursing into inner blocks. Keys correspond to the block client\n * ID, the value of which is the attributes object.\n *\n * @param {Array} blocks Blocks to flatten.\n *\n * @return {Object} Flattened block attributes object.\n */\nfunction getFlattenedBlocksWithoutAttributes( blocks ) {\n\treturn flattenBlocks( blocks, ( block ) => omit( block, 'attributes' ) );\n}\n\n/**\n * Given an array of blocks, returns an object containing all block attributes,\n * recursing into inner blocks. Keys correspond to the block client ID, the\n * value of which is the attributes object.\n *\n * @param {Array} blocks Blocks to flatten.\n *\n * @return {Object} Flattened block attributes object.\n */\nfunction getFlattenedBlockAttributes( blocks ) {\n\treturn flattenBlocks( blocks, ( block ) => block.attributes );\n}\n\n/**\n * Given a block order map object, returns *all* of the block client IDs that are\n * a descendant of the given root client ID.\n *\n * Calling this with `rootClientId` set to `''` results in a list of client IDs\n * that are in the post. That is, it excludes blocks like fetched reusable\n * blocks which are stored into state but not visible.\n *\n * @param {Object}  blocksOrder  Object that maps block client IDs to a list of\n *                               nested block client IDs.\n * @param {?string} rootClientId The root client ID to search. Defaults to ''.\n *\n * @return {Array} List of descendant client IDs.\n */\nfunction getNestedBlockClientIds( blocksOrder, rootClientId = '' ) {\n\treturn reduce(\n\t\tblocksOrder[ rootClientId ],\n\t\t( result, clientId ) => [\n\t\t\t...result,\n\t\t\tclientId,\n\t\t\t...getNestedBlockClientIds( blocksOrder, clientId ),\n\t\t],\n\t\t[]\n\t);\n}\n\n/**\n * Returns an object against which it is safe to perform mutating operations,\n * given the original object and its current working copy.\n *\n * @param {Object} original Original object.\n * @param {Object} working  Working object.\n *\n * @return {Object} Mutation-safe object.\n */\nfunction getMutateSafeObject( original, working ) {\n\tif ( original === working ) {\n\t\treturn { ...original };\n\t}\n\n\treturn working;\n}\n\n/**\n * Returns true if the two object arguments have the same keys, or false\n * otherwise.\n *\n * @param {Object} a First object.\n * @param {Object} b Second object.\n *\n * @return {boolean} Whether the two objects have the same keys.\n */\nexport function hasSameKeys( a, b ) {\n\treturn isEqual( keys( a ), keys( b ) );\n}\n\n/**\n * Returns true if, given the currently dispatching action and the previously\n * dispatched action, the two actions are updating the same block attribute, or\n * false otherwise.\n *\n * @param {Object} action     Currently dispatching action.\n * @param {Object} lastAction Previously dispatched action.\n *\n * @return {boolean} Whether actions are updating the same block attribute.\n */\nexport function isUpdatingSameBlockAttribute( action, lastAction ) {\n\treturn (\n\t\taction.type === 'UPDATE_BLOCK_ATTRIBUTES' &&\n\t\tlastAction !== undefined &&\n\t\tlastAction.type === 'UPDATE_BLOCK_ATTRIBUTES' &&\n\t\taction.clientId === lastAction.clientId &&\n\t\thasSameKeys( action.attributes, lastAction.attributes )\n\t);\n}\n\n/**\n * Utility returning an object with an empty object value for each key.\n *\n * @param {Array} objectKeys Keys to fill.\n * @return {Object} Object filled with empty object as values for each clientId.\n */\nconst fillKeysWithEmptyObject = ( objectKeys ) => {\n\treturn objectKeys.reduce( ( result, key ) => {\n\t\tresult[ key ] = {};\n\t\treturn result;\n\t}, {} );\n};\n\n/**\n * Higher-order reducer intended to compute a cache key for each block in the post.\n * A new instance of the cache key (empty object) is created each time the block object\n * needs to be refreshed (for any change in the block or its children).\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nconst withBlockCache = ( reducer ) => ( state = {}, action ) => {\n\tconst newState = reducer( state, action );\n\n\tif ( newState === state ) {\n\t\treturn state;\n\t}\n\tnewState.cache = state.cache ? state.cache : {};\n\n\t/**\n\t * For each clientId provided, traverses up parents, adding the provided clientIds\n\t * and each parent's clientId to the returned array.\n\t *\n\t * When calling this function consider that it uses the old state, so any state\n\t * modifications made by the `reducer` will not be present.\n\t *\n\t * @param {Array} clientIds an Array of block clientIds.\n\t *\n\t * @return {Array} The provided clientIds and all of their parent clientIds.\n\t */\n\tconst getBlocksWithParentsClientIds = ( clientIds ) => {\n\t\treturn clientIds.reduce( ( result, clientId ) => {\n\t\t\tlet current = clientId;\n\t\t\tdo {\n\t\t\t\tresult.push( current );\n\t\t\t\tcurrent = state.parents[ current ];\n\t\t\t} while ( current );\n\t\t\treturn result;\n\t\t}, [] );\n\t};\n\n\tswitch ( action.type ) {\n\t\tcase 'RESET_BLOCKS':\n\t\t\tnewState.cache = mapValues(\n\t\t\t\tflattenBlocks( action.blocks ),\n\t\t\t\t() => ( {} )\n\t\t\t);\n\t\t\tbreak;\n\t\tcase 'RECEIVE_BLOCKS':\n\t\tcase 'INSERT_BLOCKS': {\n\t\t\tconst updatedBlockUids = keys( flattenBlocks( action.blocks ) );\n\t\t\tif ( action.rootClientId ) {\n\t\t\t\tupdatedBlockUids.push( action.rootClientId );\n\t\t\t}\n\t\t\tnewState.cache = {\n\t\t\t\t...newState.cache,\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tgetBlocksWithParentsClientIds( updatedBlockUids )\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\t}\n\t\tcase 'UPDATE_BLOCK':\n\t\tcase 'UPDATE_BLOCK_ATTRIBUTES':\n\t\t\tnewState.cache = {\n\t\t\t\t...newState.cache,\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tgetBlocksWithParentsClientIds( [ action.clientId ] )\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\tconst parentClientIds = fillKeysWithEmptyObject(\n\t\t\t\tgetBlocksWithParentsClientIds( action.replacedClientIds )\n\t\t\t);\n\n\t\t\tnewState.cache = {\n\t\t\t\t...omit( newState.cache, action.replacedClientIds ),\n\t\t\t\t...omit( parentClientIds, action.replacedClientIds ),\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tkeys( flattenBlocks( action.blocks ) )\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\tnewState.cache = {\n\t\t\t\t...omit( newState.cache, action.removedClientIds ),\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tdifference(\n\t\t\t\t\t\tgetBlocksWithParentsClientIds( action.clientIds ),\n\t\t\t\t\t\taction.clientIds\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'MOVE_BLOCK_TO_POSITION': {\n\t\t\tconst updatedBlockUids = [ action.clientId ];\n\t\t\tif ( action.fromRootClientId ) {\n\t\t\t\tupdatedBlockUids.push( action.fromRootClientId );\n\t\t\t}\n\t\t\tif ( action.toRootClientId ) {\n\t\t\t\tupdatedBlockUids.push( action.toRootClientId );\n\t\t\t}\n\t\t\tnewState.cache = {\n\t\t\t\t...newState.cache,\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tgetBlocksWithParentsClientIds( updatedBlockUids )\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\t}\n\t\tcase 'MOVE_BLOCKS_UP':\n\t\tcase 'MOVE_BLOCKS_DOWN': {\n\t\t\tconst updatedBlockUids = [];\n\t\t\tif ( action.rootClientId ) {\n\t\t\t\tupdatedBlockUids.push( action.rootClientId );\n\t\t\t}\n\t\t\tnewState.cache = {\n\t\t\t\t...newState.cache,\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tgetBlocksWithParentsClientIds( updatedBlockUids )\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\t}\n\t\tcase 'SAVE_REUSABLE_BLOCK_SUCCESS': {\n\t\t\tconst updatedBlockUids = keys(\n\t\t\t\tomitBy( newState.attributes, ( attributes, clientId ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tnewState.byClientId[ clientId ].name !== 'core/block' ||\n\t\t\t\t\t\tattributes.ref !== action.updatedId\n\t\t\t\t\t);\n\t\t\t\t} )\n\t\t\t);\n\n\t\t\tnewState.cache = {\n\t\t\t\t...newState.cache,\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tgetBlocksWithParentsClientIds( updatedBlockUids )\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\t}\n\n\treturn newState;\n};\n\n/**\n * Higher-order reducer intended to augment the blocks reducer, assigning an\n * `isPersistentChange` property value corresponding to whether a change in\n * state can be considered as persistent. All changes are considered persistent\n * except when updating the same block attribute as in the previous action.\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nfunction withPersistentBlockChange( reducer ) {\n\tlet lastAction;\n\tlet markNextChangeAsNotPersistent = false;\n\n\treturn ( state, action ) => {\n\t\tlet nextState = reducer( state, action );\n\n\t\tconst isExplicitPersistentChange =\n\t\t\taction.type === 'MARK_LAST_CHANGE_AS_PERSISTENT' ||\n\t\t\tmarkNextChangeAsNotPersistent;\n\n\t\t// Defer to previous state value (or default) unless changing or\n\t\t// explicitly marking as persistent.\n\t\tif ( state === nextState && ! isExplicitPersistentChange ) {\n\t\t\tmarkNextChangeAsNotPersistent =\n\t\t\t\taction.type === 'MARK_NEXT_CHANGE_AS_NOT_PERSISTENT';\n\n\t\t\tconst nextIsPersistentChange = get(\n\t\t\t\tstate,\n\t\t\t\t[ 'isPersistentChange' ],\n\t\t\t\ttrue\n\t\t\t);\n\t\t\tif ( state.isPersistentChange === nextIsPersistentChange ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...nextState,\n\t\t\t\tisPersistentChange: nextIsPersistentChange,\n\t\t\t};\n\t\t}\n\n\t\tnextState = {\n\t\t\t...nextState,\n\t\t\tisPersistentChange: isExplicitPersistentChange\n\t\t\t\t? ! markNextChangeAsNotPersistent\n\t\t\t\t: ! isUpdatingSameBlockAttribute( action, lastAction ),\n\t\t};\n\n\t\t// In comparing against the previous action, consider only those which\n\t\t// would have qualified as one which would have been ignored or not\n\t\t// have resulted in a changed state.\n\t\tlastAction = action;\n\t\tmarkNextChangeAsNotPersistent =\n\t\t\taction.type === 'MARK_NEXT_CHANGE_AS_NOT_PERSISTENT';\n\n\t\treturn nextState;\n\t};\n}\n\n/**\n * Higher-order reducer intended to augment the blocks reducer, assigning an\n * `isIgnoredChange` property value corresponding to whether a change in state\n * can be considered as ignored. A change is considered ignored when the result\n * of an action not incurred by direct user interaction.\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nfunction withIgnoredBlockChange( reducer ) {\n\t/**\n\t * Set of action types for which a blocks state change should be ignored.\n\t *\n\t * @type {Set}\n\t */\n\tconst IGNORED_ACTION_TYPES = new Set( [ 'RECEIVE_BLOCKS' ] );\n\n\treturn ( state, action ) => {\n\t\tconst nextState = reducer( state, action );\n\n\t\tif ( nextState !== state ) {\n\t\t\tnextState.isIgnoredChange = IGNORED_ACTION_TYPES.has( action.type );\n\t\t}\n\n\t\treturn nextState;\n\t};\n}\n\n/**\n * Higher-order reducer targeting the combined blocks reducer, augmenting\n * block client IDs in remove action to include cascade of inner blocks.\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nconst withInnerBlocksRemoveCascade = ( reducer ) => ( state, action ) => {\n\tconst getAllChildren = ( clientIds ) => {\n\t\tlet result = clientIds;\n\t\tfor ( let i = 0; i < result.length; i++ ) {\n\t\t\tif ( ! state.order[ result[ i ] ] ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( result === clientIds ) {\n\t\t\t\tresult = [ ...result ];\n\t\t\t}\n\n\t\t\tresult.push( ...state.order[ result[ i ] ] );\n\t\t}\n\t\treturn result;\n\t};\n\n\tif ( state ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'REMOVE_BLOCKS':\n\t\t\t\taction = {\n\t\t\t\t\t...action,\n\t\t\t\t\ttype: 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN',\n\t\t\t\t\tremovedClientIds: getAllChildren( action.clientIds ),\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 'REPLACE_BLOCKS':\n\t\t\t\taction = {\n\t\t\t\t\t...action,\n\t\t\t\t\ttype: 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN',\n\t\t\t\t\treplacedClientIds: getAllChildren( action.clientIds ),\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn reducer( state, action );\n};\n\n/**\n * Higher-order reducer which targets the combined blocks reducer and handles\n * the `RESET_BLOCKS` action. When dispatched, this action will replace all\n * blocks that exist in the post, leaving blocks that exist only in state (e.g.\n * reusable blocks) alone.\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nconst withBlockReset = ( reducer ) => ( state, action ) => {\n\tif ( state && action.type === 'RESET_BLOCKS' ) {\n\t\tconst visibleClientIds = getNestedBlockClientIds( state.order );\n\t\treturn {\n\t\t\t...state,\n\t\t\tbyClientId: {\n\t\t\t\t...omit( state.byClientId, visibleClientIds ),\n\t\t\t\t...getFlattenedBlocksWithoutAttributes( action.blocks ),\n\t\t\t},\n\t\t\tattributes: {\n\t\t\t\t...omit( state.attributes, visibleClientIds ),\n\t\t\t\t...getFlattenedBlockAttributes( action.blocks ),\n\t\t\t},\n\t\t\torder: {\n\t\t\t\t...omit( state.order, visibleClientIds ),\n\t\t\t\t...mapBlockOrder( action.blocks ),\n\t\t\t},\n\t\t\tparents: {\n\t\t\t\t...omit( state.parents, visibleClientIds ),\n\t\t\t\t...mapBlockParents( action.blocks ),\n\t\t\t},\n\t\t\tcache: {\n\t\t\t\t...omit( state.cache, visibleClientIds ),\n\t\t\t\t...mapValues( flattenBlocks( action.blocks ), () => ( {} ) ),\n\t\t\t},\n\t\t};\n\t}\n\n\treturn reducer( state, action );\n};\n\n/**\n * Higher-order reducer which targets the combined blocks reducer and handles\n * the `REPLACE_INNER_BLOCKS` action. When dispatched, this action the state should become equivalent\n * to the execution of a `REMOVE_BLOCKS` action containing all the child's of the root block followed by\n * the execution of `INSERT_BLOCKS` with the new blocks.\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nconst withReplaceInnerBlocks = ( reducer ) => ( state, action ) => {\n\tif ( action.type !== 'REPLACE_INNER_BLOCKS' ) {\n\t\treturn reducer( state, action );\n\t}\n\tlet stateAfterBlocksRemoval = state;\n\tif ( state.order[ action.rootClientId ] ) {\n\t\tstateAfterBlocksRemoval = reducer( stateAfterBlocksRemoval, {\n\t\t\ttype: 'REMOVE_BLOCKS',\n\t\t\tclientIds: state.order[ action.rootClientId ],\n\t\t} );\n\t}\n\tlet stateAfterInsert = stateAfterBlocksRemoval;\n\tif ( action.blocks.length ) {\n\t\tstateAfterInsert = reducer( stateAfterInsert, {\n\t\t\t...action,\n\t\t\ttype: 'INSERT_BLOCKS',\n\t\t\tindex: 0,\n\t\t} );\n\t}\n\treturn stateAfterInsert;\n};\n\n/**\n * Higher-order reducer which targets the combined blocks reducer and handles\n * the `SAVE_REUSABLE_BLOCK_SUCCESS` action. This action can't be handled by\n * regular reducers and needs a higher-order reducer since it needs access to\n * both `byClientId` and `attributes` simultaneously.\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nconst withSaveReusableBlock = ( reducer ) => ( state, action ) => {\n\tif ( state && action.type === 'SAVE_REUSABLE_BLOCK_SUCCESS' ) {\n\t\tconst { id, updatedId } = action;\n\n\t\t// If a temporary reusable block is saved, we swap the temporary id with the final one\n\t\tif ( id === updatedId ) {\n\t\t\treturn state;\n\t\t}\n\n\t\tstate = { ...state };\n\n\t\tstate.attributes = mapValues(\n\t\t\tstate.attributes,\n\t\t\t( attributes, clientId ) => {\n\t\t\t\tconst { name } = state.byClientId[ clientId ];\n\t\t\t\tif ( name === 'core/block' && attributes.ref === id ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...attributes,\n\t\t\t\t\t\tref: updatedId,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn attributes;\n\t\t\t}\n\t\t);\n\t}\n\n\treturn reducer( state, action );\n};\n\n/**\n * Reducer returning the blocks state.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const blocks = flow(\n\tcombineReducers,\n\twithSaveReusableBlock, // needs to be before withBlockCache\n\twithBlockCache, // needs to be before withInnerBlocksRemoveCascade\n\twithInnerBlocksRemoveCascade,\n\twithReplaceInnerBlocks, // needs to be after withInnerBlocksRemoveCascade\n\twithBlockReset,\n\twithPersistentBlockChange,\n\twithIgnoredBlockChange\n)( {\n\tbyClientId( state = {}, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'RESET_BLOCKS':\n\t\t\t\treturn getFlattenedBlocksWithoutAttributes( action.blocks );\n\n\t\t\tcase 'RECEIVE_BLOCKS':\n\t\t\tcase 'INSERT_BLOCKS':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...getFlattenedBlocksWithoutAttributes( action.blocks ),\n\t\t\t\t};\n\n\t\t\tcase 'UPDATE_BLOCK':\n\t\t\t\t// Ignore updates if block isn't known\n\t\t\t\tif ( ! state[ action.clientId ] ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\t// Do nothing if only attributes change.\n\t\t\t\tconst changes = omit( action.updates, 'attributes' );\n\t\t\t\tif ( isEmpty( changes ) ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ action.clientId ]: {\n\t\t\t\t\t\t...state[ action.clientId ],\n\t\t\t\t\t\t...changes,\n\t\t\t\t\t},\n\t\t\t\t};\n\n\t\t\tcase 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\tif ( ! action.blocks ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...omit( state, action.replacedClientIds ),\n\t\t\t\t\t...getFlattenedBlocksWithoutAttributes( action.blocks ),\n\t\t\t\t};\n\n\t\t\tcase 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\treturn omit( state, action.removedClientIds );\n\t\t}\n\n\t\treturn state;\n\t},\n\n\tattributes( state = {}, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'RESET_BLOCKS':\n\t\t\t\treturn getFlattenedBlockAttributes( action.blocks );\n\n\t\t\tcase 'RECEIVE_BLOCKS':\n\t\t\tcase 'INSERT_BLOCKS':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...getFlattenedBlockAttributes( action.blocks ),\n\t\t\t\t};\n\n\t\t\tcase 'UPDATE_BLOCK':\n\t\t\t\t// Ignore updates if block isn't known or there are no attribute changes.\n\t\t\t\tif (\n\t\t\t\t\t! state[ action.clientId ] ||\n\t\t\t\t\t! action.updates.attributes\n\t\t\t\t) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ action.clientId ]: {\n\t\t\t\t\t\t...state[ action.clientId ],\n\t\t\t\t\t\t...action.updates.attributes,\n\t\t\t\t\t},\n\t\t\t\t};\n\n\t\t\tcase 'UPDATE_BLOCK_ATTRIBUTES':\n\t\t\t\t// Ignore updates if block isn't known\n\t\t\t\tif ( ! state[ action.clientId ] ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\t// Consider as updates only changed values\n\t\t\t\tconst nextAttributes = reduce(\n\t\t\t\t\taction.attributes,\n\t\t\t\t\t( result, value, key ) => {\n\t\t\t\t\t\tif ( value !== result[ key ] ) {\n\t\t\t\t\t\t\tresult = getMutateSafeObject(\n\t\t\t\t\t\t\t\tstate[ action.clientId ],\n\t\t\t\t\t\t\t\tresult\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tresult[ key ] = value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},\n\t\t\t\t\tstate[ action.clientId ]\n\t\t\t\t);\n\n\t\t\t\t// Skip update if nothing has been changed. The reference will\n\t\t\t\t// match the original block if `reduce` had no changed values.\n\t\t\t\tif ( nextAttributes === state[ action.clientId ] ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\t// Otherwise replace attributes in state\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ action.clientId ]: nextAttributes,\n\t\t\t\t};\n\n\t\t\tcase 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\tif ( ! action.blocks ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...omit( state, action.replacedClientIds ),\n\t\t\t\t\t...getFlattenedBlockAttributes( action.blocks ),\n\t\t\t\t};\n\n\t\t\tcase 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\treturn omit( state, action.removedClientIds );\n\t\t}\n\n\t\treturn state;\n\t},\n\n\torder( state = {}, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'RESET_BLOCKS':\n\t\t\t\treturn mapBlockOrder( action.blocks );\n\n\t\t\tcase 'RECEIVE_BLOCKS':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...omit( mapBlockOrder( action.blocks ), '' ),\n\t\t\t\t};\n\n\t\t\tcase 'INSERT_BLOCKS': {\n\t\t\t\tconst { rootClientId = '' } = action;\n\t\t\t\tconst subState = state[ rootClientId ] || [];\n\t\t\t\tconst mappedBlocks = mapBlockOrder(\n\t\t\t\t\taction.blocks,\n\t\t\t\t\trootClientId\n\t\t\t\t);\n\t\t\t\tconst { index = subState.length } = action;\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...mappedBlocks,\n\t\t\t\t\t[ rootClientId ]: insertAt(\n\t\t\t\t\t\tsubState,\n\t\t\t\t\t\tmappedBlocks[ rootClientId ],\n\t\t\t\t\t\tindex\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'MOVE_BLOCK_TO_POSITION': {\n\t\t\t\tconst {\n\t\t\t\t\tfromRootClientId = '',\n\t\t\t\t\ttoRootClientId = '',\n\t\t\t\t\tclientId,\n\t\t\t\t} = action;\n\t\t\t\tconst { index = state[ toRootClientId ].length } = action;\n\n\t\t\t\t// Moving inside the same parent block\n\t\t\t\tif ( fromRootClientId === toRootClientId ) {\n\t\t\t\t\tconst subState = state[ toRootClientId ];\n\t\t\t\t\tconst fromIndex = subState.indexOf( clientId );\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...state,\n\t\t\t\t\t\t[ toRootClientId ]: moveTo(\n\t\t\t\t\t\t\tstate[ toRootClientId ],\n\t\t\t\t\t\t\tfromIndex,\n\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t),\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Moving from a parent block to another\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ fromRootClientId ]: without(\n\t\t\t\t\t\tstate[ fromRootClientId ],\n\t\t\t\t\t\tclientId\n\t\t\t\t\t),\n\t\t\t\t\t[ toRootClientId ]: insertAt(\n\t\t\t\t\t\tstate[ toRootClientId ],\n\t\t\t\t\t\tclientId,\n\t\t\t\t\t\tindex\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'MOVE_BLOCKS_UP': {\n\t\t\t\tconst { clientIds, rootClientId = '' } = action;\n\t\t\t\tconst firstClientId = first( clientIds );\n\t\t\t\tconst subState = state[ rootClientId ];\n\n\t\t\t\tif (\n\t\t\t\t\t! subState.length ||\n\t\t\t\t\tfirstClientId === first( subState )\n\t\t\t\t) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\tconst firstIndex = subState.indexOf( firstClientId );\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ rootClientId ]: moveTo(\n\t\t\t\t\t\tsubState,\n\t\t\t\t\t\tfirstIndex,\n\t\t\t\t\t\tfirstIndex - 1,\n\t\t\t\t\t\tclientIds.length\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'MOVE_BLOCKS_DOWN': {\n\t\t\t\tconst { clientIds, rootClientId = '' } = action;\n\t\t\t\tconst firstClientId = first( clientIds );\n\t\t\t\tconst lastClientId = last( clientIds );\n\t\t\t\tconst subState = state[ rootClientId ];\n\n\t\t\t\tif ( ! subState.length || lastClientId === last( subState ) ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\tconst firstIndex = subState.indexOf( firstClientId );\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ rootClientId ]: moveTo(\n\t\t\t\t\t\tsubState,\n\t\t\t\t\t\tfirstIndex,\n\t\t\t\t\t\tfirstIndex + 1,\n\t\t\t\t\t\tclientIds.length\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN': {\n\t\t\t\tconst { clientIds } = action;\n\t\t\t\tif ( ! action.blocks ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\tconst mappedBlocks = mapBlockOrder( action.blocks );\n\n\t\t\t\treturn flow( [\n\t\t\t\t\t( nextState ) =>\n\t\t\t\t\t\tomit( nextState, action.replacedClientIds ),\n\t\t\t\t\t( nextState ) => ( {\n\t\t\t\t\t\t...nextState,\n\t\t\t\t\t\t...omit( mappedBlocks, '' ),\n\t\t\t\t\t} ),\n\t\t\t\t\t( nextState ) =>\n\t\t\t\t\t\tmapValues( nextState, ( subState ) =>\n\t\t\t\t\t\t\treduce(\n\t\t\t\t\t\t\t\tsubState,\n\t\t\t\t\t\t\t\t( result, clientId ) => {\n\t\t\t\t\t\t\t\t\tif ( clientId === clientIds[ 0 ] ) {\n\t\t\t\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t\t\t\t...result,\n\t\t\t\t\t\t\t\t\t\t\t...mappedBlocks[ '' ],\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tclientIds.indexOf( clientId ) === -1\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tresult.push( clientId );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t] )( state );\n\t\t\t}\n\n\t\t\tcase 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\treturn flow( [\n\t\t\t\t\t// Remove inner block ordering for removed blocks\n\t\t\t\t\t( nextState ) => omit( nextState, action.removedClientIds ),\n\n\t\t\t\t\t// Remove deleted blocks from other blocks' orderings\n\t\t\t\t\t( nextState ) =>\n\t\t\t\t\t\tmapValues( nextState, ( subState ) =>\n\t\t\t\t\t\t\twithout( subState, ...action.removedClientIds )\n\t\t\t\t\t\t),\n\t\t\t\t] )( state );\n\t\t}\n\n\t\treturn state;\n\t},\n\n\t// While technically redundant data as the inverse of `order`, it serves as\n\t// an optimization for the selectors which derive the ancestry of a block.\n\tparents( state = {}, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'RESET_BLOCKS':\n\t\t\t\treturn mapBlockParents( action.blocks );\n\n\t\t\tcase 'RECEIVE_BLOCKS':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...mapBlockParents( action.blocks ),\n\t\t\t\t};\n\n\t\t\tcase 'INSERT_BLOCKS':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...mapBlockParents(\n\t\t\t\t\t\taction.blocks,\n\t\t\t\t\t\taction.rootClientId || ''\n\t\t\t\t\t),\n\t\t\t\t};\n\n\t\t\tcase 'MOVE_BLOCK_TO_POSITION': {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ action.clientId ]: action.toRootClientId || '',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\treturn {\n\t\t\t\t\t...omit( state, action.replacedClientIds ),\n\t\t\t\t\t...mapBlockParents(\n\t\t\t\t\t\taction.blocks,\n\t\t\t\t\t\tstate[ action.clientIds[ 0 ] ]\n\t\t\t\t\t),\n\t\t\t\t};\n\n\t\t\tcase 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\treturn omit( state, action.removedClientIds );\n\t\t}\n\n\t\treturn state;\n\t},\n} );\n\n/**\n * Reducer returning typing state.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function isTyping( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'START_TYPING':\n\t\t\treturn true;\n\n\t\tcase 'STOP_TYPING':\n\t\t\treturn false;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning dragging state.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function isDraggingBlocks( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'START_DRAGGING_BLOCKS':\n\t\t\treturn true;\n\n\t\tcase 'STOP_DRAGGING_BLOCKS':\n\t\t\treturn false;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning whether the caret is within formatted text.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function isCaretWithinFormattedText( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'ENTER_FORMATTED_TEXT':\n\t\t\treturn true;\n\n\t\tcase 'EXIT_FORMATTED_TEXT':\n\t\t\treturn false;\n\t}\n\n\treturn state;\n}\n\n/**\n * Internal helper reducer for selectionStart and selectionEnd. Can hold a block\n * selection, represented by an object with property clientId.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nfunction selection( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'CLEAR_SELECTED_BLOCK': {\n\t\t\tif ( state.clientId ) {\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\treturn state;\n\t\t}\n\t\tcase 'SELECT_BLOCK':\n\t\t\tif ( action.clientId === state.clientId ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn { clientId: action.clientId };\n\t\tcase 'REPLACE_INNER_BLOCKS': // REPLACE_INNER_BLOCKS and INSERT_BLOCKS should follow the same logic.\n\t\tcase 'INSERT_BLOCKS': {\n\t\t\tif ( ! action.updateSelection ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn { clientId: action.blocks[ 0 ].clientId };\n\t\t}\n\t\tcase 'REMOVE_BLOCKS':\n\t\t\tif (\n\t\t\t\t! action.clientIds ||\n\t\t\t\t! action.clientIds.length ||\n\t\t\t\taction.clientIds.indexOf( state.clientId ) === -1\n\t\t\t) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {};\n\t\tcase 'REPLACE_BLOCKS': {\n\t\t\tif ( action.clientIds.indexOf( state.clientId ) === -1 ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tconst indexToSelect =\n\t\t\t\taction.indexToSelect || action.blocks.length - 1;\n\t\t\tconst blockToSelect = action.blocks[ indexToSelect ];\n\n\t\t\tif ( ! blockToSelect ) {\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tif ( blockToSelect.clientId === state.clientId ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn { clientId: blockToSelect.clientId };\n\t\t}\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the block selection's start.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function selectionStart( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SELECTION_CHANGE':\n\t\t\treturn {\n\t\t\t\tclientId: action.clientId,\n\t\t\t\tattributeKey: action.attributeKey,\n\t\t\t\toffset: action.startOffset,\n\t\t\t};\n\t\tcase 'RESET_SELECTION':\n\t\t\treturn action.selectionStart;\n\t\tcase 'MULTI_SELECT':\n\t\t\treturn { clientId: action.start };\n\t}\n\n\treturn selection( state, action );\n}\n\n/**\n * Reducer returning the block selection's end.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function selectionEnd( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SELECTION_CHANGE':\n\t\t\treturn {\n\t\t\t\tclientId: action.clientId,\n\t\t\t\tattributeKey: action.attributeKey,\n\t\t\t\toffset: action.endOffset,\n\t\t\t};\n\t\tcase 'RESET_SELECTION':\n\t\t\treturn action.selectionEnd;\n\t\tcase 'MULTI_SELECT':\n\t\t\treturn { clientId: action.end };\n\t}\n\n\treturn selection( state, action );\n}\n\n/**\n * Reducer returning whether the user is multi-selecting.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function isMultiSelecting( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'START_MULTI_SELECT':\n\t\t\treturn true;\n\n\t\tcase 'STOP_MULTI_SELECT':\n\t\t\treturn false;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning whether selection is enabled.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function isSelectionEnabled( state = true, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'TOGGLE_SELECTION':\n\t\t\treturn action.isSelectionEnabled;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the intial block selection.\n *\n * Currently this in only used to restore the selection after block deletion.\n * This reducer should eventually be removed in favour of setting selection\n * directly.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {?number} Initial position: -1 or undefined.\n */\nexport function initialPosition( state, action ) {\n\tif ( action.type === 'SELECT_BLOCK' ) {\n\t\treturn action.initialPosition;\n\t} else if ( action.type === 'REMOVE_BLOCKS' ) {\n\t\treturn state;\n\t}\n\n\t// Reset the state by default (for any action not handled).\n}\n\nexport function blocksMode( state = {}, action ) {\n\tif ( action.type === 'TOGGLE_BLOCK_MODE' ) {\n\t\tconst { clientId } = action;\n\t\treturn {\n\t\t\t...state,\n\t\t\t[ clientId ]:\n\t\t\t\tstate[ clientId ] && state[ clientId ] === 'html'\n\t\t\t\t\t? 'visual'\n\t\t\t\t\t: 'html',\n\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the block insertion point visibility, either null if there\n * is not an explicit insertion point assigned, or an object of its `index` and\n * `rootClientId`.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function insertionPoint( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SHOW_INSERTION_POINT':\n\t\t\tconst { rootClientId, index } = action;\n\t\t\treturn { rootClientId, index };\n\n\t\tcase 'HIDE_INSERTION_POINT':\n\t\t\treturn null;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning whether the post blocks match the defined template or not.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function template( state = { isValid: true }, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_TEMPLATE_VALIDITY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisValid: action.isValid,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the editor setting.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function settings( state = SETTINGS_DEFAULTS, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_SETTINGS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.settings,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the user preferences.\n *\n * @param {Object}  state                 Current state.\n * @param {Object}  action                Dispatched action.\n *\n * @return {string} Updated state.\n */\nexport function preferences( state = PREFERENCES_DEFAULTS, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'INSERT_BLOCKS':\n\t\tcase 'REPLACE_BLOCKS':\n\t\t\treturn action.blocks.reduce( ( prevState, block ) => {\n\t\t\t\tlet id = block.name;\n\t\t\t\tconst insert = { name: block.name };\n\t\t\t\tif ( isReusableBlock( block ) ) {\n\t\t\t\t\tinsert.ref = block.attributes.ref;\n\t\t\t\t\tid += '/' + block.attributes.ref;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...prevState,\n\t\t\t\t\tinsertUsage: {\n\t\t\t\t\t\t...prevState.insertUsage,\n\t\t\t\t\t\t[ id ]: {\n\t\t\t\t\t\t\ttime: action.time,\n\t\t\t\t\t\t\tcount: prevState.insertUsage[ id ]\n\t\t\t\t\t\t\t\t? prevState.insertUsage[ id ].count + 1\n\t\t\t\t\t\t\t\t: 1,\n\t\t\t\t\t\t\tinsert,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}, state );\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning an object where each key is a block client ID, its value\n * representing the settings for its nested blocks.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const blockListSettings = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\t// Even if the replaced blocks have the same client ID, our logic\n\t\t// should correct the state.\n\t\tcase 'REPLACE_BLOCKS':\n\t\tcase 'REMOVE_BLOCKS': {\n\t\t\treturn omit( state, action.clientIds );\n\t\t}\n\t\tcase 'UPDATE_BLOCK_LIST_SETTINGS': {\n\t\t\tconst { clientId } = action;\n\t\t\tif ( ! action.settings ) {\n\t\t\t\tif ( state.hasOwnProperty( clientId ) ) {\n\t\t\t\t\treturn omit( state, clientId );\n\t\t\t\t}\n\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tif ( isEqual( state[ clientId ], action.settings ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ clientId ]: action.settings,\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n};\n\n/**\n * Reducer returning whether the navigation mode is enabled or not.\n *\n * @param {string} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {string} Updated state.\n */\nexport function isNavigationMode( state = false, action ) {\n\t// Let inserting block always trigger Edit mode.\n\tif ( action.type === 'INSERT_BLOCKS' ) {\n\t\treturn false;\n\t}\n\n\tif ( action.type === 'SET_NAVIGATION_MODE' ) {\n\t\treturn action.isNavigationMode;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer return an updated state representing the most recent block attribute\n * update. The state is structured as an object where the keys represent the\n * client IDs of blocks, the values a subset of attributes from the most recent\n * block update. The state is always reset to null if the last action is\n * anything other than an attributes update.\n *\n * @param {Object<string,Object>} state  Current state.\n * @param {Object}                action Action object.\n *\n * @return {[string,Object]} Updated state.\n */\nexport function lastBlockAttributesChange( state, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_BLOCK':\n\t\t\tif ( ! action.updates.attributes ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn { [ action.clientId ]: action.updates.attributes };\n\n\t\tcase 'UPDATE_BLOCK_ATTRIBUTES':\n\t\t\treturn { [ action.clientId ]: action.attributes };\n\t}\n\n\treturn null;\n}\n\n/**\n * Reducer returning automatic change state.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {string} Updated state.\n */\nexport function automaticChangeStatus( state, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'MARK_AUTOMATIC_CHANGE':\n\t\t\treturn 'pending';\n\t\tcase 'MARK_AUTOMATIC_CHANGE_FINAL':\n\t\t\tif ( state === 'pending' ) {\n\t\t\t\treturn 'final';\n\t\t\t}\n\n\t\t\treturn;\n\t\tcase 'SELECTION_CHANGE':\n\t\t\t// As long as the state is not final, ignore any selection changes.\n\t\t\tif ( state !== 'final' ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn;\n\t\t// Undoing an automatic change should still be possible after mouse\n\t\t// move.\n\t\tcase 'STOP_TYPING':\n\t\t\treturn state;\n\t}\n\n\t// Reset the state by default (for any action not handled).\n}\n\nexport default combineReducers( {\n\tblocks,\n\tisTyping,\n\tisDraggingBlocks,\n\tisCaretWithinFormattedText,\n\tselectionStart,\n\tselectionEnd,\n\tisMultiSelecting,\n\tisSelectionEnabled,\n\tinitialPosition,\n\tblocksMode,\n\tblockListSettings,\n\tinsertionPoint,\n\ttemplate,\n\tsettings,\n\tpreferences,\n\tlastBlockAttributesChange,\n\tisNavigationMode,\n\tautomaticChangeStatus,\n} );\n","/**\n * External dependencies\n */\nimport {\n\tcastArray,\n\tflatMap,\n\tfirst,\n\tget,\n\tincludes,\n\tisArray,\n\tisBoolean,\n\tlast,\n\tmap,\n\torderBy,\n\treduce,\n\tsome,\n\tfind,\n\tfilter,\n} from 'lodash';\nimport createSelector from 'rememo';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tgetBlockType,\n\tgetBlockTypes,\n\thasBlockSupport,\n\tparse,\n} from '@wordpress/blocks';\nimport { SVG, Rect, G, Path } from '@wordpress/components';\n\n/**\n * A block selection object.\n *\n * @typedef {Object} WPBlockSelection\n *\n * @property {string} clientId     A block client ID.\n * @property {string} attributeKey A block attribute key.\n * @property {number} offset       An attribute value offset, based on the rich\n *                                 text value. See `wp.richText.create`.\n */\n\n// Module constants\n\n/**\n * @private\n */\nexport const INSERTER_UTILITY_HIGH = 3;\n\n/**\n * @private\n */\nexport const INSERTER_UTILITY_MEDIUM = 2;\n\n/**\n * @private\n */\nexport const INSERTER_UTILITY_LOW = 1;\n\n/**\n * @private\n */\nexport const INSERTER_UTILITY_NONE = 0;\n\nconst MILLISECONDS_PER_HOUR = 3600 * 1000;\nconst MILLISECONDS_PER_DAY = 24 * 3600 * 1000;\nconst MILLISECONDS_PER_WEEK = 7 * 24 * 3600 * 1000;\nconst templateIcon = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Rect x=\"0\" fill=\"none\" width=\"24\" height=\"24\" />\n\t\t<G>\n\t\t\t<Path d=\"M19 3H5c-1.105 0-2 .895-2 2v14c0 1.105.895 2 2 2h14c1.105 0 2-.895 2-2V5c0-1.105-.895-2-2-2zM6 6h5v5H6V6zm4.5 13C9.12 19 8 17.88 8 16.5S9.12 14 10.5 14s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zm3-6l3-5 3 5h-6z\" />\n\t\t</G>\n\t</SVG>\n);\n\n/**\n * Shared reference to an empty array for cases where it is important to avoid\n * returning a new array reference on every invocation, as in a connected or\n * other pure component which performs `shouldComponentUpdate` check on props.\n * This should be used as a last resort, since the normalized data should be\n * maintained by the reducer result in state.\n *\n * @type {Array}\n */\nconst EMPTY_ARRAY = [];\n\n/**\n * Returns a block's name given its client ID, or null if no block exists with\n * the client ID.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {string} Block name.\n */\nexport function getBlockName( state, clientId ) {\n\tconst block = state.blocks.byClientId[ clientId ];\n\treturn block ? block.name : null;\n}\n\n/**\n * Returns whether a block is valid or not.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {boolean} Is Valid.\n */\nexport function isBlockValid( state, clientId ) {\n\tconst block = state.blocks.byClientId[ clientId ];\n\treturn !! block && block.isValid;\n}\n\n/**\n * Returns a block's attributes given its client ID, or null if no block exists with\n * the client ID.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {Object?} Block attributes.\n */\nexport function getBlockAttributes( state, clientId ) {\n\tconst block = state.blocks.byClientId[ clientId ];\n\tif ( ! block ) {\n\t\treturn null;\n\t}\n\n\treturn state.blocks.attributes[ clientId ];\n}\n\n/**\n * Returns a block given its client ID. This is a parsed copy of the block,\n * containing its `blockName`, `clientId`, and current `attributes` state. This\n * is not the block's registration settings, which must be retrieved from the\n * blocks module registration store.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {Object} Parsed block object.\n */\nexport const getBlock = createSelector(\n\t( state, clientId ) => {\n\t\tconst block = state.blocks.byClientId[ clientId ];\n\t\tif ( ! block ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\t...block,\n\t\t\tattributes: getBlockAttributes( state, clientId ),\n\t\t\tinnerBlocks: getBlocks( state, clientId ),\n\t\t};\n\t},\n\t( state, clientId ) => [\n\t\t// Normally, we'd have both `getBlockAttributes` dependencies and\n\t\t// `getBlocks` (children) dependancies here but for performance reasons\n\t\t// we use a denormalized cache key computed in the reducer that takes both\n\t\t// the attributes and inner blocks into account. The value of the cache key\n\t\t// is being changed whenever one of these dependencies is out of date.\n\t\tstate.blocks.cache[ clientId ],\n\t]\n);\n\nexport const __unstableGetBlockWithoutInnerBlocks = createSelector(\n\t( state, clientId ) => {\n\t\tconst block = state.blocks.byClientId[ clientId ];\n\t\tif ( ! block ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\t...block,\n\t\t\tattributes: getBlockAttributes( state, clientId ),\n\t\t};\n\t},\n\t( state, clientId ) => [\n\t\tstate.blocks.byClientId[ clientId ],\n\t\tstate.blocks.attributes[ clientId ],\n\t]\n);\n\n/**\n * Returns all block objects for the current post being edited as an array in\n * the order they appear in the post.\n *\n * Note: It's important to memoize this selector to avoid return a new instance\n * on each call\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {Object[]} Post blocks.\n */\nexport const getBlocks = createSelector(\n\t( state, rootClientId ) => {\n\t\treturn map( getBlockOrder( state, rootClientId ), ( clientId ) =>\n\t\t\tgetBlock( state, clientId )\n\t\t);\n\t},\n\t( state ) => [\n\t\tstate.blocks.byClientId,\n\t\tstate.blocks.order,\n\t\tstate.blocks.attributes,\n\t]\n);\n\n/**\n * Returns an array containing the clientIds of all descendants\n * of the blocks given.\n *\n * @param {Object} state Global application state.\n * @param {Array} clientIds Array of blocks to inspect.\n *\n * @return {Array} ids of descendants.\n */\nexport const getClientIdsOfDescendants = ( state, clientIds ) =>\n\tflatMap( clientIds, ( clientId ) => {\n\t\tconst descendants = getBlockOrder( state, clientId );\n\t\treturn [\n\t\t\t...descendants,\n\t\t\t...getClientIdsOfDescendants( state, descendants ),\n\t\t];\n\t} );\n\n/**\n * Returns an array containing the clientIds of the top-level blocks\n * and their descendants of any depth (for nested blocks).\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} ids of top-level and descendant blocks.\n */\nexport const getClientIdsWithDescendants = createSelector(\n\t( state ) => {\n\t\tconst topLevelIds = getBlockOrder( state );\n\t\treturn [\n\t\t\t...topLevelIds,\n\t\t\t...getClientIdsOfDescendants( state, topLevelIds ),\n\t\t];\n\t},\n\t( state ) => [ state.blocks.order ]\n);\n\n/**\n * Returns the total number of blocks, or the total number of blocks with a specific name in a post.\n * The number returned includes nested blocks.\n *\n * @param {Object}  state     Global application state.\n * @param {?string} blockName Optional block name, if specified only blocks of that type will be counted.\n *\n * @return {number} Number of blocks in the post, or number of blocks with name equal to blockName.\n */\nexport const getGlobalBlockCount = createSelector(\n\t( state, blockName ) => {\n\t\tconst clientIds = getClientIdsWithDescendants( state );\n\t\tif ( ! blockName ) {\n\t\t\treturn clientIds.length;\n\t\t}\n\t\treturn reduce(\n\t\t\tclientIds,\n\t\t\t( accumulator, clientId ) => {\n\t\t\t\tconst block = state.blocks.byClientId[ clientId ];\n\t\t\t\treturn block.name === blockName ? accumulator + 1 : accumulator;\n\t\t\t},\n\t\t\t0\n\t\t);\n\t},\n\t( state ) => [ state.blocks.order, state.blocks.byClientId ]\n);\n\n/**\n * Given an array of block client IDs, returns the corresponding array of block\n * objects.\n *\n * @param {Object}   state     Editor state.\n * @param {string[]} clientIds Client IDs for which blocks are to be returned.\n *\n * @return {WPBlock[]} Block objects.\n */\nexport const getBlocksByClientId = createSelector(\n\t( state, clientIds ) =>\n\t\tmap( castArray( clientIds ), ( clientId ) =>\n\t\t\tgetBlock( state, clientId )\n\t\t),\n\t( state ) => [\n\t\tstate.blocks.byClientId,\n\t\tstate.blocks.order,\n\t\tstate.blocks.attributes,\n\t]\n);\n\n/**\n * Returns the number of blocks currently present in the post.\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {number} Number of blocks in the post.\n */\nexport function getBlockCount( state, rootClientId ) {\n\treturn getBlockOrder( state, rootClientId ).length;\n}\n\n/**\n * Returns the current selection start block client ID, attribute key and text\n * offset.\n *\n * @param {Object} state Block editor state.\n *\n * @return {WPBlockSelection} Selection start information.\n */\nexport function getSelectionStart( state ) {\n\treturn state.selectionStart;\n}\n\n/**\n * Returns the current selection end block client ID, attribute key and text\n * offset.\n *\n * @param {Object} state Block editor state.\n *\n * @return {WPBlockSelection} Selection end information.\n */\nexport function getSelectionEnd( state ) {\n\treturn state.selectionEnd;\n}\n\n/**\n * Returns the current block selection start. This value may be null, and it\n * may represent either a singular block selection or multi-selection start.\n * A selection is singular if its start and end match.\n *\n * @param {Object} state Global application state.\n *\n * @return {?string} Client ID of block selection start.\n */\nexport function getBlockSelectionStart( state ) {\n\treturn state.selectionStart.clientId;\n}\n\n/**\n * Returns the current block selection end. This value may be null, and it\n * may represent either a singular block selection or multi-selection end.\n * A selection is singular if its start and end match.\n *\n * @param {Object} state Global application state.\n *\n * @return {?string} Client ID of block selection end.\n */\nexport function getBlockSelectionEnd( state ) {\n\treturn state.selectionEnd.clientId;\n}\n\n/**\n * Returns the number of blocks currently selected in the post.\n *\n * @param {Object} state Global application state.\n *\n * @return {number} Number of blocks selected in the post.\n */\nexport function getSelectedBlockCount( state ) {\n\tconst multiSelectedBlockCount = getMultiSelectedBlockClientIds( state )\n\t\t.length;\n\n\tif ( multiSelectedBlockCount ) {\n\t\treturn multiSelectedBlockCount;\n\t}\n\n\treturn state.selectionStart.clientId ? 1 : 0;\n}\n\n/**\n * Returns true if there is a single selected block, or false otherwise.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether a single block is selected.\n */\nexport function hasSelectedBlock( state ) {\n\tconst { selectionStart, selectionEnd } = state;\n\treturn (\n\t\t!! selectionStart.clientId &&\n\t\tselectionStart.clientId === selectionEnd.clientId\n\t);\n}\n\n/**\n * Returns the currently selected block client ID, or null if there is no\n * selected block.\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} Selected block client ID.\n */\nexport function getSelectedBlockClientId( state ) {\n\tconst { selectionStart, selectionEnd } = state;\n\tconst { clientId } = selectionStart;\n\n\tif ( ! clientId || clientId !== selectionEnd.clientId ) {\n\t\treturn null;\n\t}\n\n\treturn clientId;\n}\n\n/**\n * Returns the currently selected block, or null if there is no selected block.\n *\n * @param {Object} state Global application state.\n *\n * @return {?Object} Selected block.\n */\nexport function getSelectedBlock( state ) {\n\tconst clientId = getSelectedBlockClientId( state );\n\treturn clientId ? getBlock( state, clientId ) : null;\n}\n\n/**\n * Given a block client ID, returns the root block from which the block is\n * nested, an empty string for top-level blocks, or null if the block does not\n * exist.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block from which to find root client ID.\n *\n * @return {?string} Root client ID, if exists\n */\nexport function getBlockRootClientId( state, clientId ) {\n\treturn state.blocks.parents[ clientId ] !== undefined\n\t\t? state.blocks.parents[ clientId ]\n\t\t: null;\n}\n\n/**\n * Given a block client ID, returns the list of all its parents from top to bottom.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block from which to find root client ID.\n * @param {boolean} ascending Order results from bottom to top (true) or top to bottom (false).\n *\n * @return {Array} ClientIDs of the parent blocks.\n */\nexport const getBlockParents = createSelector(\n\t( state, clientId, ascending = false ) => {\n\t\tconst parents = [];\n\t\tlet current = clientId;\n\t\twhile ( !! state.blocks.parents[ current ] ) {\n\t\t\tcurrent = state.blocks.parents[ current ];\n\t\t\tparents.push( current );\n\t\t}\n\n\t\treturn ascending ? parents : parents.reverse();\n\t},\n\t( state ) => [ state.blocks.parents ]\n);\n\n/**\n * Given a block client ID and a block name,\n * returns the list of all its parents from top to bottom,\n * filtered by the given name.\n *\n * @param {Object} state     Editor state.\n * @param {string} clientId  Block from which to find root client ID.\n * @param {string} blockName Block name to filter.\n * @param {boolean} ascending Order results from bottom to top (true) or top to bottom (false).\n *\n * @return {Array} ClientIDs of the parent blocks.\n */\nexport const getBlockParentsByBlockName = createSelector(\n\t( state, clientId, blockName, ascending = false ) => {\n\t\tconst parents = getBlockParents( state, clientId, ascending );\n\t\treturn map(\n\t\t\tfilter(\n\t\t\t\tmap( parents, ( id ) => ( {\n\t\t\t\t\tid,\n\t\t\t\t\tname: getBlockName( state, id ),\n\t\t\t\t} ) ),\n\t\t\t\t{ name: blockName }\n\t\t\t),\n\t\t\t( { id } ) => id\n\t\t);\n\t},\n\t( state ) => [ state.blocks.parents ]\n);\n\n/**\n * Given a block client ID, returns the root of the hierarchy from which the block is nested, return the block itself for root level blocks.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block from which to find root client ID.\n *\n * @return {string} Root client ID\n */\nexport function getBlockHierarchyRootClientId( state, clientId ) {\n\tlet current = clientId;\n\tlet parent;\n\tdo {\n\t\tparent = current;\n\t\tcurrent = state.blocks.parents[ current ];\n\t} while ( current );\n\treturn parent;\n}\n\n/**\n * Given a block client ID, returns the lowest common ancestor with selected client ID.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block from which to find common ancestor client ID.\n *\n * @return {string} Common ancestor client ID or undefined\n */\nexport function getLowestCommonAncestorWithSelectedBlock( state, clientId ) {\n\tconst selectedId = getSelectedBlockClientId( state );\n\tconst clientParents = [ ...getBlockParents( state, clientId ), clientId ];\n\tconst selectedParents = [\n\t\t...getBlockParents( state, selectedId ),\n\t\tselectedId,\n\t];\n\n\tlet lowestCommonAncestor;\n\n\tconst maxDepth = Math.min( clientParents.length, selectedParents.length );\n\tfor ( let index = 0; index < maxDepth; index++ ) {\n\t\tif ( clientParents[ index ] === selectedParents[ index ] ) {\n\t\t\tlowestCommonAncestor = clientParents[ index ];\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn lowestCommonAncestor;\n}\n\n/**\n * Returns the client ID of the block adjacent one at the given reference\n * startClientId and modifier directionality. Defaults start startClientId to\n * the selected block, and direction as next block. Returns null if there is no\n * adjacent block.\n *\n * @param {Object}  state         Editor state.\n * @param {?string} startClientId Optional client ID of block from which to\n *                                search.\n * @param {?number} modifier      Directionality multiplier (1 next, -1\n *                                previous).\n *\n * @return {?string} Return the client ID of the block, or null if none exists.\n */\nexport function getAdjacentBlockClientId( state, startClientId, modifier = 1 ) {\n\t// Default to selected block.\n\tif ( startClientId === undefined ) {\n\t\tstartClientId = getSelectedBlockClientId( state );\n\t}\n\n\t// Try multi-selection starting at extent based on modifier.\n\tif ( startClientId === undefined ) {\n\t\tif ( modifier < 0 ) {\n\t\t\tstartClientId = getFirstMultiSelectedBlockClientId( state );\n\t\t} else {\n\t\t\tstartClientId = getLastMultiSelectedBlockClientId( state );\n\t\t}\n\t}\n\n\t// Validate working start client ID.\n\tif ( ! startClientId ) {\n\t\treturn null;\n\t}\n\n\t// Retrieve start block root client ID, being careful to allow the falsey\n\t// empty string top-level root by explicitly testing against null.\n\tconst rootClientId = getBlockRootClientId( state, startClientId );\n\tif ( rootClientId === null ) {\n\t\treturn null;\n\t}\n\n\tconst { order } = state.blocks;\n\tconst orderSet = order[ rootClientId ];\n\tconst index = orderSet.indexOf( startClientId );\n\tconst nextIndex = index + 1 * modifier;\n\n\t// Block was first in set and we're attempting to get previous.\n\tif ( nextIndex < 0 ) {\n\t\treturn null;\n\t}\n\n\t// Block was last in set and we're attempting to get next.\n\tif ( nextIndex === orderSet.length ) {\n\t\treturn null;\n\t}\n\n\t// Assume incremented index is within the set.\n\treturn orderSet[ nextIndex ];\n}\n\n/**\n * Returns the previous block's client ID from the given reference start ID.\n * Defaults start to the selected block. Returns null if there is no previous\n * block.\n *\n * @param {Object}  state         Editor state.\n * @param {?string} startClientId Optional client ID of block from which to\n *                                search.\n *\n * @return {?string} Adjacent block's client ID, or null if none exists.\n */\nexport function getPreviousBlockClientId( state, startClientId ) {\n\treturn getAdjacentBlockClientId( state, startClientId, -1 );\n}\n\n/**\n * Returns the next block's client ID from the given reference start ID.\n * Defaults start to the selected block. Returns null if there is no next\n * block.\n *\n * @param {Object}  state         Editor state.\n * @param {?string} startClientId Optional client ID of block from which to\n *                                search.\n *\n * @return {?string} Adjacent block's client ID, or null if none exists.\n */\nexport function getNextBlockClientId( state, startClientId ) {\n\treturn getAdjacentBlockClientId( state, startClientId, 1 );\n}\n\n/**\n * Returns the initial caret position for the selected block.\n * This position is to used to position the caret properly when the selected block changes.\n *\n * @param {Object} state Global application state.\n *\n * @return {?Object} Selected block.\n */\nexport function getSelectedBlocksInitialCaretPosition( state ) {\n\treturn state.initialPosition;\n}\n\n/**\n * Returns the current selection set of block client IDs (multiselection or single selection).\n *\n * @param {Object} state Editor state.\n *\n * @return {Array} Multi-selected block client IDs.\n */\nexport const getSelectedBlockClientIds = createSelector(\n\t( state ) => {\n\t\tconst { selectionStart, selectionEnd } = state;\n\n\t\tif (\n\t\t\tselectionStart.clientId === undefined ||\n\t\t\tselectionEnd.clientId === undefined\n\t\t) {\n\t\t\treturn EMPTY_ARRAY;\n\t\t}\n\n\t\tif ( selectionStart.clientId === selectionEnd.clientId ) {\n\t\t\treturn [ selectionStart.clientId ];\n\t\t}\n\n\t\t// Retrieve root client ID to aid in retrieving relevant nested block\n\t\t// order, being careful to allow the falsey empty string top-level root\n\t\t// by explicitly testing against null.\n\t\tconst rootClientId = getBlockRootClientId(\n\t\t\tstate,\n\t\t\tselectionStart.clientId\n\t\t);\n\t\tif ( rootClientId === null ) {\n\t\t\treturn EMPTY_ARRAY;\n\t\t}\n\n\t\tconst blockOrder = getBlockOrder( state, rootClientId );\n\t\tconst startIndex = blockOrder.indexOf( selectionStart.clientId );\n\t\tconst endIndex = blockOrder.indexOf( selectionEnd.clientId );\n\n\t\tif ( startIndex > endIndex ) {\n\t\t\treturn blockOrder.slice( endIndex, startIndex + 1 );\n\t\t}\n\n\t\treturn blockOrder.slice( startIndex, endIndex + 1 );\n\t},\n\t( state ) => [\n\t\tstate.blocks.order,\n\t\tstate.selectionStart.clientId,\n\t\tstate.selectionEnd.clientId,\n\t]\n);\n\n/**\n * Returns the current multi-selection set of block client IDs, or an empty\n * array if there is no multi-selection.\n *\n * @param {Object} state Editor state.\n *\n * @return {Array} Multi-selected block client IDs.\n */\nexport function getMultiSelectedBlockClientIds( state ) {\n\tconst { selectionStart, selectionEnd } = state;\n\n\tif ( selectionStart.clientId === selectionEnd.clientId ) {\n\t\treturn EMPTY_ARRAY;\n\t}\n\n\treturn getSelectedBlockClientIds( state );\n}\n\n/**\n * Returns the current multi-selection set of blocks, or an empty array if\n * there is no multi-selection.\n *\n * @param {Object} state Editor state.\n *\n * @return {Array} Multi-selected block objects.\n */\nexport const getMultiSelectedBlocks = createSelector(\n\t( state ) => {\n\t\tconst multiSelectedBlockClientIds = getMultiSelectedBlockClientIds(\n\t\t\tstate\n\t\t);\n\t\tif ( ! multiSelectedBlockClientIds.length ) {\n\t\t\treturn EMPTY_ARRAY;\n\t\t}\n\n\t\treturn multiSelectedBlockClientIds.map( ( clientId ) =>\n\t\t\tgetBlock( state, clientId )\n\t\t);\n\t},\n\t( state ) => [\n\t\t...getSelectedBlockClientIds.getDependants( state ),\n\t\tstate.blocks.byClientId,\n\t\tstate.blocks.order,\n\t\tstate.blocks.attributes,\n\t]\n);\n\n/**\n * Returns the client ID of the first block in the multi-selection set, or null\n * if there is no multi-selection.\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} First block client ID in the multi-selection set.\n */\nexport function getFirstMultiSelectedBlockClientId( state ) {\n\treturn first( getMultiSelectedBlockClientIds( state ) ) || null;\n}\n\n/**\n * Returns the client ID of the last block in the multi-selection set, or null\n * if there is no multi-selection.\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} Last block client ID in the multi-selection set.\n */\nexport function getLastMultiSelectedBlockClientId( state ) {\n\treturn last( getMultiSelectedBlockClientIds( state ) ) || null;\n}\n\n/**\n * Returns true if a multi-selection exists, and the block corresponding to the\n * specified client ID is the first block of the multi-selection set, or false\n * otherwise.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {boolean} Whether block is first in multi-selection.\n */\nexport function isFirstMultiSelectedBlock( state, clientId ) {\n\treturn getFirstMultiSelectedBlockClientId( state ) === clientId;\n}\n\n/**\n * Returns true if the client ID occurs within the block multi-selection, or\n * false otherwise.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {boolean} Whether block is in multi-selection set.\n */\nexport function isBlockMultiSelected( state, clientId ) {\n\treturn getMultiSelectedBlockClientIds( state ).indexOf( clientId ) !== -1;\n}\n\n/**\n * Returns true if an ancestor of the block is multi-selected, or false\n * otherwise.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {boolean} Whether an ancestor of the block is in multi-selection\n *                   set.\n */\nexport const isAncestorMultiSelected = createSelector(\n\t( state, clientId ) => {\n\t\tlet ancestorClientId = clientId;\n\t\tlet isMultiSelected = false;\n\t\twhile ( ancestorClientId && ! isMultiSelected ) {\n\t\t\tancestorClientId = getBlockRootClientId( state, ancestorClientId );\n\t\t\tisMultiSelected = isBlockMultiSelected( state, ancestorClientId );\n\t\t}\n\t\treturn isMultiSelected;\n\t},\n\t( state ) => [\n\t\tstate.blocks.order,\n\t\tstate.selectionStart.clientId,\n\t\tstate.selectionEnd.clientId,\n\t]\n);\n/**\n * Returns the client ID of the block which begins the multi-selection set, or\n * null if there is no multi-selection.\n *\n * This is not necessarily the first client ID in the selection.\n *\n * @see getFirstMultiSelectedBlockClientId\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} Client ID of block beginning multi-selection.\n */\nexport function getMultiSelectedBlocksStartClientId( state ) {\n\tconst { selectionStart, selectionEnd } = state;\n\n\tif ( selectionStart.clientId === selectionEnd.clientId ) {\n\t\treturn null;\n\t}\n\n\treturn selectionStart.clientId || null;\n}\n\n/**\n * Returns the client ID of the block which ends the multi-selection set, or\n * null if there is no multi-selection.\n *\n * This is not necessarily the last client ID in the selection.\n *\n * @see getLastMultiSelectedBlockClientId\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} Client ID of block ending multi-selection.\n */\nexport function getMultiSelectedBlocksEndClientId( state ) {\n\tconst { selectionStart, selectionEnd } = state;\n\n\tif ( selectionStart.clientId === selectionEnd.clientId ) {\n\t\treturn null;\n\t}\n\n\treturn selectionEnd.clientId || null;\n}\n\n/**\n * Returns an array containing all block client IDs in the editor in the order\n * they appear. Optionally accepts a root client ID of the block list for which\n * the order should be returned, defaulting to the top-level block order.\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {Array} Ordered client IDs of editor blocks.\n */\nexport function getBlockOrder( state, rootClientId ) {\n\treturn state.blocks.order[ rootClientId || '' ] || EMPTY_ARRAY;\n}\n\n/**\n * Returns the index at which the block corresponding to the specified client\n * ID occurs within the block order, or `-1` if the block does not exist.\n *\n * @param {Object}  state        Editor state.\n * @param {string}  clientId     Block client ID.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {number} Index at which block exists in order.\n */\nexport function getBlockIndex( state, clientId, rootClientId ) {\n\treturn getBlockOrder( state, rootClientId ).indexOf( clientId );\n}\n\n/**\n * Returns true if the block corresponding to the specified client ID is\n * currently selected and no multi-selection exists, or false otherwise.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {boolean} Whether block is selected and multi-selection exists.\n */\nexport function isBlockSelected( state, clientId ) {\n\tconst { selectionStart, selectionEnd } = state;\n\n\tif ( selectionStart.clientId !== selectionEnd.clientId ) {\n\t\treturn false;\n\t}\n\n\treturn selectionStart.clientId === clientId;\n}\n\n/**\n * Returns true if one of the block's inner blocks is selected.\n *\n * @param {Object}  state    Editor state.\n * @param {string}  clientId Block client ID.\n * @param {boolean} deep     Perform a deep check.\n *\n * @return {boolean} Whether the block as an inner block selected\n */\nexport function hasSelectedInnerBlock( state, clientId, deep = false ) {\n\treturn some(\n\t\tgetBlockOrder( state, clientId ),\n\t\t( innerClientId ) =>\n\t\t\tisBlockSelected( state, innerClientId ) ||\n\t\t\tisBlockMultiSelected( state, innerClientId ) ||\n\t\t\t( deep && hasSelectedInnerBlock( state, innerClientId, deep ) )\n\t);\n}\n\n/**\n * Returns true if the block corresponding to the specified client ID is\n * currently selected but isn't the last of the selected blocks. Here \"last\"\n * refers to the block sequence in the document, _not_ the sequence of\n * multi-selection, which is why `state.selectionEnd` isn't used.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {boolean} Whether block is selected and not the last in the\n *                   selection.\n */\nexport function isBlockWithinSelection( state, clientId ) {\n\tif ( ! clientId ) {\n\t\treturn false;\n\t}\n\n\tconst clientIds = getMultiSelectedBlockClientIds( state );\n\tconst index = clientIds.indexOf( clientId );\n\treturn index > -1 && index < clientIds.length - 1;\n}\n\n/**\n * Returns true if a multi-selection has been made, or false otherwise.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether multi-selection has been made.\n */\nexport function hasMultiSelection( state ) {\n\tconst { selectionStart, selectionEnd } = state;\n\treturn selectionStart.clientId !== selectionEnd.clientId;\n}\n\n/**\n * Whether in the process of multi-selecting or not. This flag is only true\n * while the multi-selection is being selected (by mouse move), and is false\n * once the multi-selection has been settled.\n *\n * @see hasMultiSelection\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if multi-selecting, false if not.\n */\nexport function isMultiSelecting( state ) {\n\treturn state.isMultiSelecting;\n}\n\n/**\n * Selector that returns if multi-selection is enabled or not.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if it should be possible to multi-select blocks, false if multi-selection is disabled.\n */\nexport function isSelectionEnabled( state ) {\n\treturn state.isSelectionEnabled;\n}\n\n/**\n * Returns the block's editing mode, defaulting to \"visual\" if not explicitly\n * assigned.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {Object} Block editing mode.\n */\nexport function getBlockMode( state, clientId ) {\n\treturn state.blocksMode[ clientId ] || 'visual';\n}\n\n/**\n * Returns true if the user is typing, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether user is typing.\n */\nexport function isTyping( state ) {\n\treturn state.isTyping;\n}\n\n/**\n * Returns true if the user is dragging blocks, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether user is dragging blocks.\n */\nexport function isDraggingBlocks( state ) {\n\treturn state.isDraggingBlocks;\n}\n\n/**\n * Returns true if the caret is within formatted text, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the caret is within formatted text.\n */\nexport function isCaretWithinFormattedText( state ) {\n\treturn state.isCaretWithinFormattedText;\n}\n\n/**\n * Returns the insertion point, the index at which the new inserted block would\n * be placed. Defaults to the last index.\n *\n * @param {Object} state Editor state.\n *\n * @return {Object} Insertion point object with `rootClientId`, `index`.\n */\nexport function getBlockInsertionPoint( state ) {\n\tlet rootClientId, index;\n\n\tconst { insertionPoint, selectionEnd } = state;\n\tif ( insertionPoint !== null ) {\n\t\treturn insertionPoint;\n\t}\n\n\tconst { clientId } = selectionEnd;\n\n\tif ( clientId ) {\n\t\trootClientId = getBlockRootClientId( state, clientId ) || undefined;\n\t\tindex = getBlockIndex( state, selectionEnd.clientId, rootClientId ) + 1;\n\t} else {\n\t\tindex = getBlockOrder( state ).length;\n\t}\n\n\treturn { rootClientId, index };\n}\n\n/**\n * Returns true if we should show the block insertion point.\n *\n * @param {Object} state Global application state.\n *\n * @return {?boolean} Whether the insertion point is visible or not.\n */\nexport function isBlockInsertionPointVisible( state ) {\n\treturn state.insertionPoint !== null;\n}\n\n/**\n * Returns whether the blocks matches the template or not.\n *\n * @param {boolean} state\n * @return {?boolean} Whether the template is valid or not.\n */\nexport function isValidTemplate( state ) {\n\treturn state.template.isValid;\n}\n\n/**\n * Returns the defined block template\n *\n * @param {boolean} state\n * @return {?Array}        Block Template\n */\nexport function getTemplate( state ) {\n\treturn state.settings.template;\n}\n\n/**\n * Returns the defined block template lock. Optionally accepts a root block\n * client ID as context, otherwise defaulting to the global context.\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional block root client ID.\n *\n * @return {?string} Block Template Lock\n */\nexport function getTemplateLock( state, rootClientId ) {\n\tif ( ! rootClientId ) {\n\t\treturn state.settings.templateLock;\n\t}\n\n\tconst blockListSettings = getBlockListSettings( state, rootClientId );\n\tif ( ! blockListSettings ) {\n\t\treturn null;\n\t}\n\n\treturn blockListSettings.templateLock;\n}\n\n/**\n * Determines if the given block type is allowed to be inserted into the block list.\n * This function is not exported and not memoized because using a memoized selector\n * inside another memoized selector is just a waste of time.\n *\n * @param {Object}  state        Editor state.\n * @param {string}  blockName    The name of the block type, e.g.' core/paragraph'.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {boolean} Whether the given block type is allowed to be inserted.\n */\nconst canInsertBlockTypeUnmemoized = (\n\tstate,\n\tblockName,\n\trootClientId = null\n) => {\n\tconst checkAllowList = ( list, item, defaultResult = null ) => {\n\t\tif ( isBoolean( list ) ) {\n\t\t\treturn list;\n\t\t}\n\t\tif ( isArray( list ) ) {\n\t\t\t// TODO: when there is a canonical way to detect that we are editing a post\n\t\t\t// the following check should be changed to something like:\n\t\t\t// if ( includes( list, 'core/post-content' ) && getEditorMode() === 'post-content' && item === null )\n\t\t\tif ( includes( list, 'core/post-content' ) && item === null ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn includes( list, item );\n\t\t}\n\t\treturn defaultResult;\n\t};\n\n\tconst blockType = getBlockType( blockName );\n\tif ( ! blockType ) {\n\t\treturn false;\n\t}\n\n\tconst { allowedBlockTypes } = getSettings( state );\n\n\tconst isBlockAllowedInEditor = checkAllowList(\n\t\tallowedBlockTypes,\n\t\tblockName,\n\t\ttrue\n\t);\n\tif ( ! isBlockAllowedInEditor ) {\n\t\treturn false;\n\t}\n\n\tconst isLocked = !! getTemplateLock( state, rootClientId );\n\tif ( isLocked ) {\n\t\treturn false;\n\t}\n\n\tconst parentBlockListSettings = getBlockListSettings( state, rootClientId );\n\tconst parentAllowedBlocks = get( parentBlockListSettings, [\n\t\t'allowedBlocks',\n\t] );\n\tconst hasParentAllowedBlock = checkAllowList(\n\t\tparentAllowedBlocks,\n\t\tblockName\n\t);\n\n\tconst blockAllowedParentBlocks = blockType.parent;\n\tconst parentName = getBlockName( state, rootClientId );\n\tconst hasBlockAllowedParent = checkAllowList(\n\t\tblockAllowedParentBlocks,\n\t\tparentName\n\t);\n\n\tif ( hasParentAllowedBlock !== null && hasBlockAllowedParent !== null ) {\n\t\treturn hasParentAllowedBlock || hasBlockAllowedParent;\n\t} else if ( hasParentAllowedBlock !== null ) {\n\t\treturn hasParentAllowedBlock;\n\t} else if ( hasBlockAllowedParent !== null ) {\n\t\treturn hasBlockAllowedParent;\n\t}\n\n\treturn true;\n};\n\n/**\n * Determines if the given block type is allowed to be inserted into the block list.\n *\n * @param {Object}  state        Editor state.\n * @param {string}  blockName    The name of the block type, e.g.' core/paragraph'.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {boolean} Whether the given block type is allowed to be inserted.\n */\nexport const canInsertBlockType = createSelector(\n\tcanInsertBlockTypeUnmemoized,\n\t( state, blockName, rootClientId ) => [\n\t\tstate.blockListSettings[ rootClientId ],\n\t\tstate.blocks.byClientId[ rootClientId ],\n\t\tstate.settings.allowedBlockTypes,\n\t\tstate.settings.templateLock,\n\t]\n);\n\n/**\n * Returns information about how recently and frequently a block has been inserted.\n *\n * @param {Object} state Global application state.\n * @param {string} id    A string which identifies the insert, e.g. 'core/block/12'\n *\n * @return {?{ time: number, count: number }} An object containing `time` which is when the last\n *                                            insert occurred as a UNIX epoch, and `count` which is\n *                                            the number of inserts that have occurred.\n */\nfunction getInsertUsage( state, id ) {\n\treturn get( state.preferences.insertUsage, [ id ], null );\n}\n\n/**\n * Returns whether we can show a block type in the inserter\n *\n * @param {Object} state Global State\n * @param {Object} blockType BlockType\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {boolean} Whether the given block type is allowed to be shown in the inserter.\n */\nconst canIncludeBlockTypeInInserter = ( state, blockType, rootClientId ) => {\n\tif ( ! hasBlockSupport( blockType, 'inserter', true ) ) {\n\t\treturn false;\n\t}\n\n\treturn canInsertBlockTypeUnmemoized( state, blockType.name, rootClientId );\n};\n\n/**\n * Determines the items that appear in the inserter. Includes both static\n * items (e.g. a regular block type) and dynamic items (e.g. a reusable block).\n *\n * Each item object contains what's necessary to display a button in the\n * inserter and handle its selection.\n *\n * The 'utility' property indicates how useful we think an item will be to the\n * user. There are 4 levels of utility:\n *\n * 1. Blocks that are contextually useful (utility = 3)\n * 2. Blocks that have been previously inserted (utility = 2)\n * 3. Blocks that are in the common category (utility = 1)\n * 4. All other blocks (utility = 0)\n *\n * The 'frecency' property is a heuristic (https://en.wikipedia.org/wiki/Frecency)\n * that combines block usage frequenty and recency.\n *\n * Items are returned ordered descendingly by their 'utility' and 'frecency'.\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {WPEditorInserterItem[]} Items that appear in inserter.\n *\n * @typedef {Object} WPEditorInserterItem\n * @property {string}   id                Unique identifier for the item.\n * @property {string}   name              The type of block to create.\n * @property {Object}   initialAttributes Attributes to pass to the newly created block.\n * @property {string}   title             Title of the item, as it appears in the inserter.\n * @property {string}   icon              Dashicon for the item, as it appears in the inserter.\n * @property {string}   category          Block category that the item is associated with.\n * @property {string[]} keywords          Keywords that can be searched to find this item.\n * @property {boolean}  isDisabled        Whether or not the user should be prevented from inserting\n *                                        this item.\n * @property {number}   utility           How useful we think this item is, between 0 and 3.\n * @property {number}   frecency          Hueristic that combines frequency and recency.\n */\nexport const getInserterItems = createSelector(\n\t( state, rootClientId = null ) => {\n\t\tconst calculateUtility = ( category, count, isContextual ) => {\n\t\t\tif ( isContextual ) {\n\t\t\t\treturn INSERTER_UTILITY_HIGH;\n\t\t\t} else if ( count > 0 ) {\n\t\t\t\treturn INSERTER_UTILITY_MEDIUM;\n\t\t\t} else if ( category === 'common' ) {\n\t\t\t\treturn INSERTER_UTILITY_LOW;\n\t\t\t}\n\t\t\treturn INSERTER_UTILITY_NONE;\n\t\t};\n\n\t\tconst calculateFrecency = ( time, count ) => {\n\t\t\tif ( ! time ) {\n\t\t\t\treturn count;\n\t\t\t}\n\n\t\t\t// The selector is cached, which means Date.now() is the last time that the\n\t\t\t// relevant state changed. This suits our needs.\n\t\t\tconst duration = Date.now() - time;\n\n\t\t\tswitch ( true ) {\n\t\t\t\tcase duration < MILLISECONDS_PER_HOUR:\n\t\t\t\t\treturn count * 4;\n\t\t\t\tcase duration < MILLISECONDS_PER_DAY:\n\t\t\t\t\treturn count * 2;\n\t\t\t\tcase duration < MILLISECONDS_PER_WEEK:\n\t\t\t\t\treturn count / 2;\n\t\t\t\tdefault:\n\t\t\t\t\treturn count / 4;\n\t\t\t}\n\t\t};\n\n\t\tconst buildBlockTypeInserterItem = ( blockType ) => {\n\t\t\tconst id = blockType.name;\n\n\t\t\tlet isDisabled = false;\n\t\t\tif ( ! hasBlockSupport( blockType.name, 'multiple', true ) ) {\n\t\t\t\tisDisabled = some(\n\t\t\t\t\tgetBlocksByClientId(\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\tgetClientIdsWithDescendants( state )\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tname: blockType.name,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst isContextual = isArray( blockType.parent );\n\t\t\tconst { time, count = 0 } = getInsertUsage( state, id ) || {};\n\t\t\tconst inserterVariations = blockType.variations.filter(\n\t\t\t\t( { scope } ) => ! scope || scope.includes( 'inserter' )\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\tname: blockType.name,\n\t\t\t\tinitialAttributes: {},\n\t\t\t\ttitle: blockType.title,\n\t\t\t\tdescription: blockType.description,\n\t\t\t\ticon: blockType.icon,\n\t\t\t\tcategory: blockType.category,\n\t\t\t\tkeywords: blockType.keywords,\n\t\t\t\tvariations: inserterVariations,\n\t\t\t\texample: blockType.example,\n\t\t\t\tisDisabled,\n\t\t\t\tutility: calculateUtility(\n\t\t\t\t\tblockType.category,\n\t\t\t\t\tcount,\n\t\t\t\t\tisContextual\n\t\t\t\t),\n\t\t\t\tfrecency: calculateFrecency( time, count ),\n\t\t\t};\n\t\t};\n\n\t\tconst buildReusableBlockInserterItem = ( reusableBlock ) => {\n\t\t\tconst id = `core/block/${ reusableBlock.id }`;\n\n\t\t\tconst referencedBlocks = __experimentalGetParsedReusableBlock(\n\t\t\t\tstate,\n\t\t\t\treusableBlock.id\n\t\t\t);\n\t\t\tlet referencedBlockType;\n\t\t\tif ( referencedBlocks.length === 1 ) {\n\t\t\t\treferencedBlockType = getBlockType(\n\t\t\t\t\treferencedBlocks[ 0 ].name\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst { time, count = 0 } = getInsertUsage( state, id ) || {};\n\t\t\tconst utility = calculateUtility( 'reusable', count, false );\n\t\t\tconst frecency = calculateFrecency( time, count );\n\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\tname: 'core/block',\n\t\t\t\tinitialAttributes: { ref: reusableBlock.id },\n\t\t\t\ttitle: reusableBlock.title,\n\t\t\t\ticon: referencedBlockType\n\t\t\t\t\t? referencedBlockType.icon\n\t\t\t\t\t: templateIcon,\n\t\t\t\tcategory: 'reusable',\n\t\t\t\tkeywords: [],\n\t\t\t\tisDisabled: false,\n\t\t\t\tutility,\n\t\t\t\tfrecency,\n\t\t\t};\n\t\t};\n\n\t\tconst blockTypeInserterItems = getBlockTypes()\n\t\t\t.filter( ( blockType ) =>\n\t\t\t\tcanIncludeBlockTypeInInserter( state, blockType, rootClientId )\n\t\t\t)\n\t\t\t.map( buildBlockTypeInserterItem );\n\n\t\tconst reusableBlockInserterItems = canInsertBlockTypeUnmemoized(\n\t\t\tstate,\n\t\t\t'core/block',\n\t\t\trootClientId\n\t\t)\n\t\t\t? getReusableBlocks( state ).map( buildReusableBlockInserterItem )\n\t\t\t: [];\n\n\t\treturn orderBy(\n\t\t\t[ ...blockTypeInserterItems, ...reusableBlockInserterItems ],\n\t\t\t[ 'utility', 'frecency' ],\n\t\t\t[ 'desc', 'desc' ]\n\t\t);\n\t},\n\t( state, rootClientId ) => [\n\t\tstate.blockListSettings[ rootClientId ],\n\t\tstate.blocks.byClientId,\n\t\tstate.blocks.order,\n\t\tstate.preferences.insertUsage,\n\t\tstate.settings.allowedBlockTypes,\n\t\tstate.settings.templateLock,\n\t\tgetReusableBlocks( state ),\n\t\tgetBlockTypes(),\n\t]\n);\n\n/**\n * Determines whether there are items to show in the inserter.\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {boolean} Items that appear in inserter.\n */\nexport const hasInserterItems = createSelector(\n\t( state, rootClientId = null ) => {\n\t\tconst hasBlockType = some( getBlockTypes(), ( blockType ) =>\n\t\t\tcanIncludeBlockTypeInInserter( state, blockType, rootClientId )\n\t\t);\n\t\tif ( hasBlockType ) {\n\t\t\treturn true;\n\t\t}\n\t\tconst hasReusableBlock =\n\t\t\tcanInsertBlockTypeUnmemoized( state, 'core/block', rootClientId ) &&\n\t\t\tgetReusableBlocks( state ).length > 0;\n\n\t\treturn hasReusableBlock;\n\t},\n\t( state, rootClientId ) => [\n\t\tstate.blockListSettings[ rootClientId ],\n\t\tstate.blocks.byClientId,\n\t\tstate.settings.allowedBlockTypes,\n\t\tstate.settings.templateLock,\n\t\tgetReusableBlocks( state ),\n\t\tgetBlockTypes(),\n\t]\n);\n\n/**\n * Returns the list of allowed inserter blocks for inner blocks children\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {Array?} The list of allowed block types.\n */\nexport const __experimentalGetAllowedBlocks = createSelector(\n\t( state, rootClientId = null ) => {\n\t\tif ( ! rootClientId ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn filter( getBlockTypes(), ( blockType ) =>\n\t\t\tcanIncludeBlockTypeInInserter( state, blockType, rootClientId )\n\t\t);\n\t},\n\t( state, rootClientId ) => [\n\t\tstate.blockListSettings[ rootClientId ],\n\t\tstate.blocks.byClientId,\n\t\tstate.settings.allowedBlockTypes,\n\t\tstate.settings.templateLock,\n\t\tgetBlockTypes(),\n\t]\n);\n\n/**\n * Returns the Block List settings of a block, if any exist.\n *\n * @param {Object}  state    Editor state.\n * @param {?string} clientId Block client ID.\n *\n * @return {?Object} Block settings of the block if set.\n */\nexport function getBlockListSettings( state, clientId ) {\n\treturn state.blockListSettings[ clientId ];\n}\n\n/**\n * Returns the editor settings.\n *\n * @param {Object} state Editor state.\n *\n * @return {Object} The editor settings object.\n */\nexport function getSettings( state ) {\n\treturn state.settings;\n}\n\n/**\n * Returns true if the most recent block change is be considered persistent, or\n * false otherwise. A persistent change is one committed by BlockEditorProvider\n * via its `onChange` callback, in addition to `onInput`.\n *\n * @param {Object} state Block editor state.\n *\n * @return {boolean} Whether the most recent block change was persistent.\n */\nexport function isLastBlockChangePersistent( state ) {\n\treturn state.blocks.isPersistentChange;\n}\n\n/**\n * Returns the Block List settings for an array of blocks, if any exist.\n *\n * @param {Object}  state    Editor state.\n * @param {Array} clientIds Block client IDs.\n *\n * @return {Array} Block List Settings for each of the found blocks\n */\nexport const __experimentalGetBlockListSettingsForBlocks = createSelector(\n\t( state, clientIds ) => {\n\t\treturn filter( state.blockListSettings, ( value, key ) =>\n\t\t\tclientIds.includes( key )\n\t\t);\n\t},\n\t( state ) => [ state.blockListSettings ]\n);\n\n/**\n * Returns the parsed block saved as shared block with the given ID.\n *\n * @param {Object}        state Global application state.\n * @param {number|string} ref   The shared block's ID.\n *\n * @return {Object} The parsed block.\n */\nexport const __experimentalGetParsedReusableBlock = createSelector(\n\t( state, ref ) => {\n\t\tconst reusableBlock = find(\n\t\t\tgetReusableBlocks( state ),\n\t\t\t( block ) => block.id === ref\n\t\t);\n\t\tif ( ! reusableBlock ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn parse( reusableBlock.content );\n\t},\n\t( state ) => [ getReusableBlocks( state ) ]\n);\n\n/**\n * Returns true if the most recent block change is be considered ignored, or\n * false otherwise. An ignored change is one not to be committed by\n * BlockEditorProvider, neither via `onChange` nor `onInput`.\n *\n * @param {Object} state Block editor state.\n *\n * @return {boolean} Whether the most recent block change was ignored.\n */\nexport function __unstableIsLastBlockChangeIgnored( state ) {\n\t// TODO: Removal Plan: Changes incurred by RECEIVE_BLOCKS should not be\n\t// ignored if in-fact they result in a change in blocks state. The current\n\t// need to ignore changes not a result of user interaction should be\n\t// accounted for in the refactoring of reusable blocks as occurring within\n\t// their own separate block editor / state (#7119).\n\treturn state.blocks.isIgnoredChange;\n}\n\n/**\n * Returns the block attributes changed as a result of the last dispatched\n * action.\n *\n * @param {Object} state Block editor state.\n *\n * @return {Object<string,Object>} Subsets of block attributes changed, keyed\n *                                 by block client ID.\n */\nexport function __experimentalGetLastBlockAttributeChanges( state ) {\n\treturn state.lastBlockAttributesChange;\n}\n\n/**\n * Returns the available reusable blocks\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} Reusable blocks\n */\nfunction getReusableBlocks( state ) {\n\treturn get(\n\t\tstate,\n\t\t[ 'settings', '__experimentalReusableBlocks' ],\n\t\tEMPTY_ARRAY\n\t);\n}\n\n/**\n * Returns whether the navigation mode is enabled.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean}     Is navigation mode enabled.\n */\nexport function isNavigationMode( state ) {\n\treturn state.isNavigationMode;\n}\n\n/**\n * Returns true if the last change was an automatic change, false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the last change was automatic.\n */\nexport function didAutomaticChange( state ) {\n\treturn !! state.automaticChangeStatus;\n}\n","/**\n * Given a block client ID, returns the corresponding DOM node for the block,\n * if exists. As much as possible, this helper should be avoided, and used only\n * in cases where isolated behaviors need remote access to a block node.\n *\n * @param {string} clientId Block client ID.\n * @param {Element} scope an optional DOM Element to which the selector should be scoped\n *\n * @return {Element} Block DOM node.\n */\nexport function getBlockDOMNode( clientId ) {\n\treturn document.getElementById( 'block-' + clientId );\n}\n\nexport function getBlockPreviewContainerDOMNode( clientId ) {\n\tconst domNode = getBlockDOMNode( clientId );\n\n\tif ( ! domNode ) {\n\t\treturn;\n\t}\n\n\treturn domNode.firstChild || domNode;\n}\n\n/**\n * Returns true if the given HTMLElement is a block focus stop. Blocks without\n * their own text fields rely on the focus stop to be keyboard navigable.\n *\n * @param {HTMLElement} element Element to test.\n *\n * @return {boolean} Whether element is a block focus stop.\n */\nexport function isBlockFocusStop( element ) {\n\treturn element.classList.contains( 'block-editor-block-list__block' );\n}\n\n/**\n * Returns true if two elements are contained within the same block.\n *\n * @param {HTMLElement} a First element.\n * @param {HTMLElement} b Second element.\n *\n * @return {boolean} Whether elements are in the same block.\n */\nexport function isInSameBlock( a, b ) {\n\treturn (\n\t\ta.closest( '.block-editor-block-list__block' ) ===\n\t\tb.closest( '.block-editor-block-list__block' )\n\t);\n}\n\n/**\n * Returns true if an elements is considered part of the block and not its children.\n *\n * @param {HTMLElement} blockElement Block container element.\n * @param {HTMLElement} element      Element.\n *\n * @return {boolean} Whether element is in the block Element but not its children.\n */\nexport function isInsideRootBlock( blockElement, element ) {\n\tconst innerBlocksContainer = blockElement.querySelector(\n\t\t'.block-editor-block-list__layout'\n\t);\n\treturn (\n\t\tblockElement.contains( element ) &&\n\t\t( ! innerBlocksContainer || ! innerBlocksContainer.contains( element ) )\n\t);\n}\n\n/**\n * Returns true if the given HTMLElement contains inner blocks (an InnerBlocks\n * element).\n *\n * @param {HTMLElement} element Element to test.\n *\n * @return {boolean} Whether element contains inner blocks.\n */\nexport function hasInnerBlocksContext( element ) {\n\treturn !! element.querySelector( '.block-editor-block-list__layout' );\n}\n\n/**\n * Finds the block client ID given any DOM node inside the block.\n *\n * @param {Node} node DOM node.\n *\n * @return {string|undefined} Client ID or undefined if the node is not part of a block.\n */\nexport function getBlockClientId( node ) {\n\tif ( node.nodeType !== node.ELEMENT_NODE ) {\n\t\tnode = node.parentElement;\n\t}\n\n\tconst blockNode = node.closest( '.wp-block' );\n\n\tif ( ! blockNode ) {\n\t\treturn;\n\t}\n\n\treturn blockNode.id.slice( 'block-'.length );\n}\n","/**\n * External dependencies\n */\nimport { find, isNil } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createBlobURL } from '@wordpress/blob';\n\nexport function getPasteEventData( { clipboardData } ) {\n\tlet { items, files } = clipboardData;\n\n\t// In Edge these properties can be null instead of undefined, so a more\n\t// rigorous test is required over using default values.\n\titems = isNil( items ) ? [] : items;\n\tfiles = isNil( files ) ? [] : files;\n\n\tlet plainText = '';\n\tlet html = '';\n\n\t// IE11 only supports `Text` as an argument for `getData` and will\n\t// otherwise throw an invalid argument error, so we try the standard\n\t// arguments first, then fallback to `Text` if they fail.\n\ttry {\n\t\tplainText = clipboardData.getData( 'text/plain' );\n\t\thtml = clipboardData.getData( 'text/html' );\n\t} catch ( error1 ) {\n\t\ttry {\n\t\t\thtml = clipboardData.getData( 'Text' );\n\t\t} catch ( error2 ) {\n\t\t\t// Some browsers like UC Browser paste plain text by default and\n\t\t\t// don't support clipboardData at all, so allow default\n\t\t\t// behaviour.\n\t\t\treturn;\n\t\t}\n\t}\n\n\tfiles = Array.from( files );\n\n\tArray.from( items ).forEach( ( item ) => {\n\t\tif ( ! item.getAsFile ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst file = item.getAsFile();\n\n\t\tif ( ! file ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { name, type, size } = file;\n\n\t\tif ( ! find( files, { name, type, size } ) ) {\n\t\t\tfiles.push( file );\n\t\t}\n\t} );\n\n\tfiles = files.filter( ( { type } ) =>\n\t\t/^image\\/(?:jpe?g|png|gif)$/.test( type )\n\t);\n\n\t// Only process files if no HTML is present.\n\t// A pasted file may have the URL as plain text.\n\tif ( files.length && ! html ) {\n\t\thtml = files\n\t\t\t.map( ( file ) => `<img src=\"${ createBlobURL( file ) }\">` )\n\t\t\t.join( '' );\n\t\tplainText = '';\n\t}\n\n\treturn { html, plainText };\n}\n","export { default as transformStyles } from './transform-styles';\n","// Adapted from https://github.com/reworkcss/css\n// because we needed to remove source map support.\n\nexport { default as parse } from './parse';\nexport { default as stringify } from './stringify';\n","/* eslint-disable @wordpress/no-unused-vars-before-return */\n\n// Adapted from https://github.com/reworkcss/css\n// because we needed to remove source map support.\n\n// http://www.w3.org/TR/CSS21/grammar.htm\n// https://github.com/visionmedia/css-parse/pull/49#issuecomment-30088027\nconst commentre = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;\n\nexport default function( css, options ) {\n\toptions = options || {};\n\n\t/**\n\t * Positional.\n\t */\n\n\tlet lineno = 1;\n\tlet column = 1;\n\n\t/**\n\t * Update lineno and column based on `str`.\n\t */\n\n\tfunction updatePosition( str ) {\n\t\tconst lines = str.match( /\\n/g );\n\t\tif ( lines ) {\n\t\t\tlineno += lines.length;\n\t\t}\n\t\tconst i = str.lastIndexOf( '\\n' );\n\t\t// eslint-disable-next-line no-bitwise\n\t\tcolumn = ~i ? str.length - i : column + str.length;\n\t}\n\n\t/**\n\t * Mark position and patch `node.position`.\n\t */\n\n\tfunction position() {\n\t\tconst start = { line: lineno, column };\n\t\treturn function( node ) {\n\t\t\tnode.position = new Position( start );\n\t\t\twhitespace();\n\t\t\treturn node;\n\t\t};\n\t}\n\n\t/**\n\t * Store position information for a node\n\t */\n\n\tfunction Position( start ) {\n\t\tthis.start = start;\n\t\tthis.end = { line: lineno, column };\n\t\tthis.source = options.source;\n\t}\n\n\t/**\n\t * Non-enumerable source string\n\t */\n\n\tPosition.prototype.content = css;\n\n\t/**\n\t * Error `msg`.\n\t */\n\n\tconst errorsList = [];\n\n\tfunction error( msg ) {\n\t\tconst err = new Error(\n\t\t\toptions.source + ':' + lineno + ':' + column + ': ' + msg\n\t\t);\n\t\terr.reason = msg;\n\t\terr.filename = options.source;\n\t\terr.line = lineno;\n\t\terr.column = column;\n\t\terr.source = css;\n\n\t\tif ( options.silent ) {\n\t\t\terrorsList.push( err );\n\t\t} else {\n\t\t\tthrow err;\n\t\t}\n\t}\n\n\t/**\n\t * Parse stylesheet.\n\t */\n\n\tfunction stylesheet() {\n\t\tconst rulesList = rules();\n\n\t\treturn {\n\t\t\ttype: 'stylesheet',\n\t\t\tstylesheet: {\n\t\t\t\tsource: options.source,\n\t\t\t\trules: rulesList,\n\t\t\t\tparsingErrors: errorsList,\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * Opening brace.\n\t */\n\n\tfunction open() {\n\t\treturn match( /^{\\s*/ );\n\t}\n\n\t/**\n\t * Closing brace.\n\t */\n\n\tfunction close() {\n\t\treturn match( /^}/ );\n\t}\n\n\t/**\n\t * Parse ruleset.\n\t */\n\n\tfunction rules() {\n\t\tlet node;\n\t\tconst accumulator = [];\n\t\twhitespace();\n\t\tcomments( accumulator );\n\t\twhile (\n\t\t\tcss.length &&\n\t\t\tcss.charAt( 0 ) !== '}' &&\n\t\t\t( node = atrule() || rule() )\n\t\t) {\n\t\t\tif ( node !== false ) {\n\t\t\t\taccumulator.push( node );\n\t\t\t\tcomments( accumulator );\n\t\t\t}\n\t\t}\n\t\treturn accumulator;\n\t}\n\n\t/**\n\t * Match `re` and return captures.\n\t */\n\n\tfunction match( re ) {\n\t\tconst m = re.exec( css );\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\t\tconst str = m[ 0 ];\n\t\tupdatePosition( str );\n\t\tcss = css.slice( str.length );\n\t\treturn m;\n\t}\n\n\t/**\n\t * Parse whitespace.\n\t */\n\n\tfunction whitespace() {\n\t\tmatch( /^\\s*/ );\n\t}\n\n\t/**\n\t * Parse comments;\n\t */\n\n\tfunction comments( accumulator ) {\n\t\tlet c;\n\t\taccumulator = accumulator || [];\n\t\t// eslint-disable-next-line no-cond-assign\n\t\twhile ( ( c = comment() ) ) {\n\t\t\tif ( c !== false ) {\n\t\t\t\taccumulator.push( c );\n\t\t\t}\n\t\t}\n\t\treturn accumulator;\n\t}\n\n\t/**\n\t * Parse comment.\n\t */\n\n\tfunction comment() {\n\t\tconst pos = position();\n\t\tif ( '/' !== css.charAt( 0 ) || '*' !== css.charAt( 1 ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet i = 2;\n\t\twhile (\n\t\t\t'' !== css.charAt( i ) &&\n\t\t\t( '*' !== css.charAt( i ) || '/' !== css.charAt( i + 1 ) )\n\t\t) {\n\t\t\t++i;\n\t\t}\n\t\ti += 2;\n\n\t\tif ( '' === css.charAt( i - 1 ) ) {\n\t\t\treturn error( 'End of comment missing' );\n\t\t}\n\n\t\tconst str = css.slice( 2, i - 2 );\n\t\tcolumn += 2;\n\t\tupdatePosition( str );\n\t\tcss = css.slice( i );\n\t\tcolumn += 2;\n\n\t\treturn pos( {\n\t\t\ttype: 'comment',\n\t\t\tcomment: str,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse selector.\n\t */\n\n\tfunction selector() {\n\t\tconst m = match( /^([^{]+)/ );\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\t\t// FIXME: Remove all comments from selectors http://ostermiller.org/findcomment.html\n\t\treturn trim( m[ 0 ] )\n\t\t\t.replace( /\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*\\/+/g, '' )\n\t\t\t.replace( /\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'/g, function( matched ) {\n\t\t\t\treturn matched.replace( /,/g, '\\u200C' );\n\t\t\t} )\n\t\t\t.split( /\\s*(?![^(]*\\)),\\s*/ )\n\t\t\t.map( function( s ) {\n\t\t\t\treturn s.replace( /\\u200C/g, ',' );\n\t\t\t} );\n\t}\n\n\t/**\n\t * Parse declaration.\n\t */\n\n\tfunction declaration() {\n\t\tconst pos = position();\n\n\t\t// prop\n\t\tlet prop = match( /^(\\*?[-#\\/\\*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/ );\n\t\tif ( ! prop ) {\n\t\t\treturn;\n\t\t}\n\t\tprop = trim( prop[ 0 ] );\n\n\t\t// :\n\t\tif ( ! match( /^:\\s*/ ) ) {\n\t\t\treturn error( \"property missing ':'\" );\n\t\t}\n\n\t\t// val\n\t\tconst val = match(\n\t\t\t/^((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^\\)]*?\\)|[^};])+)/\n\t\t);\n\n\t\tconst ret = pos( {\n\t\t\ttype: 'declaration',\n\t\t\tproperty: prop.replace( commentre, '' ),\n\t\t\tvalue: val ? trim( val[ 0 ] ).replace( commentre, '' ) : '',\n\t\t} );\n\n\t\t// ;\n\t\tmatch( /^[;\\s]*/ );\n\n\t\treturn ret;\n\t}\n\n\t/**\n\t * Parse declarations.\n\t */\n\n\tfunction declarations() {\n\t\tconst decls = [];\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"missing '{'\" );\n\t\t}\n\t\tcomments( decls );\n\n\t\t// declarations\n\t\tlet decl;\n\t\t// eslint-disable-next-line no-cond-assign\n\t\twhile ( ( decl = declaration() ) ) {\n\t\t\tif ( decl !== false ) {\n\t\t\t\tdecls.push( decl );\n\t\t\t\tcomments( decls );\n\t\t\t}\n\t\t}\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"missing '}'\" );\n\t\t}\n\t\treturn decls;\n\t}\n\n\t/**\n\t * Parse keyframe.\n\t */\n\n\tfunction keyframe() {\n\t\tlet m;\n\t\tconst vals = [];\n\t\tconst pos = position();\n\n\t\t// eslint-disable-next-line no-cond-assign\n\t\twhile ( ( m = match( /^((\\d+\\.\\d+|\\.\\d+|\\d+)%?|[a-z]+)\\s*/ ) ) ) {\n\t\t\tvals.push( m[ 1 ] );\n\t\t\tmatch( /^,\\s*/ );\n\t\t}\n\n\t\tif ( ! vals.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'keyframe',\n\t\t\tvalues: vals,\n\t\t\tdeclarations: declarations(),\n\t\t} );\n\t}\n\n\t/**\n\t * Parse keyframes.\n\t */\n\n\tfunction atkeyframes() {\n\t\tconst pos = position();\n\t\tlet m = match( /^@([-\\w]+)?keyframes\\s*/ );\n\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\t\tconst vendor = m[ 1 ];\n\n\t\t// identifier\n\t\tm = match( /^([-\\w]+)\\s*/ );\n\t\tif ( ! m ) {\n\t\t\treturn error( '@keyframes missing name' );\n\t\t}\n\t\tconst name = m[ 1 ];\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@keyframes missing '{'\" );\n\t\t}\n\n\t\tlet frame;\n\t\tlet frames = comments();\n\t\t// eslint-disable-next-line no-cond-assign\n\t\twhile ( ( frame = keyframe() ) ) {\n\t\t\tframes.push( frame );\n\t\t\tframes = frames.concat( comments() );\n\t\t}\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@keyframes missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'keyframes',\n\t\t\tname,\n\t\t\tvendor,\n\t\t\tkeyframes: frames,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse supports.\n\t */\n\n\tfunction atsupports() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@supports *([^{]+)/ );\n\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\t\tconst supports = trim( m[ 1 ] );\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@supports missing '{'\" );\n\t\t}\n\n\t\tconst style = comments().concat( rules() );\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@supports missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'supports',\n\t\t\tsupports,\n\t\t\trules: style,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse host.\n\t */\n\n\tfunction athost() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@host\\s*/ );\n\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@host missing '{'\" );\n\t\t}\n\n\t\tconst style = comments().concat( rules() );\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@host missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'host',\n\t\t\trules: style,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse media.\n\t */\n\n\tfunction atmedia() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@media *([^{]+)/ );\n\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\t\tconst media = trim( m[ 1 ] );\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@media missing '{'\" );\n\t\t}\n\n\t\tconst style = comments().concat( rules() );\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@media missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'media',\n\t\t\tmedia,\n\t\t\trules: style,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse custom-media.\n\t */\n\n\tfunction atcustommedia() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@custom-media\\s+(--[^\\s]+)\\s*([^{;]+);/ );\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'custom-media',\n\t\t\tname: trim( m[ 1 ] ),\n\t\t\tmedia: trim( m[ 2 ] ),\n\t\t} );\n\t}\n\n\t/**\n\t * Parse paged media.\n\t */\n\n\tfunction atpage() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@page */ );\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst sel = selector() || [];\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@page missing '{'\" );\n\t\t}\n\t\tlet decls = comments();\n\n\t\t// declarations\n\t\tlet decl;\n\t\t// eslint-disable-next-line no-cond-assign\n\t\twhile ( ( decl = declaration() ) ) {\n\t\t\tdecls.push( decl );\n\t\t\tdecls = decls.concat( comments() );\n\t\t}\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@page missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'page',\n\t\t\tselectors: sel,\n\t\t\tdeclarations: decls,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse document.\n\t */\n\n\tfunction atdocument() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@([-\\w]+)?document *([^{]+)/ );\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst vendor = trim( m[ 1 ] );\n\t\tconst doc = trim( m[ 2 ] );\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@document missing '{'\" );\n\t\t}\n\n\t\tconst style = comments().concat( rules() );\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@document missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'document',\n\t\t\tdocument: doc,\n\t\t\tvendor,\n\t\t\trules: style,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse font-face.\n\t */\n\n\tfunction atfontface() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@font-face\\s*/ );\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@font-face missing '{'\" );\n\t\t}\n\t\tlet decls = comments();\n\n\t\t// declarations\n\t\tlet decl;\n\t\t// eslint-disable-next-line no-cond-assign\n\t\twhile ( ( decl = declaration() ) ) {\n\t\t\tdecls.push( decl );\n\t\t\tdecls = decls.concat( comments() );\n\t\t}\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@font-face missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'font-face',\n\t\t\tdeclarations: decls,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse import\n\t */\n\n\tconst atimport = _compileAtrule( 'import' );\n\n\t/**\n\t * Parse charset\n\t */\n\n\tconst atcharset = _compileAtrule( 'charset' );\n\n\t/**\n\t * Parse namespace\n\t */\n\n\tconst atnamespace = _compileAtrule( 'namespace' );\n\n\t/**\n\t * Parse non-block at-rules\n\t */\n\n\tfunction _compileAtrule( name ) {\n\t\tconst re = new RegExp( '^@' + name + '\\\\s*([^;]+);' );\n\t\treturn function() {\n\t\t\tconst pos = position();\n\t\t\tconst m = match( re );\n\t\t\tif ( ! m ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst ret = { type: name };\n\t\t\tret[ name ] = m[ 1 ].trim();\n\t\t\treturn pos( ret );\n\t\t};\n\t}\n\n\t/**\n\t * Parse at rule.\n\t */\n\n\tfunction atrule() {\n\t\tif ( css[ 0 ] !== '@' ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn (\n\t\t\tatkeyframes() ||\n\t\t\tatmedia() ||\n\t\t\tatcustommedia() ||\n\t\t\tatsupports() ||\n\t\t\tatimport() ||\n\t\t\tatcharset() ||\n\t\t\tatnamespace() ||\n\t\t\tatdocument() ||\n\t\t\tatpage() ||\n\t\t\tathost() ||\n\t\t\tatfontface()\n\t\t);\n\t}\n\n\t/**\n\t * Parse rule.\n\t */\n\n\tfunction rule() {\n\t\tconst pos = position();\n\t\tconst sel = selector();\n\n\t\tif ( ! sel ) {\n\t\t\treturn error( 'selector missing' );\n\t\t}\n\t\tcomments();\n\n\t\treturn pos( {\n\t\t\ttype: 'rule',\n\t\t\tselectors: sel,\n\t\t\tdeclarations: declarations(),\n\t\t} );\n\t}\n\n\treturn addParent( stylesheet() );\n}\n\n/**\n * Trim `str`.\n */\n\nfunction trim( str ) {\n\treturn str ? str.replace( /^\\s+|\\s+$/g, '' ) : '';\n}\n\n/**\n * Adds non-enumerable parent node reference to each node.\n */\n\nfunction addParent( obj, parent ) {\n\tconst isNode = obj && typeof obj.type === 'string';\n\tconst childParent = isNode ? obj : parent;\n\n\tfor ( const k in obj ) {\n\t\tconst value = obj[ k ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\tvalue.forEach( function( v ) {\n\t\t\t\taddParent( v, childParent );\n\t\t\t} );\n\t\t} else if ( value && typeof value === 'object' ) {\n\t\t\taddParent( value, childParent );\n\t\t}\n\t}\n\n\tif ( isNode ) {\n\t\tObject.defineProperty( obj, 'parent', {\n\t\t\tconfigurable: true,\n\t\t\twritable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: parent || null,\n\t\t} );\n\t}\n\n\treturn obj;\n}\n\n/* eslint-enable @wordpress/no-unused-vars-before-return */\n","// Adapted from https://github.com/reworkcss/css\n// because we needed to remove source map support.\n\n/**\n * Expose `Compiler`.\n */\n\nexport default Compiler;\n\n/**\n * Initialize a compiler.\n */\n\nfunction Compiler( opts ) {\n\tthis.options = opts || {};\n}\n\n/**\n * Emit `str`\n */\n\nCompiler.prototype.emit = function( str ) {\n\treturn str;\n};\n\n/**\n * Visit `node`.\n */\n\nCompiler.prototype.visit = function( node ) {\n\treturn this[ node.type ]( node );\n};\n\n/**\n * Map visit over array of `nodes`, optionally using a `delim`\n */\n\nCompiler.prototype.mapVisit = function( nodes, delim ) {\n\tlet buf = '';\n\tdelim = delim || '';\n\n\tfor ( let i = 0, length = nodes.length; i < length; i++ ) {\n\t\tbuf += this.visit( nodes[ i ] );\n\t\tif ( delim && i < length - 1 ) {\n\t\t\tbuf += this.emit( delim );\n\t\t}\n\t}\n\n\treturn buf;\n};\n","// Adapted from https://github.com/reworkcss/css\n// because we needed to remove source map support.\n\n/**\n * External dependencies\n */\nimport inherits from 'inherits';\n\n/**\n * Internal dependencies\n */\nimport Base from './compiler';\n\n/**\n * Expose compiler.\n */\n\nexport default Compiler;\n\n/**\n * Initialize a new `Compiler`.\n */\n\nfunction Compiler( options ) {\n\tBase.call( this, options );\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\ninherits( Compiler, Base );\n\n/**\n * Compile `node`.\n */\n\nCompiler.prototype.compile = function( node ) {\n\treturn node.stylesheet.rules.map( this.visit, this ).join( '' );\n};\n\n/**\n * Visit comment node.\n */\n\nCompiler.prototype.comment = function( node ) {\n\treturn this.emit( '', node.position );\n};\n\n/**\n * Visit import node.\n */\n\nCompiler.prototype.import = function( node ) {\n\treturn this.emit( '@import ' + node.import + ';', node.position );\n};\n\n/**\n * Visit media node.\n */\n\nCompiler.prototype.media = function( node ) {\n\treturn (\n\t\tthis.emit( '@media ' + node.media, node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.rules ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit document node.\n */\n\nCompiler.prototype.document = function( node ) {\n\tconst doc = '@' + ( node.vendor || '' ) + 'document ' + node.document;\n\n\treturn (\n\t\tthis.emit( doc, node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.rules ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit charset node.\n */\n\nCompiler.prototype.charset = function( node ) {\n\treturn this.emit( '@charset ' + node.charset + ';', node.position );\n};\n\n/**\n * Visit namespace node.\n */\n\nCompiler.prototype.namespace = function( node ) {\n\treturn this.emit( '@namespace ' + node.namespace + ';', node.position );\n};\n\n/**\n * Visit supports node.\n */\n\nCompiler.prototype.supports = function( node ) {\n\treturn (\n\t\tthis.emit( '@supports ' + node.supports, node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.rules ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit keyframes node.\n */\n\nCompiler.prototype.keyframes = function( node ) {\n\treturn (\n\t\tthis.emit(\n\t\t\t'@' + ( node.vendor || '' ) + 'keyframes ' + node.name,\n\t\t\tnode.position\n\t\t) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.keyframes ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit keyframe node.\n */\n\nCompiler.prototype.keyframe = function( node ) {\n\tconst decls = node.declarations;\n\n\treturn (\n\t\tthis.emit( node.values.join( ',' ), node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( decls ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit page node.\n */\n\nCompiler.prototype.page = function( node ) {\n\tconst sel = node.selectors.length ? node.selectors.join( ', ' ) : '';\n\n\treturn (\n\t\tthis.emit( '@page ' + sel, node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.declarations ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit font-face node.\n */\n\nCompiler.prototype[ 'font-face' ] = function( node ) {\n\treturn (\n\t\tthis.emit( '@font-face', node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.declarations ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit host node.\n */\n\nCompiler.prototype.host = function( node ) {\n\treturn (\n\t\tthis.emit( '@host', node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.rules ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit custom-media node.\n */\n\nCompiler.prototype[ 'custom-media' ] = function( node ) {\n\treturn this.emit(\n\t\t'@custom-media ' + node.name + ' ' + node.media + ';',\n\t\tnode.position\n\t);\n};\n\n/**\n * Visit rule node.\n */\n\nCompiler.prototype.rule = function( node ) {\n\tconst decls = node.declarations;\n\tif ( ! decls.length ) {\n\t\treturn '';\n\t}\n\n\treturn (\n\t\tthis.emit( node.selectors.join( ',' ), node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( decls ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit declaration node.\n */\n\nCompiler.prototype.declaration = function( node ) {\n\treturn (\n\t\tthis.emit( node.property + ':' + node.value, node.position ) +\n\t\tthis.emit( ';' )\n\t);\n};\n","/* eslint-disable @wordpress/no-unused-vars-before-return */\n\n// Adapted from https://github.com/reworkcss/css\n// because we needed to remove source map support.\n\n/**\n * External dependencies\n */\nimport inherits from 'inherits';\n\n/**\n * Internal dependencies\n */\nimport Base from './compiler';\n\n/**\n * Expose compiler.\n */\n\nexport default Compiler;\n\n/**\n * Initialize a new `Compiler`.\n */\n\nfunction Compiler( options ) {\n\toptions = options || {};\n\tBase.call( this, options );\n\tthis.indentation = options.indent;\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\ninherits( Compiler, Base );\n\n/**\n * Compile `node`.\n */\n\nCompiler.prototype.compile = function( node ) {\n\treturn this.stylesheet( node );\n};\n\n/**\n * Visit stylesheet node.\n */\n\nCompiler.prototype.stylesheet = function( node ) {\n\treturn this.mapVisit( node.stylesheet.rules, '\\n\\n' );\n};\n\n/**\n * Visit comment node.\n */\n\nCompiler.prototype.comment = function( node ) {\n\treturn this.emit(\n\t\tthis.indent() + '/*' + node.comment + '*/',\n\t\tnode.position\n\t);\n};\n\n/**\n * Visit import node.\n */\n\nCompiler.prototype.import = function( node ) {\n\treturn this.emit( '@import ' + node.import + ';', node.position );\n};\n\n/**\n * Visit media node.\n */\n\nCompiler.prototype.media = function( node ) {\n\treturn (\n\t\tthis.emit( '@media ' + node.media, node.position ) +\n\t\tthis.emit( ' {\\n' + this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.rules, '\\n\\n' ) +\n\t\tthis.emit( this.indent( -1 ) + '\\n}' )\n\t);\n};\n\n/**\n * Visit document node.\n */\n\nCompiler.prototype.document = function( node ) {\n\tconst doc = '@' + ( node.vendor || '' ) + 'document ' + node.document;\n\n\treturn (\n\t\tthis.emit( doc, node.position ) +\n\t\tthis.emit( ' ' + ' {\\n' + this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.rules, '\\n\\n' ) +\n\t\tthis.emit( this.indent( -1 ) + '\\n}' )\n\t);\n};\n\n/**\n * Visit charset node.\n */\n\nCompiler.prototype.charset = function( node ) {\n\treturn this.emit( '@charset ' + node.charset + ';', node.position );\n};\n\n/**\n * Visit namespace node.\n */\n\nCompiler.prototype.namespace = function( node ) {\n\treturn this.emit( '@namespace ' + node.namespace + ';', node.position );\n};\n\n/**\n * Visit supports node.\n */\n\nCompiler.prototype.supports = function( node ) {\n\treturn (\n\t\tthis.emit( '@supports ' + node.supports, node.position ) +\n\t\tthis.emit( ' {\\n' + this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.rules, '\\n\\n' ) +\n\t\tthis.emit( this.indent( -1 ) + '\\n}' )\n\t);\n};\n\n/**\n * Visit keyframes node.\n */\n\nCompiler.prototype.keyframes = function( node ) {\n\treturn (\n\t\tthis.emit(\n\t\t\t'@' + ( node.vendor || '' ) + 'keyframes ' + node.name,\n\t\t\tnode.position\n\t\t) +\n\t\tthis.emit( ' {\\n' + this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.keyframes, '\\n' ) +\n\t\tthis.emit( this.indent( -1 ) + '}' )\n\t);\n};\n\n/**\n * Visit keyframe node.\n */\n\nCompiler.prototype.keyframe = function( node ) {\n\tconst decls = node.declarations;\n\n\treturn (\n\t\tthis.emit( this.indent() ) +\n\t\tthis.emit( node.values.join( ', ' ), node.position ) +\n\t\tthis.emit( ' {\\n' + this.indent( 1 ) ) +\n\t\tthis.mapVisit( decls, '\\n' ) +\n\t\tthis.emit( this.indent( -1 ) + '\\n' + this.indent() + '}\\n' )\n\t);\n};\n\n/**\n * Visit page node.\n */\n\nCompiler.prototype.page = function( node ) {\n\tconst sel = node.selectors.length ? node.selectors.join( ', ' ) + ' ' : '';\n\n\treturn (\n\t\tthis.emit( '@page ' + sel, node.position ) +\n\t\tthis.emit( '{\\n' ) +\n\t\tthis.emit( this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.declarations, '\\n' ) +\n\t\tthis.emit( this.indent( -1 ) ) +\n\t\tthis.emit( '\\n}' )\n\t);\n};\n\n/**\n * Visit font-face node.\n */\n\nCompiler.prototype[ 'font-face' ] = function( node ) {\n\treturn (\n\t\tthis.emit( '@font-face ', node.position ) +\n\t\tthis.emit( '{\\n' ) +\n\t\tthis.emit( this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.declarations, '\\n' ) +\n\t\tthis.emit( this.indent( -1 ) ) +\n\t\tthis.emit( '\\n}' )\n\t);\n};\n\n/**\n * Visit host node.\n */\n\nCompiler.prototype.host = function( node ) {\n\treturn (\n\t\tthis.emit( '@host', node.position ) +\n\t\tthis.emit( ' {\\n' + this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.rules, '\\n\\n' ) +\n\t\tthis.emit( this.indent( -1 ) + '\\n}' )\n\t);\n};\n\n/**\n * Visit custom-media node.\n */\n\nCompiler.prototype[ 'custom-media' ] = function( node ) {\n\treturn this.emit(\n\t\t'@custom-media ' + node.name + ' ' + node.media + ';',\n\t\tnode.position\n\t);\n};\n\n/**\n * Visit rule node.\n */\n\nCompiler.prototype.rule = function( node ) {\n\tconst indent = this.indent();\n\tconst decls = node.declarations;\n\tif ( ! decls.length ) {\n\t\treturn '';\n\t}\n\n\treturn (\n\t\tthis.emit(\n\t\t\tnode.selectors\n\t\t\t\t.map( function( s ) {\n\t\t\t\t\treturn indent + s;\n\t\t\t\t} )\n\t\t\t\t.join( ',\\n' ),\n\t\t\tnode.position\n\t\t) +\n\t\tthis.emit( ' {\\n' ) +\n\t\tthis.emit( this.indent( 1 ) ) +\n\t\tthis.mapVisit( decls, '\\n' ) +\n\t\tthis.emit( this.indent( -1 ) ) +\n\t\tthis.emit( '\\n' + this.indent() + '}' )\n\t);\n};\n\n/**\n * Visit declaration node.\n */\n\nCompiler.prototype.declaration = function( node ) {\n\treturn (\n\t\tthis.emit( this.indent() ) +\n\t\tthis.emit( node.property + ': ' + node.value, node.position ) +\n\t\tthis.emit( ';' )\n\t);\n};\n\n/**\n * Increase, decrease or return current indentation.\n */\n\nCompiler.prototype.indent = function( level ) {\n\tthis.level = this.level || 1;\n\n\tif ( null !== level ) {\n\t\tthis.level += level;\n\t\treturn '';\n\t}\n\n\treturn Array( this.level ).join( this.indentation || '  ' );\n};\n\n/* eslint-enable @wordpress/no-unused-vars-before-return */\n","// Adapted from https://github.com/reworkcss/css\n// because we needed to remove source map support.\n\n/**\n * Internal dependencies\n */\nimport Compressed from './compress';\nimport Identity from './identity';\n\n/**\n * Stringfy the given AST `node`.\n *\n * Options:\n *\n *  - `compress` space-optimized output\n *  - `sourcemap` return an object with `.code` and `.map`\n *\n * @param {Object} node\n * @param {Object} [options]\n * @return {string}\n */\n\nexport default function( node, options ) {\n\toptions = options || {};\n\n\tconst compiler = options.compress\n\t\t? new Compressed( options )\n\t\t: new Identity( options );\n\n\tconst code = compiler.compile( node );\n\treturn code;\n}\n","/**\n * External dependencies\n */\nimport { map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport traverse from './traverse';\nimport urlRewrite from './transforms/url-rewrite';\nimport wrap from './transforms/wrap';\n\n/**\n * Applies a series of CSS rule transforms to wrap selectors inside a given class and/or rewrite URLs depending on the parameters passed.\n *\n * @param {Array} styles CSS rules.\n * @param {string} wrapperClassName Wrapper Class Name.\n * @return {Array} converted rules.\n */\nconst transformStyles = ( styles, wrapperClassName = '' ) => {\n\treturn map( styles, ( { css, baseURL } ) => {\n\t\tconst transforms = [];\n\t\tif ( wrapperClassName ) {\n\t\t\ttransforms.push( wrap( wrapperClassName ) );\n\t\t}\n\t\tif ( baseURL ) {\n\t\t\ttransforms.push( urlRewrite( baseURL ) );\n\t\t}\n\t\tif ( transforms.length ) {\n\t\t\treturn traverse( css, compose( transforms ) );\n\t\t}\n\n\t\treturn css;\n\t} );\n};\n\nexport default transformStyles;\n","/**\n * External dependencies\n */\nimport { parse, resolve } from 'url';\n\n/**\n * Return `true` if the given path is http/https.\n *\n * @param  {string}  filePath path\n *\n * @return {boolean} is remote path.\n */\nfunction isRemotePath( filePath ) {\n\treturn /^(?:https?:)?\\/\\//.test( filePath );\n}\n\n/**\n * Return `true` if the given filePath is an absolute url.\n *\n * @param  {string}  filePath path\n *\n * @return {boolean} is absolute path.\n */\nfunction isAbsolutePath( filePath ) {\n\treturn /^\\/(?!\\/)/.test( filePath );\n}\n\n/**\n * Whether or not the url should be inluded.\n *\n * @param  {Object} meta url meta info\n *\n * @return {boolean} is valid.\n */\nfunction isValidURL( meta ) {\n\t// ignore hashes or data uris\n\tif (\n\t\tmeta.value.indexOf( 'data:' ) === 0 ||\n\t\tmeta.value.indexOf( '#' ) === 0\n\t) {\n\t\treturn false;\n\t}\n\n\tif ( isAbsolutePath( meta.value ) ) {\n\t\treturn false;\n\t}\n\n\t// do not handle the http/https urls if `includeRemote` is false\n\tif ( isRemotePath( meta.value ) ) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n/**\n * Get the absolute path of the url, relative to the basePath\n *\n * @param  {string} str          the url\n * @param  {string} baseURL      base URL\n *\n * @return {string}              the full path to the file\n */\nfunction getResourcePath( str, baseURL ) {\n\tconst pathname = parse( str ).pathname;\n\tconst filePath = resolve( baseURL, pathname );\n\n\treturn filePath;\n}\n\n/**\n * Process the single `url()` pattern\n *\n * @param  {string} baseURL  the base URL for relative URLs\n * @return {Promise}         the Promise\n */\nfunction processURL( baseURL ) {\n\treturn function( meta ) {\n\t\tconst URL = getResourcePath( meta.value, baseURL );\n\t\treturn {\n\t\t\t...meta,\n\t\t\tnewUrl:\n\t\t\t\t'url(' +\n\t\t\t\tmeta.before +\n\t\t\t\tmeta.quote +\n\t\t\t\tURL +\n\t\t\t\tmeta.quote +\n\t\t\t\tmeta.after +\n\t\t\t\t')',\n\t\t};\n\t};\n}\n\n/**\n * Get all `url()`s, and return the meta info\n *\n * @param  {string} value decl.value\n *\n * @return {Array}        the urls\n */\nfunction getURLs( value ) {\n\tconst reg = /url\\((\\s*)(['\"]?)(.+?)\\2(\\s*)\\)/g;\n\tlet match;\n\tconst URLs = [];\n\n\twhile ( ( match = reg.exec( value ) ) !== null ) {\n\t\tconst meta = {\n\t\t\tsource: match[ 0 ],\n\t\t\tbefore: match[ 1 ],\n\t\t\tquote: match[ 2 ],\n\t\t\tvalue: match[ 3 ],\n\t\t\tafter: match[ 4 ],\n\t\t};\n\t\tif ( isValidURL( meta ) ) {\n\t\t\tURLs.push( meta );\n\t\t}\n\t}\n\treturn URLs;\n}\n\n/**\n * Replace the raw value's `url()` segment to the new value\n *\n * @param  {string} raw  the raw value\n * @param  {Array}  URLs the URLs to replace\n *\n * @return {string}     the new value\n */\nfunction replaceURLs( raw, URLs ) {\n\tURLs.forEach( ( item ) => {\n\t\traw = raw.replace( item.source, item.newUrl );\n\t} );\n\n\treturn raw;\n}\n\nconst rewrite = ( rootURL ) => ( node ) => {\n\tif ( node.type === 'declaration' ) {\n\t\tconst updatedURLs = getURLs( node.value ).map( processURL( rootURL ) );\n\t\treturn {\n\t\t\t...node,\n\t\t\tvalue: replaceURLs( node.value, updatedURLs ),\n\t\t};\n\t}\n\n\treturn node;\n};\n\nexport default rewrite;\n","/**\n * External dependencies\n */\nimport { includes } from 'lodash';\n\n/**\n * @constant string IS_ROOT_TAG Regex to check if the selector is a root tag selector.\n */\nconst IS_ROOT_TAG = /^(body|html|:root).*$/;\n\nconst wrap = ( namespace, ignore = [] ) => ( node ) => {\n\tconst updateSelector = ( selector ) => {\n\t\tif ( includes( ignore, selector.trim() ) ) {\n\t\t\treturn selector;\n\t\t}\n\n\t\t// Anything other than a root tag is always prefixed.\n\t\t{\n\t\t\tif ( ! selector.match( IS_ROOT_TAG ) ) {\n\t\t\t\treturn namespace + ' ' + selector;\n\t\t\t}\n\t\t}\n\n\t\t// HTML and Body elements cannot be contained within our container so lets extract their styles.\n\t\treturn selector.replace( /^(body|html|:root)/, namespace );\n\t};\n\n\tif ( node.type === 'rule' ) {\n\t\treturn {\n\t\t\t...node,\n\t\t\tselectors: node.selectors.map( updateSelector ),\n\t\t};\n\t}\n\n\treturn node;\n};\n\nexport default wrap;\n","/**\n * External dependencies\n */\nimport traverse from 'traverse';\n\n/**\n * Internal dependencies\n */\nimport { parse, stringify } from './ast';\n\nfunction traverseCSS( css, callback ) {\n\ttry {\n\t\tconst parsed = parse( css );\n\n\t\tconst updated = traverse.map( parsed, function( node ) {\n\t\t\tif ( ! node ) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\tconst updatedNode = callback( node );\n\t\t\treturn this.update( updatedNode );\n\t\t} );\n\n\t\treturn stringify( updated );\n\t} catch ( err ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.warn( 'Error while traversing the CSS: ' + err );\n\n\t\treturn null;\n\t}\n}\n\nexport default traverseCSS;\n","/**\n * WordPress dependencies\n */\nimport { cloneElement } from '@wordpress/element';\n\nfunction Icon( { icon, size = 24, ...props } ) {\n\treturn cloneElement( icon, {\n\t\twidth: size,\n\t\theight: size,\n\t\t...props,\n\t} );\n}\n\nexport default Icon;\n","export { default as Icon } from './icon';\n\nexport { default as alignCenter } from './library/align-center';\nexport { default as alignJustify } from './library/align-justify';\nexport { default as alignLeft } from './library/align-left';\nexport { default as alignRight } from './library/align-right';\nexport { default as archive } from './library/archive';\nexport { default as arrowDown } from './library/arrow-down';\nexport { default as arrowLeft } from './library/arrow-left';\nexport { default as arrowRight } from './library/arrow-right';\nexport { default as arrowUp } from './library/arrow-up';\nexport { default as audio } from './library/audio';\nexport { default as button } from './library/button';\nexport { default as calendar } from './library/calendar';\nexport { default as category } from './library/category';\nexport { default as check } from './library/check';\nexport { default as chevronDown } from './library/chevron-down';\nexport { default as chevronLeft } from './library/chevron-left';\nexport { default as chevronRight } from './library/chevron-right';\nexport { default as chevronUp } from './library/chevron-up';\nexport { default as classic } from './library/classic';\nexport { default as close } from './library/close';\nexport { default as code } from './library/code';\nexport { default as cog } from './library/cog';\nexport { default as column } from './library/column';\nexport { default as columns } from './library/columns';\nexport { default as comment } from './library/comment';\nexport { default as cover } from './library/cover';\nexport { default as file } from './library/file';\nexport { default as formatBold } from './library/format-bold';\nexport { default as formatItalic } from './library/format-italic';\nexport { default as formatStrikethrough } from './library/format-strikethrough';\nexport { default as gallery } from './library/gallery';\nexport { default as group } from './library/group';\nexport { default as heading } from './library/heading';\nexport { default as html } from './library/html';\nexport { default as image } from './library/image';\nexport { default as keyboardReturn } from './library/keyboard-return';\nexport { default as link } from './library/link';\nexport { default as linkOff } from './library/link-off';\nexport { default as list } from './library/list';\nexport { default as mapMarker } from './library/map-marker';\nexport { default as mediaAndText } from './library/media-and-text';\nexport { default as menu } from './library/menu';\nexport { default as more } from './library/more';\nexport { default as moreHorizontal } from './library/more-horizontal';\nexport { default as navigation } from './library/navigation';\nexport { default as pageBreak } from './library/page-break';\nexport { default as paragraph } from './library/paragraph';\nexport { default as positionCenter } from './library/position-center';\nexport { default as positionLeft } from './library/position-left';\nexport { default as positionRight } from './library/position-right';\nexport { default as pencil } from './library/pencil';\nexport { default as plusCircle } from './library/plus-circle';\nexport { default as postList } from './library/post-list';\nexport { default as preformatted } from './library/preformatted';\nexport { default as pullquote } from './library/pullquote';\nexport { default as quote } from './library/quote';\nexport { default as redo } from './library/redo';\nexport { default as resizeCornerNE } from './library/resize-corner-n-e';\nexport { default as rss } from './library/rss';\nexport { default as search } from './library/search';\nexport { default as separator } from './library/separator';\nexport { default as shortcode } from './library/shortcode';\nexport { default as stretchFullWidth } from './library/stretch-full-width';\nexport { default as stretchWide } from './library/stretch-wide';\nexport { default as table } from './library/table';\nexport { default as tag } from './library/tag';\nexport { default as title } from './library/title';\nexport { default as trash } from './library/trash';\nexport { default as undo } from './library/undo';\nexport { default as update } from './library/update';\nexport { default as upload } from './library/upload';\nexport { default as verse } from './library/verse';\nexport { default as video } from './library/video';\nexport { default as widget } from './library/widget';\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst alignCenter = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M14 5V3H6v2h8zm3 4V7H3v2h14zm-3 4v-2H6v2h8zm3 4v-2H3v2h14z\" />\n\t</SVG>\n);\n\nexport default alignCenter;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst alignJustify = (\n\t<SVG xmlns=\"https://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z\" />\n\t</SVG>\n);\n\nexport default alignJustify;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst alignLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M12 5V3H3v2h9zm5 4V7H3v2h14zm-5 4v-2H3v2h9zm5 4v-2H3v2h14z\" />\n\t</SVG>\n);\n\nexport default alignLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst alignRight = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M17 5V3H8v2h9zm0 4V7H3v2h14zm0 4v-2H8v2h9zm0 4v-2H3v2h14z\" />\n\t</SVG>\n);\n\nexport default alignRight;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst archive = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M21 6V20C21 21.1 20.1 22 19 22H5C3.89 22 3 21.1 3 20L3.01 6C3.01 4.9 3.89 4 5 4H6V2H8V4H16V2H18V4H19C20.1 4 21 4.9 21 6ZM5 8H19V6H5V8ZM19 20V10H5V20H19ZM11 12H17V14H11V12ZM17 16H11V18H17V16ZM7 12H9V14H7V12ZM9 18V16H7V18H9Z\" />\n\t</SVG>\n);\n\nexport default archive;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst arrowDown = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M9 2h2v12l4-4 2 1-7 7-7-7 2-1 4 4V2z\" />\n\t</SVG>\n);\n\nexport default arrowDown;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst arrowLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M18 9v2H6l4 4-1 2-7-7 7-7 1 2-4 4h12z\" />\n\t</SVG>\n);\n\nexport default arrowLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst arrowRight = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M2 11V9h12l-4-4 1-2 7 7-7 7-1-2 4-4H2z\" />\n\t</SVG>\n);\n\nexport default arrowRight;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst arrowUp = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M11 18H9V6l-4 4-2-1 7-7 7 7-2 1-4-4v12z\" />\n\t</SVG>\n);\n\nexport default arrowUp;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst audio = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"m12 3l0.01 10.55c-0.59-0.34-1.27-0.55-2-0.55-2.22 0-4.01 1.79-4.01 4s1.79 4 4.01 4 3.99-1.79 3.99-4v-10h4v-4h-6zm-1.99 16c-1.1 0-2-0.9-2-2s0.9-2 2-2 2 0.9 2 2-0.9 2-2 2z\" />\n\t</SVG>\n);\n\nexport default audio;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst button = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M19 6H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H5V8h14v8z\" />\n\t</SVG>\n);\n\nexport default button;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst calendar = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M7 11h2v2H7v-2zm14-5v14c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z\" />\n\t</SVG>\n);\n\nexport default calendar;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst category = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M12,2l-5.5,9h11L12,2z M12,5.84L13.93,9h-3.87L12,5.84z\" />\n\t\t<Path d=\"m17.5 13c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 7c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\" />\n\t\t<Path d=\"m3 21.5h8v-8h-8v8zm2-6h4v4h-4v-4z\" />\n\t</SVG>\n);\n\nexport default category;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst check = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M15.3 5.3l-6.8 6.8-2.8-2.8-1.4 1.4 4.2 4.2 8.2-8.2\" />\n\t</SVG>\n);\n\nexport default check;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronDown = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M7.41,8.59L12,13.17l4.59-4.58L18,10l-6,6l-6-6L7.41,8.59z\" />\n\t</SVG>\n);\n\nexport default chevronDown;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M14 5l-5 5 5 5-1 2-7-7 7-7z\" />\n\t</SVG>\n);\n\nexport default chevronLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronRight = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M6 15l5-5-5-5 1-2 7 7-7 7z\" />\n\t</SVG>\n);\n\nexport default chevronRight;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronUp = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M12,8l-6,6l1.41,1.41L12,10.83l4.59,4.58L18,14L12,8z\" />\n\t</SVG>\n);\n\nexport default chevronUp;\n","/**\n * WordPress dependencies\n */\nimport { Path, Rect, SVG } from '@wordpress/primitives';\n\nconst classic = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"m20 7v10h-16v-10h16m0-2h-16c-1.1 0-1.99 0.9-1.99 2l-0.01 10c0 1.1 0.9 2 2 2h16c1.1 0 2-0.9 2-2v-10c0-1.1-0.9-2-2-2z\" />\n\t\t<Rect x=\"11\" y=\"8\" width=\"2\" height=\"2\" />\n\t\t<Rect x=\"11\" y=\"11\" width=\"2\" height=\"2\" />\n\t\t<Rect x=\"8\" y=\"8\" width=\"2\" height=\"2\" />\n\t\t<Rect x=\"8\" y=\"11\" width=\"2\" height=\"2\" />\n\t\t<Rect x=\"5\" y=\"11\" width=\"2\" height=\"2\" />\n\t\t<Rect x=\"5\" y=\"8\" width=\"2\" height=\"2\" />\n\t\t<Rect x=\"8\" y=\"14\" width=\"8\" height=\"2\" />\n\t\t<Rect x=\"14\" y=\"11\" width=\"2\" height=\"2\" />\n\t\t<Rect x=\"14\" y=\"8\" width=\"2\" height=\"2\" />\n\t\t<Rect x=\"17\" y=\"11\" width=\"2\" height=\"2\" />\n\t\t<Rect x=\"17\" y=\"8\" width=\"2\" height=\"2\" />\n\t</SVG>\n);\n\nexport default classic;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst close = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M14.95 6.46L11.41 10l3.54 3.54-1.41 1.41L10 11.42l-3.53 3.53-1.42-1.42L8.58 10 5.05 6.47l1.42-1.42L10 8.58l3.54-3.53z\" />\n\t</SVG>\n);\n\nexport default close;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst code = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M9.4,16.6L4.8,12l4.6-4.6L8,6l-6,6l6,6L9.4,16.6z M14.6,16.6l4.6-4.6l-4.6-4.6L16,6l6,6l-6,6L14.6,16.6z\" />\n\t</SVG>\n);\n\nexport default code;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst cog = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M18 12h-2.18c-.17.7-.44 1.35-.81 1.93l1.54 1.54-2.1 2.1-1.54-1.54c-.58.36-1.23.63-1.91.79V19H8v-2.18c-.68-.16-1.33-.43-1.91-.79l-1.54 1.54-2.12-2.12 1.54-1.54c-.36-.58-.63-1.23-.79-1.91H1V9.03h2.17c.16-.7.44-1.35.8-1.94L2.43 5.55l2.1-2.1 1.54 1.54c.58-.37 1.24-.64 1.93-.81V2h3v2.18c.68.16 1.33.43 1.91.79l1.54-1.54 2.12 2.12-1.54 1.54c.36.59.64 1.24.8 1.94H18V12zm-8.5 1.5c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z\" />\n\t</SVG>\n);\n\nexport default cog;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst column = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16zm0-11.47L17.74 9 12 13.47 6.26 9 12 4.53z\" />\n\t</SVG>\n);\n\nexport default column;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst columns = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M4,4H20a2,2,0,0,1,2,2V18a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V6A2,2,0,0,1,4,4ZM4 6V18H8V6Zm6 0V18h4V6Zm6 0V18h4V6Z\" />\n\t</SVG>\n);\n\nexport default columns;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst comment = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM20 4v13.17L18.83 16H4V4h16zM6 12h12v2H6zm0-3h12v2H6zm0-3h12v2H6z\" />\n\t</SVG>\n);\n\nexport default comment;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst cover = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2V4zm6 9l-4 5h12l-3-4-2.03 2.71L10 13zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5zM20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2zm0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2v7zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4v-7z\" />\n\t</SVG>\n);\n\nexport default cover;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst file = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M9.17 6l2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\" />\n\t</SVG>\n);\n\nexport default file;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst formatBold = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M6 4v13h4.54c1.37 0 2.46-.33 3.26-1 .8-.66 1.2-1.58 1.2-2.77 0-.84-.17-1.51-.51-2.01s-.9-.85-1.67-1.03v-.09c.57-.1 1.02-.4 1.36-.9s.51-1.13.51-1.91c0-1.14-.39-1.98-1.17-2.5C12.75 4.26 11.5 4 9.78 4H6zm2.57 5.15V6.26h1.36c.73 0 1.27.11 1.61.32.34.22.51.58.51 1.07 0 .54-.16.92-.47 1.15s-.82.35-1.51.35h-1.5zm0 2.19h1.6c1.44 0 2.16.53 2.16 1.61 0 .6-.17 1.05-.51 1.34s-.86.43-1.57.43H8.57v-3.38z\" />\n\t</SVG>\n);\n\nexport default formatBold;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst formatItalic = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M14.78 6h-2.13l-2.8 9h2.12l-.62 2H4.6l.62-2h2.14l2.8-9H8.03l.62-2h6.75z\" />\n\t</SVG>\n);\n\nexport default formatItalic;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst formatStrikethrough = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M15.82 12.25c.26 0 .5-.02.74-.07.23-.05.48-.12.73-.2v.84c-.46.17-.99.26-1.58.26-.88 0-1.54-.26-2.01-.79-.39-.44-.62-1.04-.68-1.79h-.94c.12.21.18.48.18.79 0 .54-.18.95-.55 1.26-.38.3-.9.45-1.56.45H8v-2.5H6.59l.93 2.5H6.49l-.59-1.67H3.62L3.04 13H2l.93-2.5H2v-1h1.31l.93-2.49H5.3l.92 2.49H8V7h1.77c1 0 1.41.17 1.77.41.37.24.55.62.55 1.13 0 .35-.09.64-.27.87l-.08.09h1.29c.05-.4.15-.77.31-1.1.23-.46.55-.82.98-1.06.43-.25.93-.37 1.51-.37.61 0 1.17.12 1.69.38l-.35.81c-.2-.1-.42-.18-.64-.25s-.46-.11-.71-.11c-.55 0-.99.2-1.31.59-.23.29-.38.66-.44 1.11H17v1h-2.95c.06.5.2.9.44 1.19.3.37.75.56 1.33.56zM4.44 8.96l-.18.54H5.3l-.22-.61c-.04-.11-.09-.28-.17-.51-.07-.24-.12-.41-.14-.51-.08.33-.18.69-.33 1.09zm4.53-1.09V9.5h1.19c.28-.02.49-.09.64-.18.19-.13.28-.35.28-.66 0-.28-.1-.48-.3-.61-.2-.12-.53-.18-.97-.18h-.84zm-3.33 2.64v-.01H3.91v.01h1.73zm5.28.01l-.03-.02H8.97v1.68h1.04c.4 0 .71-.08.92-.23.21-.16.31-.4.31-.74 0-.31-.11-.54-.32-.69z\" />\n\t</SVG>\n);\n\nexport default formatStrikethrough;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport const gallery = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M20 4v12H8V4h12m0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 9.67l1.69 2.26 2.48-3.1L19 15H9zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z\" />\n\t</SVG>\n);\n\nexport default gallery;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst group = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M9 8a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-1v3a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h1V8zm2 3h4V9h-4v2zm2 2H9v2h4v-2z\"\n\t\t/>\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M2 4.732A2 2 0 1 1 4.732 2h14.536A2 2 0 1 1 22 4.732v14.536A2 2 0 1 1 19.268 22H4.732A2 2 0 1 1 2 19.268V4.732zM4.732 4h14.536c.175.304.428.557.732.732v14.536a2.01 2.01 0 0 0-.732.732H4.732A2.01 2.01 0 0 0 4 19.268V4.732A2.01 2.01 0 0 0 4.732 4z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default group;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst heading = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M12.5 4v5.2h-5V4H5v13h2.5v-5.2h5V17H15V4\" />\n\t</SVG>\n);\n\nexport default heading;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst html = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M4.5,11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5V11z M7,10.5h1.5V15H10v-4.5h1.5V9H7V10.5z M14.5,10l-1-1H12v6h1.5v-3.9  l1,1l1-1V15H17V9h-1.5L14.5,10z M19.5,13.5V9H18v6h5v-1.5H19.5z\" />\n\t</SVG>\n);\n\nexport default html;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst image = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"m19 5v14h-14v-14h14m0-2h-14c-1.1 0-2 0.9-2 2v14c0 1.1 0.9 2 2 2h14c1.1 0 2-0.9 2-2v-14c0-1.1-0.9-2-2-2z\" />\n\t\t<Path d=\"m14.14 11.86l-3 3.87-2.14-2.59-3 3.86h12l-3.86-5.14z\" />\n\t</SVG>\n);\n\nexport default image;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst keyboardReturn = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M16 4h2v9H7v3l-5-4 5-4v3h9V4z\" />\n\t</SVG>\n);\n\nexport default keyboardReturn;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst linkOff = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M17.74 2.26c1.68 1.69 1.68 4.41 0 6.1l-1.53 1.52c-.32.33-.69.58-1.08.77L13 10l1.69-1.64.76-.77.76-.76c.84-.84.84-2.2 0-3.04-.84-.85-2.2-.85-3.04 0l-.77.76-.76.76L10 7l-.65-2.14c.19-.38.44-.75.77-1.07l1.52-1.53c1.69-1.68 4.42-1.68 6.1 0zM2 4l8 6-6-8zm4-2l4 8-2-8H6zM2 6l8 4-8-2V6zm7.36 7.69L10 13l.74 2.35-1.38 1.39c-1.69 1.68-4.41 1.68-6.1 0-1.68-1.68-1.68-4.42 0-6.1l1.39-1.38L7 10l-.69.64-1.52 1.53c-.85.84-.85 2.2 0 3.04.84.85 2.2.85 3.04 0zM18 16l-8-6 6 8zm-4 2l-4-8 2 8h2zm4-4l-8-4 8 2v2z\" />\n\t</SVG>\n);\n\nexport default linkOff;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst link = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M17.74 2.76c1.68 1.69 1.68 4.41 0 6.1l-1.53 1.52c-1.12 1.12-2.7 1.47-4.14 1.09l2.62-2.61.76-.77.76-.76c.84-.84.84-2.2 0-3.04-.84-.85-2.2-.85-3.04 0l-.77.76-3.38 3.38c-.37-1.44-.02-3.02 1.1-4.14l1.52-1.53c1.69-1.68 4.42-1.68 6.1 0zM8.59 13.43l5.34-5.34c.42-.42.42-1.1 0-1.52-.44-.43-1.13-.39-1.53 0l-5.33 5.34c-.42.42-.42 1.1 0 1.52.44.43 1.13.39 1.52 0zm-.76 2.29l4.14-4.15c.38 1.44.03 3.02-1.09 4.14l-1.52 1.53c-1.69 1.68-4.41 1.68-6.1 0-1.68-1.68-1.68-4.42 0-6.1l1.53-1.52c1.12-1.12 2.7-1.47 4.14-1.1l-4.14 4.15c-.85.84-.85 2.2 0 3.05.84.84 2.2.84 3.04 0z\" />\n\t</SVG>\n);\n\nexport default link;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst list = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M9 19h12v-2H9v2zm0-6h12v-2H9v2zm0-8v2h12V5H9zm-4-.5c-.828 0-1.5.672-1.5 1.5S4.172 7.5 5 7.5 6.5 6.828 6.5 6 5.828 4.5 5 4.5zm0 6c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zm0 6c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5z\" />\n\t</SVG>\n);\n\nexport default list;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path, Circle } from '@wordpress/primitives';\n\nconst mapMarker = (\n\t<SVG xmlns=\"https://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zM7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.88-2.88 7.19-5 9.88C9.92 16.21 7 11.85 7 9z\" />\n\t\t<Circle cx=\"12\" cy=\"9\" r=\"2.5\" />\n\t</SVG>\n);\n\nexport default mapMarker;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst mediaAndText = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13 17h8v-2h-8v2zM3 19h8V5H3v14zM13 9h8V7h-8v2zm0 4h8v-2h-8v2z\" />\n\t</SVG>\n);\n\nexport default mediaAndText;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst menu = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M17 7V5H3v2h14zm0 4V9H3v2h14zm0 4v-2H3v2h14z\" />\n\t</SVG>\n);\n\nexport default menu;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst moreHorizontal = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M5 10c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm12-2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-7 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\n\t</SVG>\n);\n\nexport default moreHorizontal;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst more = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M2 9v2h19V9H2zm0 6h5v-2H2v2zm7 0h5v-2H9v2zm7 0h5v-2h-5v2z\" />\n\t</SVG>\n);\n\nexport default more;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst navigation = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M12 7.27l4.28 10.43-3.47-1.53-.81-.36-.81.36-3.47 1.53L12 7.27M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71L12 2z\" />\n\t</SVG>\n);\n\nexport default navigation;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst pageBreak = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M9 11h6v2H9zM2 11h5v2H2zM17 11h5v2h-5zM6 4h7v5h7V8l-6-6H6a2 2 0 0 0-2 2v5h2zM18 20H6v-5H4v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5h-2z\" />\n\t</SVG>\n);\n\nexport default pageBreak;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst paragraph = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11 5v7H9.5C7.6 12 6 10.4 6 8.5S7.6 5 9.5 5H11m8-2H9.5C6.5 3 4 5.5 4 8.5S6.5 14 9.5 14H11v7h2V5h2v16h2V5h2V3z\" />\n\t</SVG>\n);\n\nexport default paragraph;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst pencil = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M13.89 3.39l2.71 2.72c.46.46.42 1.24.03 1.64l-8.01 8.02-5.56 1.16 1.16-5.58s7.6-7.63 7.99-8.03c.39-.39 1.22-.39 1.68.07zm-2.73 2.79l-5.59 5.61 1.11 1.11 5.54-5.65zm-2.97 8.23l5.58-5.6-1.07-1.08-5.59 5.6zM13.89 3.39l2.71 2.72c.46.46.42 1.24.03 1.64l-8.01 8.02-5.56 1.16 1.16-5.58s7.6-7.63 7.99-8.03c.39-.39 1.22-.39 1.68.07zm-2.73 2.79l-5.59 5.61 1.11 1.11 5.54-5.65zm-2.97 8.23l5.58-5.6-1.07-1.08-5.59 5.6z\" />\n\t</SVG>\n);\n\nexport default pencil;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plusCircle = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M10 1c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 16c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7zm1-11H9v3H6v2h3v3h2v-3h3V9h-3V6zM10 1c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 16c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7zm1-11H9v3H6v2h3v3h2v-3h3V9h-3V6z\" />\n\t</SVG>\n);\n\nexport default plusCircle;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst positionCenter = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M3 5h14V3H3v2zm12 8V7H5v6h10zM3 17h14v-2H3v2z\" />\n\t</SVG>\n);\n\nexport default positionCenter;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst positionLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M3 5h14V3H3v2zm9 8V7H3v6h9zm2-4h3V7h-3v2zm0 4h3v-2h-3v2zM3 17h14v-2H3v2z\" />\n\t</SVG>\n);\n\nexport default positionLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst positionRight = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M3 5h14V3H3v2zm0 4h3V7H3v2zm14 4V7H8v6h9zM3 13h3v-2H3v2zm0 4h14v-2H3v2z\" />\n\t</SVG>\n);\n\nexport default positionRight;\n","/**\n * WordPress dependencies\n */\nimport { Path, Rect, SVG } from '@wordpress/primitives';\n\nconst postList = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Rect x=\"11\" y=\"7\" width=\"6\" height=\"2\" />\n\t\t<Rect x=\"11\" y=\"11\" width=\"6\" height=\"2\" />\n\t\t<Rect x=\"11\" y=\"15\" width=\"6\" height=\"2\" />\n\t\t<Rect x=\"7\" y=\"7\" width=\"2\" height=\"2\" />\n\t\t<Rect x=\"7\" y=\"11\" width=\"2\" height=\"2\" />\n\t\t<Rect x=\"7\" y=\"15\" width=\"2\" height=\"2\" />\n\t\t<Path d=\"M20.1,3H3.9C3.4,3,3,3.4,3,3.9v16.2C3,20.5,3.4,21,3.9,21h16.2c0.4,0,0.9-0.5,0.9-0.9V3.9C21,3.4,20.5,3,20.1,3z M19,19H5V5h14V19z\" />\n\t</SVG>\n);\n\nexport default postList;\n","/**\n * WordPress dependencies\n */\nimport { Path, Rect, SVG } from '@wordpress/primitives';\n\nconst preformatted = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M20,4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V6C22,4.9,21.1,4,20,4z M20,18H4V6h16V18z\" />\n\t\t<Rect x=\"6\" y=\"10\" width=\"2\" height=\"2\" />\n\t\t<Rect x=\"6\" y=\"14\" width=\"8\" height=\"2\" />\n\t\t<Rect x=\"16\" y=\"14\" width=\"2\" height=\"2\" />\n\t\t<Rect x=\"10\" y=\"10\" width=\"8\" height=\"2\" />\n\t</SVG>\n);\n\nexport default preformatted;\n","/**\n * WordPress dependencies\n */\nimport { Path, Polygon, SVG } from '@wordpress/primitives';\n\nconst pullquote = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Polygon points=\"21 18 2 18 2 20 21 20\" />\n\t\t<Path d=\"m19 10v4h-15v-4h15m1-2h-17c-0.55 0-1 0.45-1 1v6c0 0.55 0.45 1 1 1h17c0.55 0 1-0.45 1-1v-6c0-0.55-0.45-1-1-1z\" />\n\t\t<Polygon points=\"21 4 2 4 2 6 21 6\" />\n\t</SVG>\n);\n\nexport default pullquote;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst quote = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M18.62 18h-5.24l2-4H13V6h8v7.24L18.62 18zm-2-2h.76L19 12.76V8h-4v4h3.62l-2 4zm-8 2H3.38l2-4H3V6h8v7.24L8.62 18zm-2-2h.76L9 12.76V8H5v4h3.62l-2 4z\" />\n\t</SVG>\n);\n\nexport default quote;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst redo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M8 5h5V2l6 4-6 4V7H8c-2.2 0-4 1.8-4 4s1.8 4 4 4h5v2H8c-3.3 0-6-2.7-6-6s2.7-6 6-6z\" />\n\t</SVG>\n);\n\nexport default redo;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst resizeCornerNE = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M13 4v2h3.59L6 16.59V13H4v7h7v-2H7.41L18 7.41V11h2V4h-7\" />\n\t</SVG>\n);\n\nexport default resizeCornerNE;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst rss = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M14.92 18H18C18 9.32 10.82 2.25 2 2.25v3.02c7.12 0 12.92 5.71 12.92 12.73zm-5.44 0h3.08C12.56 12.27 7.82 7.6 2 7.6v3.02c2 0 3.87.77 5.29 2.16C8.7 14.17 9.48 16.03 9.48 18zm-5.35-.02c1.17 0 2.13-.93 2.13-2.09 0-1.15-.96-2.09-2.13-2.09-1.18 0-2.13.94-2.13 2.09 0 1.16.95 2.09 2.13 2.09z\" />\n\t</SVG>\n);\n\nexport default rss;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst search = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M12.14 4.18c1.87 1.87 2.11 4.75.72 6.89.12.1.22.21.36.31.2.16.47.36.81.59.34.24.56.39.66.47.42.31.73.57.94.78.32.32.6.65.84 1 .25.35.44.69.59 1.04.14.35.21.68.18 1-.02.32-.14.59-.36.81s-.49.34-.81.36c-.31.02-.65-.04-.99-.19-.35-.14-.7-.34-1.04-.59-.35-.24-.68-.52-1-.84-.21-.21-.47-.52-.77-.93-.1-.13-.25-.35-.47-.66-.22-.32-.4-.57-.56-.78-.16-.2-.29-.35-.44-.5-2.07 1.09-4.69.76-6.44-.98-2.14-2.15-2.14-5.64 0-7.78 2.15-2.15 5.63-2.15 7.78 0zm-1.41 6.36c1.36-1.37 1.36-3.58 0-4.95-1.37-1.37-3.59-1.37-4.95 0-1.37 1.37-1.37 3.58 0 4.95 1.36 1.37 3.58 1.37 4.95 0z\" />\n\t</SVG>\n);\n\nexport default search;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst separator = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M19 13H5v-2h14v2z\" />\n\t</SVG>\n);\n\nexport default separator;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst shortcode = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M8.5,21.4l1.9,0.5l5.2-19.3l-1.9-0.5L8.5,21.4z M3,19h4v-2H5V7h2V5H3V19z M17,5v2h2v10h-2v2h4V5H17z\" />\n\t</SVG>\n);\n\nexport default shortcode;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst stretchFullWidth = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M17 13V3H3v10h14zM5 17h10v-2H5v2z\" />\n\t</SVG>\n);\n\nexport default stretchFullWidth;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst stretchWide = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M5 5h10V3H5v2zm12 8V7H3v6h14zM5 17h10v-2H5v2z\" />\n\t</SVG>\n);\n\nexport default stretchWide;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst table = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M20 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 2v3H5V5h15zm-5 14h-5v-9h5v9zM5 10h3v9H5v-9zm12 9v-9h3v9h-3z\" />\n\t</SVG>\n);\n\nexport default table;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst tag = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M11 2h7v7L8 19l-7-7zm3 6c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\" />\n\t</SVG>\n);\n\nexport default tag;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst title = (\n\t<SVG xmlns=\"https://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M5 4v3h5.5v12h3V7H19V4H5z\" />\n\t</SVG>\n);\n\nexport default title;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst trash = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M12 4h3c.6 0 1 .4 1 1v1H3V5c0-.6.5-1 1-1h3c.2-1.1 1.3-2 2.5-2s2.3.9 2.5 2zM8 4h3c-.2-.6-.9-1-1.5-1S8.2 3.4 8 4zM4 7h11l-.9 10.1c0 .5-.5.9-1 .9H5.9c-.5 0-.9-.4-1-.9L4 7z\" />\n\t</SVG>\n);\n\nexport default trash;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst undo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M12 5H7V2L1 6l6 4V7h5c2.2 0 4 1.8 4 4s-1.8 4-4 4H7v2h5c3.3 0 6-2.7 6-6s-2.7-6-6-6z\" />\n\t</SVG>\n);\n\nexport default undo;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst update = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M10.2 3.28c3.53 0 6.43 2.61 6.92 6h2.08l-3.5 4-3.5-4h2.32c-.45-1.97-2.21-3.45-4.32-3.45-1.45 0-2.73.71-3.54 1.78L4.95 5.66C6.23 4.2 8.11 3.28 10.2 3.28zm-.4 13.44c-3.52 0-6.43-2.61-6.92-6H.8l3.5-4c1.17 1.33 2.33 2.67 3.5 4H5.48c.45 1.97 2.21 3.45 4.32 3.45 1.45 0 2.73-.71 3.54-1.78l1.71 1.95c-1.28 1.46-3.15 2.38-5.25 2.38z\" />\n\t</SVG>\n);\n\nexport default update;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst upload = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M8 14V8H5l5-6 5 6h-3v6H8zm-2 2v-6H4v8h12.01v-8H14v6H6z\" />\n\t</SVG>\n);\n\nexport default upload;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst verse = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M21 11.01L3 11V13H21V11.01ZM3 16H17V18H3V16ZM15 6H3V8.01L15 8V6Z\" />\n\t</SVG>\n);\n\nexport default verse;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst video = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M4 6.47L5.76 10H20v8H4V6.47M22 4h-4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4z\" />\n\t</SVG>\n);\n\nexport default video;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst widget = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M7 11h2v2H7v-2zm14-5v14l-2 2H5l-2-2V6l2-2h1V2h2v2h8V2h2v2h1l2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z\" />\n\t</SVG>\n);\n\nexport default widget;\n","/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// This code has been refactored for 140 bytes\n// You can see the original here: https://github.com/twolfson/computedStyle/blob/04cd1da2e30fa45844f95f5cb1ac898e9b9ef050/lib/computedStyle.js\nvar computedStyle = function (el, prop, getComputedStyle) {\n  getComputedStyle = window.getComputedStyle;\n\n  // In one fell swoop\n  return (\n    // If we have getComputedStyle\n    getComputedStyle ?\n      // Query it\n      // TODO: From CSS-Query notes, we might need (node, null) for FF\n      getComputedStyle(el) :\n\n    // Otherwise, we are in IE and use currentStyle\n      el.currentStyle\n  )[\n    // Switch to camelCase for CSSOM\n    // DEV: Grabbed from jQuery\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/css.js#L191-L194\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/core.js#L593-L597\n    prop.replace(/-(\\w)/gi, function (word, letter) {\n      return letter.toUpperCase();\n    })\n  ];\n};\n\nmodule.exports = computedStyle;\n","export function convertChangesToXML(changes) {\n  let ret = [];\n  for (let i = 0; i < changes.length; i++) {\n    let change = changes[i];\n    if (change.added) {\n      ret.push('<ins>');\n    } else if (change.removed) {\n      ret.push('<del>');\n    }\n\n    ret.push(escapeHTML(change.value));\n\n    if (change.added) {\n      ret.push('</ins>');\n    } else if (change.removed) {\n      ret.push('</del>');\n    }\n  }\n  return ret.join('');\n}\n\nfunction escapeHTML(s) {\n  let n = s;\n  n = n.replace(/&/g, '&amp;');\n  n = n.replace(/</g, '&lt;');\n  n = n.replace(/>/g, '&gt;');\n  n = n.replace(/\"/g, '&quot;');\n\n  return n;\n}\n","'use strict';\n\nvar util = require('./util');\n\nfunction scrollIntoView(elem, container, config) {\n  config = config || {};\n  // document 归一化到 window\n  if (container.nodeType === 9) {\n    container = util.getWindow(container);\n  }\n\n  var allowHorizontalScroll = config.allowHorizontalScroll;\n  var onlyScrollIfNeeded = config.onlyScrollIfNeeded;\n  var alignWithTop = config.alignWithTop;\n  var alignWithLeft = config.alignWithLeft;\n  var offsetTop = config.offsetTop || 0;\n  var offsetLeft = config.offsetLeft || 0;\n  var offsetBottom = config.offsetBottom || 0;\n  var offsetRight = config.offsetRight || 0;\n\n  allowHorizontalScroll = allowHorizontalScroll === undefined ? true : allowHorizontalScroll;\n\n  var isWin = util.isWindow(container);\n  var elemOffset = util.offset(elem);\n  var eh = util.outerHeight(elem);\n  var ew = util.outerWidth(elem);\n  var containerOffset = undefined;\n  var ch = undefined;\n  var cw = undefined;\n  var containerScroll = undefined;\n  var diffTop = undefined;\n  var diffBottom = undefined;\n  var win = undefined;\n  var winScroll = undefined;\n  var ww = undefined;\n  var wh = undefined;\n\n  if (isWin) {\n    win = container;\n    wh = util.height(win);\n    ww = util.width(win);\n    winScroll = {\n      left: util.scrollLeft(win),\n      top: util.scrollTop(win)\n    };\n    // elem 相对 container 可视视窗的距离\n    diffTop = {\n      left: elemOffset.left - winScroll.left - offsetLeft,\n      top: elemOffset.top - winScroll.top - offsetTop\n    };\n    diffBottom = {\n      left: elemOffset.left + ew - (winScroll.left + ww) + offsetRight,\n      top: elemOffset.top + eh - (winScroll.top + wh) + offsetBottom\n    };\n    containerScroll = winScroll;\n  } else {\n    containerOffset = util.offset(container);\n    ch = container.clientHeight;\n    cw = container.clientWidth;\n    containerScroll = {\n      left: container.scrollLeft,\n      top: container.scrollTop\n    };\n    // elem 相对 container 可视视窗的距离\n    // 注意边框, offset 是边框到根节点\n    diffTop = {\n      left: elemOffset.left - (containerOffset.left + (parseFloat(util.css(container, 'borderLeftWidth')) || 0)) - offsetLeft,\n      top: elemOffset.top - (containerOffset.top + (parseFloat(util.css(container, 'borderTopWidth')) || 0)) - offsetTop\n    };\n    diffBottom = {\n      left: elemOffset.left + ew - (containerOffset.left + cw + (parseFloat(util.css(container, 'borderRightWidth')) || 0)) + offsetRight,\n      top: elemOffset.top + eh - (containerOffset.top + ch + (parseFloat(util.css(container, 'borderBottomWidth')) || 0)) + offsetBottom\n    };\n  }\n\n  if (diffTop.top < 0 || diffBottom.top > 0) {\n    // 强制向上\n    if (alignWithTop === true) {\n      util.scrollTop(container, containerScroll.top + diffTop.top);\n    } else if (alignWithTop === false) {\n      util.scrollTop(container, containerScroll.top + diffBottom.top);\n    } else {\n      // 自动调整\n      if (diffTop.top < 0) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  } else {\n    if (!onlyScrollIfNeeded) {\n      alignWithTop = alignWithTop === undefined ? true : !!alignWithTop;\n      if (alignWithTop) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  }\n\n  if (allowHorizontalScroll) {\n    if (diffTop.left < 0 || diffBottom.left > 0) {\n      // 强制向上\n      if (alignWithLeft === true) {\n        util.scrollLeft(container, containerScroll.left + diffTop.left);\n      } else if (alignWithLeft === false) {\n        util.scrollLeft(container, containerScroll.left + diffBottom.left);\n      } else {\n        // 自动调整\n        if (diffTop.left < 0) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    } else {\n      if (!onlyScrollIfNeeded) {\n        alignWithLeft = alignWithLeft === undefined ? true : !!alignWithLeft;\n        if (alignWithLeft) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = scrollIntoView;","'use strict';\n\nmodule.exports = require('./dom-scroll-into-view');","'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar RE_NUM = /[\\-+]?(?:\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/.source;\n\nfunction getClientPosition(elem) {\n  var box = undefined;\n  var x = undefined;\n  var y = undefined;\n  var doc = elem.ownerDocument;\n  var body = doc.body;\n  var docElem = doc && doc.documentElement;\n  // 根据 GBS 最新数据，A-Grade Browsers 都已支持 getBoundingClientRect 方法，不用再考虑传统的实现方式\n  box = elem.getBoundingClientRect();\n\n  // 注：jQuery 还考虑减去 docElem.clientLeft/clientTop\n  // 但测试发现，这样反而会导致当 html 和 body 有边距/边框样式时，获取的值不正确\n  // 此外，ie6 会忽略 html 的 margin 值，幸运地是没有谁会去设置 html 的 margin\n\n  x = box.left;\n  y = box.top;\n\n  // In IE, most of the time, 2 extra pixels are added to the top and left\n  // due to the implicit 2-pixel inset border.  In IE6/7 quirks mode and\n  // IE6 standards mode, this border can be overridden by setting the\n  // document element's border to zero -- thus, we cannot rely on the\n  // offset always being 2 pixels.\n\n  // In quirks mode, the offset can be determined by querying the body's\n  // clientLeft/clientTop, but in standards mode, it is found by querying\n  // the document element's clientLeft/clientTop.  Since we already called\n  // getClientBoundingRect we have already forced a reflow, so it is not\n  // too expensive just to query them all.\n\n  // ie 下应该减去窗口的边框吧，毕竟默认 absolute 都是相对窗口定位的\n  // 窗口边框标准是设 documentElement ,quirks 时设置 body\n  // 最好禁止在 body 和 html 上边框 ，但 ie < 9 html 默认有 2px ，减去\n  // 但是非 ie 不可能设置窗口边框，body html 也不是窗口 ,ie 可以通过 html,body 设置\n  // 标准 ie 下 docElem.clientTop 就是 border-top\n  // ie7 html 即窗口边框改变不了。永远为 2\n  // 但标准 firefox/chrome/ie9 下 docElem.clientTop 是窗口边框，即使设了 border-top 也为 0\n\n  x -= docElem.clientLeft || body.clientLeft || 0;\n  y -= docElem.clientTop || body.clientTop || 0;\n\n  return {\n    left: x,\n    top: y\n  };\n}\n\nfunction getScroll(w, top) {\n  var ret = w['page' + (top ? 'Y' : 'X') + 'Offset'];\n  var method = 'scroll' + (top ? 'Top' : 'Left');\n  if (typeof ret !== 'number') {\n    var d = w.document;\n    // ie6,7,8 standard mode\n    ret = d.documentElement[method];\n    if (typeof ret !== 'number') {\n      // quirks mode\n      ret = d.body[method];\n    }\n  }\n  return ret;\n}\n\nfunction getScrollLeft(w) {\n  return getScroll(w);\n}\n\nfunction getScrollTop(w) {\n  return getScroll(w, true);\n}\n\nfunction getOffset(el) {\n  var pos = getClientPosition(el);\n  var doc = el.ownerDocument;\n  var w = doc.defaultView || doc.parentWindow;\n  pos.left += getScrollLeft(w);\n  pos.top += getScrollTop(w);\n  return pos;\n}\nfunction _getComputedStyle(elem, name, computedStyle_) {\n  var val = '';\n  var d = elem.ownerDocument;\n  var computedStyle = computedStyle_ || d.defaultView.getComputedStyle(elem, null);\n\n  // https://github.com/kissyteam/kissy/issues/61\n  if (computedStyle) {\n    val = computedStyle.getPropertyValue(name) || computedStyle[name];\n  }\n\n  return val;\n}\n\nvar _RE_NUM_NO_PX = new RegExp('^(' + RE_NUM + ')(?!px)[a-z%]+$', 'i');\nvar RE_POS = /^(top|right|bottom|left)$/;\nvar CURRENT_STYLE = 'currentStyle';\nvar RUNTIME_STYLE = 'runtimeStyle';\nvar LEFT = 'left';\nvar PX = 'px';\n\nfunction _getComputedStyleIE(elem, name) {\n  // currentStyle maybe null\n  // http://msdn.microsoft.com/en-us/library/ms535231.aspx\n  var ret = elem[CURRENT_STYLE] && elem[CURRENT_STYLE][name];\n\n  // 当 width/height 设置为百分比时，通过 pixelLeft 方式转换的 width/height 值\n  // 一开始就处理了! CUSTOM_STYLE.height,CUSTOM_STYLE.width ,cssHook 解决@2011-08-19\n  // 在 ie 下不对，需要直接用 offset 方式\n  // borderWidth 等值也有问题，但考虑到 borderWidth 设为百分比的概率很小，这里就不考虑了\n\n  // From the awesome hack by Dean Edwards\n  // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n  // If we're not dealing with a regular pixel number\n  // but a number that has a weird ending, we need to convert it to pixels\n  // exclude left right for relativity\n  if (_RE_NUM_NO_PX.test(ret) && !RE_POS.test(name)) {\n    // Remember the original values\n    var style = elem.style;\n    var left = style[LEFT];\n    var rsLeft = elem[RUNTIME_STYLE][LEFT];\n\n    // prevent flashing of content\n    elem[RUNTIME_STYLE][LEFT] = elem[CURRENT_STYLE][LEFT];\n\n    // Put in the new values to get a computed value out\n    style[LEFT] = name === 'fontSize' ? '1em' : ret || 0;\n    ret = style.pixelLeft + PX;\n\n    // Revert the changed values\n    style[LEFT] = left;\n\n    elem[RUNTIME_STYLE][LEFT] = rsLeft;\n  }\n  return ret === '' ? 'auto' : ret;\n}\n\nvar getComputedStyleX = undefined;\nif (typeof window !== 'undefined') {\n  getComputedStyleX = window.getComputedStyle ? _getComputedStyle : _getComputedStyleIE;\n}\n\nfunction each(arr, fn) {\n  for (var i = 0; i < arr.length; i++) {\n    fn(arr[i]);\n  }\n}\n\nfunction isBorderBoxFn(elem) {\n  return getComputedStyleX(elem, 'boxSizing') === 'border-box';\n}\n\nvar BOX_MODELS = ['margin', 'border', 'padding'];\nvar CONTENT_INDEX = -1;\nvar PADDING_INDEX = 2;\nvar BORDER_INDEX = 1;\nvar MARGIN_INDEX = 0;\n\nfunction swap(elem, options, callback) {\n  var old = {};\n  var style = elem.style;\n  var name = undefined;\n\n  // Remember the old values, and insert the new ones\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      old[name] = style[name];\n      style[name] = options[name];\n    }\n  }\n\n  callback.call(elem);\n\n  // Revert the old values\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      style[name] = old[name];\n    }\n  }\n}\n\nfunction getPBMWidth(elem, props, which) {\n  var value = 0;\n  var prop = undefined;\n  var j = undefined;\n  var i = undefined;\n  for (j = 0; j < props.length; j++) {\n    prop = props[j];\n    if (prop) {\n      for (i = 0; i < which.length; i++) {\n        var cssProp = undefined;\n        if (prop === 'border') {\n          cssProp = prop + which[i] + 'Width';\n        } else {\n          cssProp = prop + which[i];\n        }\n        value += parseFloat(getComputedStyleX(elem, cssProp)) || 0;\n      }\n    }\n  }\n  return value;\n}\n\n/**\n * A crude way of determining if an object is a window\n * @member util\n */\nfunction isWindow(obj) {\n  // must use == for ie8\n  /* eslint eqeqeq:0 */\n  return obj != null && obj == obj.window;\n}\n\nvar domUtils = {};\n\neach(['Width', 'Height'], function (name) {\n  domUtils['doc' + name] = function (refWin) {\n    var d = refWin.document;\n    return Math.max(\n    // firefox chrome documentElement.scrollHeight< body.scrollHeight\n    // ie standard mode : documentElement.scrollHeight> body.scrollHeight\n    d.documentElement['scroll' + name],\n    // quirks : documentElement.scrollHeight 最大等于可视窗口多一点？\n    d.body['scroll' + name], domUtils['viewport' + name](d));\n  };\n\n  domUtils['viewport' + name] = function (win) {\n    // pc browser includes scrollbar in window.innerWidth\n    var prop = 'client' + name;\n    var doc = win.document;\n    var body = doc.body;\n    var documentElement = doc.documentElement;\n    var documentElementProp = documentElement[prop];\n    // 标准模式取 documentElement\n    // backcompat 取 body\n    return doc.compatMode === 'CSS1Compat' && documentElementProp || body && body[prop] || documentElementProp;\n  };\n});\n\n/*\n 得到元素的大小信息\n @param elem\n @param name\n @param {String} [extra]  'padding' : (css width) + padding\n 'border' : (css width) + padding + border\n 'margin' : (css width) + padding + border + margin\n */\nfunction getWH(elem, name, extra) {\n  if (isWindow(elem)) {\n    return name === 'width' ? domUtils.viewportWidth(elem) : domUtils.viewportHeight(elem);\n  } else if (elem.nodeType === 9) {\n    return name === 'width' ? domUtils.docWidth(elem) : domUtils.docHeight(elem);\n  }\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n  var borderBoxValue = name === 'width' ? elem.offsetWidth : elem.offsetHeight;\n  var computedStyle = getComputedStyleX(elem);\n  var isBorderBox = isBorderBoxFn(elem, computedStyle);\n  var cssBoxValue = 0;\n  if (borderBoxValue == null || borderBoxValue <= 0) {\n    borderBoxValue = undefined;\n    // Fall back to computed then un computed css if necessary\n    cssBoxValue = getComputedStyleX(elem, name);\n    if (cssBoxValue == null || Number(cssBoxValue) < 0) {\n      cssBoxValue = elem.style[name] || 0;\n    }\n    // Normalize '', auto, and prepare for extra\n    cssBoxValue = parseFloat(cssBoxValue) || 0;\n  }\n  if (extra === undefined) {\n    extra = isBorderBox ? BORDER_INDEX : CONTENT_INDEX;\n  }\n  var borderBoxValueOrIsBorderBox = borderBoxValue !== undefined || isBorderBox;\n  var val = borderBoxValue || cssBoxValue;\n  if (extra === CONTENT_INDEX) {\n    if (borderBoxValueOrIsBorderBox) {\n      return val - getPBMWidth(elem, ['border', 'padding'], which, computedStyle);\n    }\n    return cssBoxValue;\n  }\n  if (borderBoxValueOrIsBorderBox) {\n    var padding = extra === PADDING_INDEX ? -getPBMWidth(elem, ['border'], which, computedStyle) : getPBMWidth(elem, ['margin'], which, computedStyle);\n    return val + (extra === BORDER_INDEX ? 0 : padding);\n  }\n  return cssBoxValue + getPBMWidth(elem, BOX_MODELS.slice(extra), which, computedStyle);\n}\n\nvar cssShow = {\n  position: 'absolute',\n  visibility: 'hidden',\n  display: 'block'\n};\n\n// fix #119 : https://github.com/kissyteam/kissy/issues/119\nfunction getWHIgnoreDisplay(elem) {\n  var val = undefined;\n  var args = arguments;\n  // in case elem is window\n  // elem.offsetWidth === undefined\n  if (elem.offsetWidth !== 0) {\n    val = getWH.apply(undefined, args);\n  } else {\n    swap(elem, cssShow, function () {\n      val = getWH.apply(undefined, args);\n    });\n  }\n  return val;\n}\n\nfunction css(el, name, v) {\n  var value = v;\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n    for (var i in name) {\n      if (name.hasOwnProperty(i)) {\n        css(el, i, name[i]);\n      }\n    }\n    return undefined;\n  }\n  if (typeof value !== 'undefined') {\n    if (typeof value === 'number') {\n      value += 'px';\n    }\n    el.style[name] = value;\n    return undefined;\n  }\n  return getComputedStyleX(el, name);\n}\n\neach(['width', 'height'], function (name) {\n  var first = name.charAt(0).toUpperCase() + name.slice(1);\n  domUtils['outer' + first] = function (el, includeMargin) {\n    return el && getWHIgnoreDisplay(el, name, includeMargin ? MARGIN_INDEX : BORDER_INDEX);\n  };\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n\n  domUtils[name] = function (elem, val) {\n    if (val !== undefined) {\n      if (elem) {\n        var computedStyle = getComputedStyleX(elem);\n        var isBorderBox = isBorderBoxFn(elem);\n        if (isBorderBox) {\n          val += getPBMWidth(elem, ['padding', 'border'], which, computedStyle);\n        }\n        return css(elem, name, val);\n      }\n      return undefined;\n    }\n    return elem && getWHIgnoreDisplay(elem, name, CONTENT_INDEX);\n  };\n});\n\n// 设置 elem 相对 elem.ownerDocument 的坐标\nfunction setOffset(elem, offset) {\n  // set position first, in-case top/left are set even on static elem\n  if (css(elem, 'position') === 'static') {\n    elem.style.position = 'relative';\n  }\n\n  var old = getOffset(elem);\n  var ret = {};\n  var current = undefined;\n  var key = undefined;\n\n  for (key in offset) {\n    if (offset.hasOwnProperty(key)) {\n      current = parseFloat(css(elem, key)) || 0;\n      ret[key] = current + offset[key] - old[key];\n    }\n  }\n  css(elem, ret);\n}\n\nmodule.exports = _extends({\n  getWindow: function getWindow(node) {\n    var doc = node.ownerDocument || node;\n    return doc.defaultView || doc.parentWindow;\n  },\n  offset: function offset(el, value) {\n    if (typeof value !== 'undefined') {\n      setOffset(el, value);\n    } else {\n      return getOffset(el);\n    }\n  },\n\n  isWindow: isWindow,\n  each: each,\n  css: css,\n  clone: function clone(obj) {\n    var ret = {};\n    for (var i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        ret[i] = obj[i];\n      }\n    }\n    var overflow = obj.overflow;\n    if (overflow) {\n      for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n          ret.overflow[i] = obj.overflow[i];\n        }\n      }\n    }\n    return ret;\n  },\n  scrollLeft: function scrollLeft(w, v) {\n    if (isWindow(w)) {\n      if (v === undefined) {\n        return getScrollLeft(w);\n      }\n      window.scrollTo(v, getScrollTop(w));\n    } else {\n      if (v === undefined) {\n        return w.scrollLeft;\n      }\n      w.scrollLeft = v;\n    }\n  },\n  scrollTop: function scrollTop(w, v) {\n    if (isWindow(w)) {\n      if (v === undefined) {\n        return getScrollTop(w);\n      }\n      window.scrollTo(getScrollLeft(w), v);\n    } else {\n      if (v === undefined) {\n        return w.scrollTop;\n      }\n      w.scrollTop = v;\n    }\n  },\n\n  viewportWidth: 0,\n  viewportHeight: 0\n}, domUtils);","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","// Load in dependencies\nvar computedStyle = require('computed-style');\n\n/**\n * Calculate the `line-height` of a given node\n * @param {HTMLElement} node Element to calculate line height of. Must be in the DOM.\n * @returns {Number} `line-height` of the element in pixels\n */\nfunction lineHeight(node) {\n  // Grab the line-height via style\n  var lnHeightStr = computedStyle(node, 'line-height');\n  var lnHeight = parseFloat(lnHeightStr, 10);\n\n  // If the lineHeight did not contain a unit (i.e. it was numeric), convert it to ems (e.g. '2.3' === '2.3em')\n  if (lnHeightStr === lnHeight + '') {\n    // Save the old lineHeight style and update the em unit to the element\n    var _lnHeightStyle = node.style.lineHeight;\n    node.style.lineHeight = lnHeightStr + 'em';\n\n    // Calculate the em based height\n    lnHeightStr = computedStyle(node, 'line-height');\n    lnHeight = parseFloat(lnHeightStr, 10);\n\n    // Revert the lineHeight style\n    if (_lnHeightStyle) {\n      node.style.lineHeight = _lnHeightStyle;\n    } else {\n      delete node.style.lineHeight;\n    }\n  }\n\n  // If the lineHeight is in `pt`, convert it to pixels (4px for 3pt)\n  // DEV: `em` units are converted to `pt` in IE6\n  // Conversion ratio from https://developer.mozilla.org/en-US/docs/Web/CSS/length\n  if (lnHeightStr.indexOf('pt') !== -1) {\n    lnHeight *= 4;\n    lnHeight /= 3;\n  // Otherwise, if the lineHeight is in `mm`, convert it to pixels (96px for 25.4mm)\n  } else if (lnHeightStr.indexOf('mm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 25.4;\n  // Otherwise, if the lineHeight is in `cm`, convert it to pixels (96px for 2.54cm)\n  } else if (lnHeightStr.indexOf('cm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 2.54;\n  // Otherwise, if the lineHeight is in `in`, convert it to pixels (96px for 1in)\n  } else if (lnHeightStr.indexOf('in') !== -1) {\n    lnHeight *= 96;\n  // Otherwise, if the lineHeight is in `pc`, convert it to pixels (12pt for 1pc)\n  } else if (lnHeightStr.indexOf('pc') !== -1) {\n    lnHeight *= 16;\n  }\n\n  // Continue our computation\n  lnHeight = Math.round(lnHeight);\n\n  // If the line-height is \"normal\", calculate by font-size\n  if (lnHeightStr === 'normal') {\n    // Create a temporary node\n    var nodeName = node.nodeName;\n    var _node = document.createElement(nodeName);\n    _node.innerHTML = '&nbsp;';\n\n    // If we have a text area, reset it to only 1 row\n    // https://github.com/twolfson/line-height/issues/4\n    if (nodeName.toUpperCase() === 'TEXTAREA') {\n      _node.setAttribute('rows', '1');\n    }\n\n    // Set the font-size of the element\n    var fontSizeStr = computedStyle(node, 'font-size');\n    _node.style.fontSize = fontSizeStr;\n\n    // Remove default padding/border which can affect offset height\n    // https://github.com/twolfson/line-height/issues/4\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight\n    _node.style.padding = '0px';\n    _node.style.border = '0px';\n\n    // Append it to the body\n    var body = document.body;\n    body.appendChild(_node);\n\n    // Assume the line height of the element is the height\n    var height = _node.offsetHeight;\n    lnHeight = height;\n\n    // Remove our child from the DOM\n    body.removeChild(_node);\n  }\n\n  // Return the calculated height\n  return lnHeight;\n}\n\n// Export lineHeight\nmodule.exports = lineHeight;\n","/**\n * Memize options object.\n *\n * @typedef MemizeOptions\n *\n * @property {number} [maxSize] Maximum size of the cache.\n */\n\n/**\n * Internal cache entry.\n *\n * @typedef MemizeCacheNode\n *\n * @property {?MemizeCacheNode|undefined} [prev] Previous node.\n * @property {?MemizeCacheNode|undefined} [next] Next node.\n * @property {Array<*>}                   args   Function arguments for cache\n *                                               entry.\n * @property {*}                          val    Function result.\n */\n\n/**\n * Properties of the enhanced function for controlling cache.\n *\n * @typedef MemizeMemoizedFunction\n *\n * @property {()=>void} clear Clear the cache.\n */\n\n/**\n * Accepts a function to be memoized, and returns a new memoized function, with\n * optional options.\n *\n * @template {Function} F\n *\n * @param {F}             fn        Function to memoize.\n * @param {MemizeOptions} [options] Options object.\n *\n * @return {F & MemizeMemoizedFunction} Memoized function.\n */\nfunction memize( fn, options ) {\n\tvar size = 0;\n\n\t/** @type {?MemizeCacheNode|undefined} */\n\tvar head;\n\n\t/** @type {?MemizeCacheNode|undefined} */\n\tvar tail;\n\n\toptions = options || {};\n\n\tfunction memoized( /* ...args */ ) {\n\t\tvar node = head,\n\t\t\tlen = arguments.length,\n\t\t\targs, i;\n\n\t\tsearchCache: while ( node ) {\n\t\t\t// Perform a shallow equality test to confirm that whether the node\n\t\t\t// under test is a candidate for the arguments passed. Two arrays\n\t\t\t// are shallowly equal if their length matches and each entry is\n\t\t\t// strictly equal between the two sets. Avoid abstracting to a\n\t\t\t// function which could incur an arguments leaking deoptimization.\n\n\t\t\t// Check whether node arguments match arguments length\n\t\t\tif ( node.args.length !== arguments.length ) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Check whether node arguments match arguments values\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tif ( node.args[ i ] !== arguments[ i ] ) {\n\t\t\t\t\tnode = node.next;\n\t\t\t\t\tcontinue searchCache;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif ( node !== head ) {\n\t\t\t\t// As tail, shift to previous. Must only shift if not also\n\t\t\t\t// head, since if both head and tail, there is no previous.\n\t\t\t\tif ( node === tail ) {\n\t\t\t\t\ttail = node.prev;\n\t\t\t\t}\n\n\t\t\t\t// Adjust siblings to point to each other. If node was tail,\n\t\t\t\t// this also handles new tail's empty `next` assignment.\n\t\t\t\t/** @type {MemizeCacheNode} */ ( node.prev ).next = node.next;\n\t\t\t\tif ( node.next ) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = head;\n\t\t\t\tnode.prev = null;\n\t\t\t\t/** @type {MemizeCacheNode} */ ( head ).prev = node;\n\t\t\t\thead = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\t// Create a copy of arguments (avoid leaking deoptimization)\n\t\targs = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tnode = {\n\t\t\targs: args,\n\n\t\t\t// Generate the result from original function\n\t\t\tval: fn.apply( null, args ),\n\t\t};\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif ( head ) {\n\t\t\thead.prev = node;\n\t\t\tnode.next = head;\n\t\t} else {\n\t\t\t// If no head, follows that there's no tail (at initial or reset)\n\t\t\ttail = node;\n\t\t}\n\n\t\t// Trim tail if we're reached max size and are pending cache insertion\n\t\tif ( size === /** @type {MemizeOptions} */ ( options ).maxSize ) {\n\t\t\ttail = /** @type {MemizeCacheNode} */ ( tail ).prev;\n\t\t\t/** @type {MemizeCacheNode} */ ( tail ).next = null;\n\t\t} else {\n\t\t\tsize++;\n\t\t}\n\n\t\thead = node;\n\n\t\treturn node.val;\n\t}\n\n\tmemoized.clear = function() {\n\t\thead = null;\n\t\ttail = null;\n\t\tsize = 0;\n\t};\n\n\tif ( process.env.NODE_ENV === 'test' ) {\n\t\t// Cache is not exposed in the public API, but used in tests to ensure\n\t\t// expected list progression\n\t\tmemoized.getCache = function() {\n\t\t\treturn [ head, tail, size ];\n\t\t};\n\t}\n\n\t// Ignore reason: There's not a clear solution to create an intersection of\n\t// the function with additional properties, where the goal is to retain the\n\t// function signature of the incoming argument and add control properties\n\t// on the return value.\n\n\t// @ts-ignore\n\treturn memoized;\n}\n\nmodule.exports = memize;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/*! https://mths.be/punycode v1.3.2 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nexports.__esModule = true;\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar autosize = require(\"autosize\");\nvar _getLineHeight = require(\"line-height\");\nvar getLineHeight = _getLineHeight;\nvar UPDATE = 'autosize:update';\nvar DESTROY = 'autosize:destroy';\nvar RESIZED = 'autosize:resized';\n/**\n * A light replacement for built-in textarea component\n * which automaticaly adjusts its height to match the content\n */\nvar TextareaAutosize = /** @class */ (function (_super) {\n    __extends(TextareaAutosize, _super);\n    function TextareaAutosize() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            lineHeight: null\n        };\n        _this.dispatchEvent = function (EVENT_TYPE) {\n            var event = document.createEvent('Event');\n            event.initEvent(EVENT_TYPE, true, false);\n            _this.textarea.dispatchEvent(event);\n        };\n        _this.updateLineHeight = function () {\n            _this.setState({\n                lineHeight: getLineHeight(_this.textarea)\n            });\n        };\n        _this.onChange = function (e) {\n            var onChange = _this.props.onChange;\n            _this.currentValue = e.currentTarget.value;\n            onChange && onChange(e);\n        };\n        _this.saveDOMNodeRef = function (ref) {\n            var innerRef = _this.props.innerRef;\n            if (innerRef) {\n                innerRef(ref);\n            }\n            _this.textarea = ref;\n        };\n        _this.getLocals = function () {\n            var _a = _this, _b = _a.props, onResize = _b.onResize, maxRows = _b.maxRows, onChange = _b.onChange, style = _b.style, innerRef = _b.innerRef, props = __rest(_b, [\"onResize\", \"maxRows\", \"onChange\", \"style\", \"innerRef\"]), lineHeight = _a.state.lineHeight, saveDOMNodeRef = _a.saveDOMNodeRef;\n            var maxHeight = maxRows && lineHeight ? lineHeight * maxRows : null;\n            return __assign({}, props, { saveDOMNodeRef: saveDOMNodeRef, style: maxHeight ? __assign({}, style, { maxHeight: maxHeight }) : style, onChange: _this.onChange });\n        };\n        return _this;\n    }\n    TextareaAutosize.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, onResize = _a.onResize, maxRows = _a.maxRows;\n        if (typeof maxRows === 'number') {\n            this.updateLineHeight();\n        }\n        /*\n          the defer is needed to:\n            - force \"autosize\" to activate the scrollbar when this.props.maxRows is passed\n            - support StyledComponents (see #71)\n        */\n        setTimeout(function () { return autosize(_this.textarea); });\n        if (onResize) {\n            this.textarea.addEventListener(RESIZED, onResize);\n        }\n    };\n    TextareaAutosize.prototype.componentWillUnmount = function () {\n        var onResize = this.props.onResize;\n        if (onResize) {\n            this.textarea.removeEventListener(RESIZED, onResize);\n        }\n        this.dispatchEvent(DESTROY);\n    };\n    TextareaAutosize.prototype.render = function () {\n        var _a = this.getLocals(), children = _a.children, saveDOMNodeRef = _a.saveDOMNodeRef, locals = __rest(_a, [\"children\", \"saveDOMNodeRef\"]);\n        return (React.createElement(\"textarea\", __assign({}, locals, { ref: saveDOMNodeRef }), children));\n    };\n    TextareaAutosize.prototype.componentDidUpdate = function (prevProps) {\n        if (this.props.value !== this.currentValue || this.props.rows !== prevProps.rows) {\n            this.dispatchEvent(UPDATE);\n        }\n    };\n    TextareaAutosize.defaultProps = {\n        rows: 1\n    };\n    TextareaAutosize.propTypes = {\n        rows: PropTypes.number,\n        maxRows: PropTypes.number,\n        onResize: PropTypes.func,\n        innerRef: PropTypes.func\n    };\n    return TextareaAutosize;\n}(React.Component));\nexports[\"default\"] = TextareaAutosize;\n","\"use strict\";\nexports.__esModule = true;\nvar TextareaAutosize_1 = require(\"./TextareaAutosize\");\nexports[\"default\"] = TextareaAutosize_1[\"default\"];\n","/** @license React v16.8.6\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\n\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace;\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' ||\n  // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE);\n}\n\n/**\n * Forked from fbjs/warning:\n * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js\n *\n * Only change is we use console.warn instead of console.error,\n * and do nothing when 'console' is not supported.\n * This really simplifies the code.\n * ---\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar lowPriorityWarning = function () {};\n\n{\n  var printWarning = function (format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.warn(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  lowPriorityWarning = function (condition, format) {\n    if (format === undefined) {\n      throw new Error('`lowPriorityWarning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\nvar lowPriorityWarning$1 = lowPriorityWarning;\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_LAZY_TYPE:\n      case REACT_MEMO_TYPE:\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\n\n// AsyncMode is deprecated along with isAsyncMode\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\n\nvar hasWarnedAboutDeprecatedIsAsyncMode = false;\n\n// AsyncMode should be deprecated\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true;\n      lowPriorityWarning$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.typeOf = typeOf;\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isValidElementType = isValidElementType;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar _extends = _interopDefault(require('@babel/runtime/helpers/extends'));\nvar _objectWithoutPropertiesLoose = _interopDefault(require('@babel/runtime/helpers/objectWithoutPropertiesLoose'));\nvar React = require('react');\nvar React__default = _interopDefault(React);\nvar _inheritsLoose = _interopDefault(require('@babel/runtime/helpers/inheritsLoose'));\nvar _assertThisInitialized = _interopDefault(require('@babel/runtime/helpers/assertThisInitialized'));\n\nvar is = {\n  arr: Array.isArray,\n  obj: function obj(a) {\n    return Object.prototype.toString.call(a) === '[object Object]';\n  },\n  fun: function fun(a) {\n    return typeof a === 'function';\n  },\n  str: function str(a) {\n    return typeof a === 'string';\n  },\n  num: function num(a) {\n    return typeof a === 'number';\n  },\n  und: function und(a) {\n    return a === void 0;\n  },\n  nul: function nul(a) {\n    return a === null;\n  },\n  set: function set(a) {\n    return a instanceof Set;\n  },\n  map: function map(a) {\n    return a instanceof Map;\n  },\n  equ: function equ(a, b) {\n    if (typeof a !== typeof b) return false;\n    if (is.str(a) || is.num(a)) return a === b;\n    if (is.obj(a) && is.obj(b) && Object.keys(a).length + Object.keys(b).length === 0) return true;\n    var i;\n\n    for (i in a) {\n      if (!(i in b)) return false;\n    }\n\n    for (i in b) {\n      if (a[i] !== b[i]) return false;\n    }\n\n    return is.und(i) ? a === b : true;\n  }\n};\nfunction merge(target, lowercase) {\n  if (lowercase === void 0) {\n    lowercase = true;\n  }\n\n  return function (object) {\n    return (is.arr(object) ? object : Object.keys(object)).reduce(function (acc, element) {\n      var key = lowercase ? element[0].toLowerCase() + element.substring(1) : element;\n      acc[key] = target(key);\n      return acc;\n    }, target);\n  };\n}\nfunction useForceUpdate() {\n  var _useState = React.useState(false),\n      f = _useState[1];\n\n  var forceUpdate = React.useCallback(function () {\n    return f(function (v) {\n      return !v;\n    });\n  }, []);\n  return forceUpdate;\n}\nfunction withDefault(value, defaultValue) {\n  return is.und(value) || is.nul(value) ? defaultValue : value;\n}\nfunction toArray(a) {\n  return !is.und(a) ? is.arr(a) ? a : [a] : [];\n}\nfunction callProp(obj) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return is.fun(obj) ? obj.apply(void 0, args) : obj;\n}\n\nfunction getForwardProps(props) {\n  var to = props.to,\n      from = props.from,\n      config = props.config,\n      onStart = props.onStart,\n      onRest = props.onRest,\n      onFrame = props.onFrame,\n      children = props.children,\n      reset = props.reset,\n      reverse = props.reverse,\n      force = props.force,\n      immediate = props.immediate,\n      delay = props.delay,\n      attach = props.attach,\n      destroyed = props.destroyed,\n      interpolateTo = props.interpolateTo,\n      ref = props.ref,\n      lazy = props.lazy,\n      forward = _objectWithoutPropertiesLoose(props, [\"to\", \"from\", \"config\", \"onStart\", \"onRest\", \"onFrame\", \"children\", \"reset\", \"reverse\", \"force\", \"immediate\", \"delay\", \"attach\", \"destroyed\", \"interpolateTo\", \"ref\", \"lazy\"]);\n\n  return forward;\n}\n\nfunction interpolateTo(props) {\n  var forward = getForwardProps(props);\n  if (is.und(forward)) return _extends({\n    to: forward\n  }, props);\n  var rest = Object.keys(props).reduce(function (a, k) {\n    var _extends2;\n\n    return !is.und(forward[k]) ? a : _extends({}, a, (_extends2 = {}, _extends2[k] = props[k], _extends2));\n  }, {});\n  return _extends({\n    to: forward\n  }, rest);\n}\nfunction handleRef(ref, forward) {\n  if (forward) {\n    // If it's a function, assume it's a ref callback\n    if (is.fun(forward)) forward(ref);else if (is.obj(forward)) {\n      forward.current = ref;\n    }\n  }\n\n  return ref;\n}\n\nvar Animated =\n/*#__PURE__*/\nfunction () {\n  function Animated() {\n    this.payload = void 0;\n    this.children = [];\n  }\n\n  var _proto = Animated.prototype;\n\n  _proto.getAnimatedValue = function getAnimatedValue() {\n    return this.getValue();\n  };\n\n  _proto.getPayload = function getPayload() {\n    return this.payload || this;\n  };\n\n  _proto.attach = function attach() {};\n\n  _proto.detach = function detach() {};\n\n  _proto.getChildren = function getChildren() {\n    return this.children;\n  };\n\n  _proto.addChild = function addChild(child) {\n    if (this.children.length === 0) this.attach();\n    this.children.push(child);\n  };\n\n  _proto.removeChild = function removeChild(child) {\n    var index = this.children.indexOf(child);\n    this.children.splice(index, 1);\n    if (this.children.length === 0) this.detach();\n  };\n\n  return Animated;\n}();\nvar AnimatedArray =\n/*#__PURE__*/\nfunction (_Animated) {\n  _inheritsLoose(AnimatedArray, _Animated);\n\n  function AnimatedArray() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Animated.call.apply(_Animated, [this].concat(args)) || this;\n    _this.payload = [];\n\n    _this.attach = function () {\n      return _this.payload.forEach(function (p) {\n        return p instanceof Animated && p.addChild(_assertThisInitialized(_this));\n      });\n    };\n\n    _this.detach = function () {\n      return _this.payload.forEach(function (p) {\n        return p instanceof Animated && p.removeChild(_assertThisInitialized(_this));\n      });\n    };\n\n    return _this;\n  }\n\n  return AnimatedArray;\n}(Animated);\nvar AnimatedObject =\n/*#__PURE__*/\nfunction (_Animated2) {\n  _inheritsLoose(AnimatedObject, _Animated2);\n\n  function AnimatedObject() {\n    var _this2;\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    _this2 = _Animated2.call.apply(_Animated2, [this].concat(args)) || this;\n    _this2.payload = {};\n\n    _this2.attach = function () {\n      return Object.values(_this2.payload).forEach(function (s) {\n        return s instanceof Animated && s.addChild(_assertThisInitialized(_this2));\n      });\n    };\n\n    _this2.detach = function () {\n      return Object.values(_this2.payload).forEach(function (s) {\n        return s instanceof Animated && s.removeChild(_assertThisInitialized(_this2));\n      });\n    };\n\n    return _this2;\n  }\n\n  var _proto2 = AnimatedObject.prototype;\n\n  _proto2.getValue = function getValue(animated) {\n    if (animated === void 0) {\n      animated = false;\n    }\n\n    var payload = {};\n\n    for (var _key4 in this.payload) {\n      var value = this.payload[_key4];\n      if (animated && !(value instanceof Animated)) continue;\n      payload[_key4] = value instanceof Animated ? value[animated ? 'getAnimatedValue' : 'getValue']() : value;\n    }\n\n    return payload;\n  };\n\n  _proto2.getAnimatedValue = function getAnimatedValue() {\n    return this.getValue(true);\n  };\n\n  return AnimatedObject;\n}(Animated);\n\nvar applyAnimatedValues;\nfunction injectApplyAnimatedValues(fn, transform) {\n  applyAnimatedValues = {\n    fn: fn,\n    transform: transform\n  };\n}\nvar colorNames;\nfunction injectColorNames(names) {\n  colorNames = names;\n}\nvar requestFrame = function requestFrame(cb) {\n  return typeof window !== 'undefined' ? window.requestAnimationFrame(cb) : -1;\n};\nvar cancelFrame = function cancelFrame(id) {\n  typeof window !== 'undefined' && window.cancelAnimationFrame(id);\n};\nfunction injectFrame(raf, caf) {\n  requestFrame = raf;\n  cancelFrame = caf;\n}\nvar interpolation;\nfunction injectStringInterpolator(fn) {\n  interpolation = fn;\n}\nvar now = function now() {\n  return Date.now();\n};\nfunction injectNow(nowFn) {\n  now = nowFn;\n}\nvar defaultElement;\nfunction injectDefaultElement(el) {\n  defaultElement = el;\n}\nvar animatedApi = function animatedApi(node) {\n  return node.current;\n};\nfunction injectAnimatedApi(fn) {\n  animatedApi = fn;\n}\nvar createAnimatedStyle;\nfunction injectCreateAnimatedStyle(factory) {\n  createAnimatedStyle = factory;\n}\nvar manualFrameloop;\nfunction injectManualFrameloop(callback) {\n  manualFrameloop = callback;\n}\n\nvar Globals = /*#__PURE__*/Object.freeze({\n  get applyAnimatedValues () { return applyAnimatedValues; },\n  injectApplyAnimatedValues: injectApplyAnimatedValues,\n  get colorNames () { return colorNames; },\n  injectColorNames: injectColorNames,\n  get requestFrame () { return requestFrame; },\n  get cancelFrame () { return cancelFrame; },\n  injectFrame: injectFrame,\n  get interpolation () { return interpolation; },\n  injectStringInterpolator: injectStringInterpolator,\n  get now () { return now; },\n  injectNow: injectNow,\n  get defaultElement () { return defaultElement; },\n  injectDefaultElement: injectDefaultElement,\n  get animatedApi () { return animatedApi; },\n  injectAnimatedApi: injectAnimatedApi,\n  get createAnimatedStyle () { return createAnimatedStyle; },\n  injectCreateAnimatedStyle: injectCreateAnimatedStyle,\n  get manualFrameloop () { return manualFrameloop; },\n  injectManualFrameloop: injectManualFrameloop\n});\n\n/**\n * Wraps the `style` property with `AnimatedStyle`.\n */\n\nvar AnimatedProps =\n/*#__PURE__*/\nfunction (_AnimatedObject) {\n  _inheritsLoose(AnimatedProps, _AnimatedObject);\n\n  function AnimatedProps(props, callback) {\n    var _this;\n\n    _this = _AnimatedObject.call(this) || this;\n    _this.update = void 0;\n    _this.payload = !props.style ? props : _extends({}, props, {\n      style: createAnimatedStyle(props.style)\n    });\n    _this.update = callback;\n\n    _this.attach();\n\n    return _this;\n  }\n\n  return AnimatedProps;\n}(AnimatedObject);\n\nvar isFunctionComponent = function isFunctionComponent(val) {\n  return is.fun(val) && !(val.prototype instanceof React__default.Component);\n};\n\nvar createAnimatedComponent = function createAnimatedComponent(Component) {\n  var AnimatedComponent = React.forwardRef(function (props, ref) {\n    var forceUpdate = useForceUpdate();\n    var mounted = React.useRef(true);\n    var propsAnimated = React.useRef(null);\n    var node = React.useRef(null);\n    var attachProps = React.useCallback(function (props) {\n      var oldPropsAnimated = propsAnimated.current;\n\n      var callback = function callback() {\n        var didUpdate = false;\n\n        if (node.current) {\n          didUpdate = applyAnimatedValues.fn(node.current, propsAnimated.current.getAnimatedValue());\n        }\n\n        if (!node.current || didUpdate === false) {\n          // If no referenced node has been found, or the update target didn't have a\n          // native-responder, then forceUpdate the animation ...\n          forceUpdate();\n        }\n      };\n\n      propsAnimated.current = new AnimatedProps(props, callback);\n      oldPropsAnimated && oldPropsAnimated.detach();\n    }, []);\n    React.useEffect(function () {\n      return function () {\n        mounted.current = false;\n        propsAnimated.current && propsAnimated.current.detach();\n      };\n    }, []);\n    React.useImperativeHandle(ref, function () {\n      return animatedApi(node, mounted, forceUpdate);\n    });\n    attachProps(props);\n\n    var _getValue = propsAnimated.current.getValue(),\n        scrollTop = _getValue.scrollTop,\n        scrollLeft = _getValue.scrollLeft,\n        animatedProps = _objectWithoutPropertiesLoose(_getValue, [\"scrollTop\", \"scrollLeft\"]); // Functions cannot have refs, see:\n    // See: https://github.com/react-spring/react-spring/issues/569\n\n\n    var refFn = isFunctionComponent(Component) ? undefined : function (childRef) {\n      return node.current = handleRef(childRef, ref);\n    };\n    return React__default.createElement(Component, _extends({}, animatedProps, {\n      ref: refFn\n    }));\n  });\n  return AnimatedComponent;\n};\n\nvar active = false;\nvar controllers = new Set();\n\nvar update = function update() {\n  if (!active) return false;\n  var time = now();\n\n  for (var _iterator = controllers, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var controller = _ref;\n    var isActive = false;\n\n    for (var configIdx = 0; configIdx < controller.configs.length; configIdx++) {\n      var config = controller.configs[configIdx];\n      var endOfAnimation = void 0,\n          lastTime = void 0;\n\n      for (var valIdx = 0; valIdx < config.animatedValues.length; valIdx++) {\n        var animation = config.animatedValues[valIdx]; // If an animation is done, skip, until all of them conclude\n\n        if (animation.done) continue;\n        var from = config.fromValues[valIdx];\n        var to = config.toValues[valIdx];\n        var position = animation.lastPosition;\n        var isAnimated = to instanceof Animated;\n        var velocity = Array.isArray(config.initialVelocity) ? config.initialVelocity[valIdx] : config.initialVelocity;\n        if (isAnimated) to = to.getValue(); // Conclude animation if it's either immediate, or from-values match end-state\n\n        if (config.immediate) {\n          animation.setValue(to);\n          animation.done = true;\n          continue;\n        } // Break animation when string values are involved\n\n\n        if (typeof from === 'string' || typeof to === 'string') {\n          animation.setValue(to);\n          animation.done = true;\n          continue;\n        }\n\n        if (config.duration !== void 0) {\n          /** Duration easing */\n          position = from + config.easing((time - animation.startTime) / config.duration) * (to - from);\n          endOfAnimation = time >= animation.startTime + config.duration;\n        } else if (config.decay) {\n          /** Decay easing */\n          position = from + velocity / (1 - 0.998) * (1 - Math.exp(-(1 - 0.998) * (time - animation.startTime)));\n          endOfAnimation = Math.abs(animation.lastPosition - position) < 0.1;\n          if (endOfAnimation) to = position;\n        } else {\n          /** Spring easing */\n          lastTime = animation.lastTime !== void 0 ? animation.lastTime : time;\n          velocity = animation.lastVelocity !== void 0 ? animation.lastVelocity : config.initialVelocity; // If we lost a lot of frames just jump to the end.\n\n          if (time > lastTime + 64) lastTime = time; // http://gafferongames.com/game-physics/fix-your-timestep/\n\n          var numSteps = Math.floor(time - lastTime);\n\n          for (var i = 0; i < numSteps; ++i) {\n            var force = -config.tension * (position - to);\n            var damping = -config.friction * velocity;\n            var acceleration = (force + damping) / config.mass;\n            velocity = velocity + acceleration * 1 / 1000;\n            position = position + velocity * 1 / 1000;\n          } // Conditions for stopping the spring animation\n\n\n          var isOvershooting = config.clamp && config.tension !== 0 ? from < to ? position > to : position < to : false;\n          var isVelocity = Math.abs(velocity) <= config.precision;\n          var isDisplacement = config.tension !== 0 ? Math.abs(to - position) <= config.precision : true;\n          endOfAnimation = isOvershooting || isVelocity && isDisplacement;\n          animation.lastVelocity = velocity;\n          animation.lastTime = time;\n        } // Trails aren't done until their parents conclude\n\n\n        if (isAnimated && !config.toValues[valIdx].done) endOfAnimation = false;\n\n        if (endOfAnimation) {\n          // Ensure that we end up with a round value\n          if (animation.value !== to) position = to;\n          animation.done = true;\n        } else isActive = true;\n\n        animation.setValue(position);\n        animation.lastPosition = position;\n      } // Keep track of updated values only when necessary\n\n\n      if (controller.props.onFrame) controller.values[config.name] = config.interpolation.getValue();\n    } // Update callbacks in the end of the frame\n\n\n    if (controller.props.onFrame) controller.props.onFrame(controller.values); // Either call onEnd or next frame\n\n    if (!isActive) {\n      controllers.delete(controller);\n      controller.stop(true);\n    }\n  } // Loop over as long as there are controllers ...\n\n\n  if (controllers.size) {\n    if (manualFrameloop) manualFrameloop();else requestFrame(update);\n  } else {\n    active = false;\n  }\n\n  return active;\n};\n\nvar start = function start(controller) {\n  if (!controllers.has(controller)) controllers.add(controller);\n\n  if (!active) {\n    active = true;\n    if (manualFrameloop) requestFrame(manualFrameloop);else requestFrame(update);\n  }\n};\n\nvar stop = function stop(controller) {\n  if (controllers.has(controller)) controllers.delete(controller);\n};\n\nfunction createInterpolator(range, output, extrapolate) {\n  if (typeof range === 'function') {\n    return range;\n  }\n\n  if (Array.isArray(range)) {\n    return createInterpolator({\n      range: range,\n      output: output,\n      extrapolate: extrapolate\n    });\n  }\n\n  if (interpolation && typeof range.output[0] === 'string') {\n    return interpolation(range);\n  }\n\n  var config = range;\n  var outputRange = config.output;\n  var inputRange = config.range || [0, 1];\n  var extrapolateLeft = config.extrapolateLeft || config.extrapolate || 'extend';\n  var extrapolateRight = config.extrapolateRight || config.extrapolate || 'extend';\n\n  var easing = config.easing || function (t) {\n    return t;\n  };\n\n  return function (input) {\n    var range = findRange(input, inputRange);\n    return interpolate(input, inputRange[range], inputRange[range + 1], outputRange[range], outputRange[range + 1], easing, extrapolateLeft, extrapolateRight, config.map);\n  };\n}\n\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  var result = map ? map(input) : input; // Extrapolate\n\n  if (result < inputMin) {\n    if (extrapolateLeft === 'identity') return result;else if (extrapolateLeft === 'clamp') result = inputMin;\n  }\n\n  if (result > inputMax) {\n    if (extrapolateRight === 'identity') return result;else if (extrapolateRight === 'clamp') result = inputMax;\n  }\n\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax; // Input Range\n\n  if (inputMin === -Infinity) result = -result;else if (inputMax === Infinity) result = result - inputMin;else result = (result - inputMin) / (inputMax - inputMin); // Easing\n\n  result = easing(result); // Output Range\n\n  if (outputMin === -Infinity) result = -result;else if (outputMax === Infinity) result = result + outputMin;else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\n\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i) {\n    if (inputRange[i] >= input) break;\n  }\n\n  return i - 1;\n}\n\nvar AnimatedInterpolation =\n/*#__PURE__*/\nfunction (_AnimatedArray) {\n  _inheritsLoose(AnimatedInterpolation, _AnimatedArray);\n\n  function AnimatedInterpolation(parents, range, output, extrapolate) {\n    var _this;\n\n    _this = _AnimatedArray.call(this) || this;\n    _this.calc = void 0;\n    _this.payload = parents instanceof AnimatedArray && !(parents instanceof AnimatedInterpolation) ? parents.getPayload() : Array.isArray(parents) ? parents : [parents];\n    _this.calc = createInterpolator(range, output, extrapolate);\n    return _this;\n  }\n\n  var _proto = AnimatedInterpolation.prototype;\n\n  _proto.getValue = function getValue() {\n    return this.calc.apply(this, this.payload.map(function (value) {\n      return value.getValue();\n    }));\n  };\n\n  _proto.updateConfig = function updateConfig(range, output, extrapolate) {\n    this.calc = createInterpolator(range, output, extrapolate);\n  };\n\n  _proto.interpolate = function interpolate(range, output, extrapolate) {\n    return new AnimatedInterpolation(this, range, output, extrapolate);\n  };\n\n  return AnimatedInterpolation;\n}(AnimatedArray);\n\nvar interpolate$1 = function interpolate(parents, range, output) {\n  return parents && new AnimatedInterpolation(parents, range, output);\n};\n\nvar config = {\n  default: {\n    tension: 170,\n    friction: 26\n  },\n  gentle: {\n    tension: 120,\n    friction: 14\n  },\n  wobbly: {\n    tension: 180,\n    friction: 12\n  },\n  stiff: {\n    tension: 210,\n    friction: 20\n  },\n  slow: {\n    tension: 280,\n    friction: 60\n  },\n  molasses: {\n    tension: 280,\n    friction: 120\n  }\n};\n\n/** API\n *  useChain(references, timeSteps, timeFrame)\n */\n\nfunction useChain(refs, timeSteps, timeFrame) {\n  if (timeFrame === void 0) {\n    timeFrame = 1000;\n  }\n\n  var previous = React.useRef();\n  React.useEffect(function () {\n    if (is.equ(refs, previous.current)) refs.forEach(function (_ref) {\n      var current = _ref.current;\n      return current && current.start();\n    });else if (timeSteps) {\n      refs.forEach(function (_ref2, index) {\n        var current = _ref2.current;\n\n        if (current) {\n          var ctrls = current.controllers;\n\n          if (ctrls.length) {\n            var t = timeFrame * timeSteps[index];\n            ctrls.forEach(function (ctrl) {\n              ctrl.queue = ctrl.queue.map(function (e) {\n                return _extends({}, e, {\n                  delay: e.delay + t\n                });\n              });\n              ctrl.start();\n            });\n          }\n        }\n      });\n    } else refs.reduce(function (q, _ref3, rI) {\n      var current = _ref3.current;\n      return q = q.then(function () {\n        return current.start();\n      });\n    }, Promise.resolve());\n    previous.current = refs;\n  });\n}\n\n/**\n * Animated works by building a directed acyclic graph of dependencies\n * transparently when you render your Animated components.\n *\n *               new Animated.Value(0)\n *     .interpolate()        .interpolate()    new Animated.Value(1)\n *         opacity               translateY      scale\n *          style                         transform\n *         View#234                         style\n *                                         View#123\n *\n * A) Top Down phase\n * When an AnimatedValue is updated, we recursively go down through this\n * graph in order to find leaf nodes: the views that we flag as needing\n * an update.\n *\n * B) Bottom Up phase\n * When a view is flagged as needing an update, we recursively go back up\n * in order to build the new value that it needs. The reason why we need\n * this two-phases process is to deal with composite props such as\n * transform which can receive values from multiple parents.\n */\nfunction addAnimatedStyles(node, styles) {\n  if ('update' in node) {\n    styles.add(node);\n  } else {\n    node.getChildren().forEach(function (child) {\n      return addAnimatedStyles(child, styles);\n    });\n  }\n}\n\nvar AnimatedValue =\n/*#__PURE__*/\nfunction (_Animated) {\n  _inheritsLoose(AnimatedValue, _Animated);\n\n  function AnimatedValue(_value) {\n    var _this;\n\n    _this = _Animated.call(this) || this;\n    _this.animatedStyles = new Set();\n    _this.value = void 0;\n    _this.startPosition = void 0;\n    _this.lastPosition = void 0;\n    _this.lastVelocity = void 0;\n    _this.startTime = void 0;\n    _this.lastTime = void 0;\n    _this.done = false;\n\n    _this.setValue = function (value, flush) {\n      if (flush === void 0) {\n        flush = true;\n      }\n\n      _this.value = value;\n      if (flush) _this.flush();\n    };\n\n    _this.value = _value;\n    _this.startPosition = _value;\n    _this.lastPosition = _value;\n    return _this;\n  }\n\n  var _proto = AnimatedValue.prototype;\n\n  _proto.flush = function flush() {\n    if (this.animatedStyles.size === 0) {\n      addAnimatedStyles(this, this.animatedStyles);\n    }\n\n    this.animatedStyles.forEach(function (animatedStyle) {\n      return animatedStyle.update();\n    });\n  };\n\n  _proto.clearStyles = function clearStyles() {\n    this.animatedStyles.clear();\n  };\n\n  _proto.getValue = function getValue() {\n    return this.value;\n  };\n\n  _proto.interpolate = function interpolate(range, output, extrapolate) {\n    return new AnimatedInterpolation(this, range, output, extrapolate);\n  };\n\n  return AnimatedValue;\n}(Animated);\n\nvar AnimatedValueArray =\n/*#__PURE__*/\nfunction (_AnimatedArray) {\n  _inheritsLoose(AnimatedValueArray, _AnimatedArray);\n\n  function AnimatedValueArray(values) {\n    var _this;\n\n    _this = _AnimatedArray.call(this) || this;\n    _this.payload = values.map(function (n) {\n      return new AnimatedValue(n);\n    });\n    return _this;\n  }\n\n  var _proto = AnimatedValueArray.prototype;\n\n  _proto.setValue = function setValue(value, flush) {\n    var _this2 = this;\n\n    if (flush === void 0) {\n      flush = true;\n    }\n\n    if (Array.isArray(value)) {\n      if (value.length === this.payload.length) {\n        value.forEach(function (v, i) {\n          return _this2.payload[i].setValue(v, flush);\n        });\n      }\n    } else {\n      this.payload.forEach(function (p) {\n        return p.setValue(value, flush);\n      });\n    }\n  };\n\n  _proto.getValue = function getValue() {\n    return this.payload.map(function (v) {\n      return v.getValue();\n    });\n  };\n\n  _proto.interpolate = function interpolate(range, output) {\n    return new AnimatedInterpolation(this, range, output);\n  };\n\n  return AnimatedValueArray;\n}(AnimatedArray);\n\nvar G = 0;\n\nvar Controller =\n/*#__PURE__*/\nfunction () {\n  function Controller() {\n    var _this = this;\n\n    this.id = void 0;\n    this.idle = true;\n    this.hasChanged = false;\n    this.guid = 0;\n    this.local = 0;\n    this.props = {};\n    this.merged = {};\n    this.animations = {};\n    this.interpolations = {};\n    this.values = {};\n    this.configs = [];\n    this.listeners = [];\n    this.queue = [];\n    this.localQueue = void 0;\n\n    this.getValues = function () {\n      return _this.interpolations;\n    };\n\n    this.id = G++;\n  }\n  /** update(props)\n   *  This function filters input props and creates an array of tasks which are executed in .start()\n   *  Each task is allowed to carry a delay, which means it can execute asnychroneously */\n\n\n  var _proto = Controller.prototype;\n\n  _proto.update = function update$$1(args) {\n    //this._id = n + this.id\n    if (!args) return this; // Extract delay and the to-prop from props\n\n    var _ref = interpolateTo(args),\n        _ref$delay = _ref.delay,\n        delay = _ref$delay === void 0 ? 0 : _ref$delay,\n        to = _ref.to,\n        props = _objectWithoutPropertiesLoose(_ref, [\"delay\", \"to\"]);\n\n    if (is.arr(to) || is.fun(to)) {\n      // If config is either a function or an array queue it up as is\n      this.queue.push(_extends({}, props, {\n        delay: delay,\n        to: to\n      }));\n    } else if (to) {\n      // Otherwise go through each key since it could be delayed individually\n      var ops = {};\n      Object.entries(to).forEach(function (_ref2) {\n        var _to;\n\n        var k = _ref2[0],\n            v = _ref2[1];\n\n        // Fetch delay and create an entry, consisting of the to-props, the delay, and basic props\n        var entry = _extends({\n          to: (_to = {}, _to[k] = v, _to),\n          delay: callProp(delay, k)\n        }, props);\n\n        var previous = ops[entry.delay] && ops[entry.delay].to;\n        ops[entry.delay] = _extends({}, ops[entry.delay], entry, {\n          to: _extends({}, previous, entry.to)\n        });\n      });\n      this.queue = Object.values(ops);\n    } // Sort queue, so that async calls go last\n\n\n    this.queue = this.queue.sort(function (a, b) {\n      return a.delay - b.delay;\n    }); // Diff the reduced props immediately (they'll contain the from-prop and some config)\n\n    this.diff(props);\n    return this;\n  }\n  /** start(onEnd)\n   *  This function either executes a queue, if present, or starts the frameloop, which animates */\n  ;\n\n  _proto.start = function start$$1(onEnd) {\n    var _this2 = this;\n\n    // If a queue is present we must excecute it\n    if (this.queue.length) {\n      this.idle = false; // Updates can interrupt trailing queues, in that case we just merge values\n\n      if (this.localQueue) {\n        this.localQueue.forEach(function (_ref3) {\n          var _ref3$from = _ref3.from,\n              from = _ref3$from === void 0 ? {} : _ref3$from,\n              _ref3$to = _ref3.to,\n              to = _ref3$to === void 0 ? {} : _ref3$to;\n          if (is.obj(from)) _this2.merged = _extends({}, from, _this2.merged);\n          if (is.obj(to)) _this2.merged = _extends({}, _this2.merged, to);\n        });\n      } // The guid helps us tracking frames, a new queue over an old one means an override\n      // We discard async calls in that caseÍ\n\n\n      var local = this.local = ++this.guid;\n      var queue = this.localQueue = this.queue;\n      this.queue = []; // Go through each entry and execute it\n\n      queue.forEach(function (_ref4, index) {\n        var delay = _ref4.delay,\n            props = _objectWithoutPropertiesLoose(_ref4, [\"delay\"]);\n\n        var cb = function cb(finished) {\n          if (index === queue.length - 1 && local === _this2.guid && finished) {\n            _this2.idle = true;\n            if (_this2.props.onRest) _this2.props.onRest(_this2.merged);\n          }\n\n          if (onEnd) onEnd();\n        }; // Entries can be delayed, ansyc or immediate\n\n\n        var async = is.arr(props.to) || is.fun(props.to);\n\n        if (delay) {\n          setTimeout(function () {\n            if (local === _this2.guid) {\n              if (async) _this2.runAsync(props, cb);else _this2.diff(props).start(cb);\n            }\n          }, delay);\n        } else if (async) _this2.runAsync(props, cb);else _this2.diff(props).start(cb);\n      });\n    } // Otherwise we kick of the frameloop\n    else {\n        if (is.fun(onEnd)) this.listeners.push(onEnd);\n        if (this.props.onStart) this.props.onStart();\n\n        start(this);\n      }\n\n    return this;\n  };\n\n  _proto.stop = function stop$$1(finished) {\n    this.listeners.forEach(function (onEnd) {\n      return onEnd(finished);\n    });\n    this.listeners = [];\n    return this;\n  }\n  /** Pause sets onEnd listeners free, but also removes the controller from the frameloop */\n  ;\n\n  _proto.pause = function pause(finished) {\n    this.stop(true);\n    if (finished) stop(this);\n    return this;\n  };\n\n  _proto.runAsync = function runAsync(_ref5, onEnd) {\n    var _this3 = this;\n\n    var delay = _ref5.delay,\n        props = _objectWithoutPropertiesLoose(_ref5, [\"delay\"]);\n\n    var local = this.local; // If \"to\" is either a function or an array it will be processed async, therefor \"to\" should be empty right now\n    // If the view relies on certain values \"from\" has to be present\n\n    var queue = Promise.resolve(undefined);\n\n    if (is.arr(props.to)) {\n      var _loop = function _loop(i) {\n        var index = i;\n\n        var fresh = _extends({}, props, interpolateTo(props.to[index]));\n\n        if (is.arr(fresh.config)) fresh.config = fresh.config[index];\n        queue = queue.then(function () {\n          //this.stop()\n          if (local === _this3.guid) return new Promise(function (r) {\n            return _this3.diff(fresh).start(r);\n          });\n        });\n      };\n\n      for (var i = 0; i < props.to.length; i++) {\n        _loop(i);\n      }\n    } else if (is.fun(props.to)) {\n      var index = 0;\n      var last;\n      queue = queue.then(function () {\n        return props.to( // next(props)\n        function (p) {\n          var fresh = _extends({}, props, interpolateTo(p));\n\n          if (is.arr(fresh.config)) fresh.config = fresh.config[index];\n          index++; //this.stop()\n\n          if (local === _this3.guid) return last = new Promise(function (r) {\n            return _this3.diff(fresh).start(r);\n          });\n          return;\n        }, // cancel()\n        function (finished) {\n          if (finished === void 0) {\n            finished = true;\n          }\n\n          return _this3.stop(finished);\n        }).then(function () {\n          return last;\n        });\n      });\n    }\n\n    queue.then(onEnd);\n  };\n\n  _proto.diff = function diff(props) {\n    var _this4 = this;\n\n    this.props = _extends({}, this.props, props);\n    var _this$props = this.props,\n        _this$props$from = _this$props.from,\n        from = _this$props$from === void 0 ? {} : _this$props$from,\n        _this$props$to = _this$props.to,\n        to = _this$props$to === void 0 ? {} : _this$props$to,\n        _this$props$config = _this$props.config,\n        config = _this$props$config === void 0 ? {} : _this$props$config,\n        reverse = _this$props.reverse,\n        attach = _this$props.attach,\n        reset = _this$props.reset,\n        immediate = _this$props.immediate; // Reverse values when requested\n\n    if (reverse) {\n      var _ref6 = [to, from];\n      from = _ref6[0];\n      to = _ref6[1];\n    } // This will collect all props that were ever set, reset merged props when necessary\n\n\n    this.merged = _extends({}, from, this.merged, to);\n    this.hasChanged = false; // Attachment handling, trailed springs can \"attach\" themselves to a previous spring\n\n    var target = attach && attach(this); // Reduces input { name: value } pairs into animated values\n\n    this.animations = Object.entries(this.merged).reduce(function (acc, _ref7) {\n      var name = _ref7[0],\n          value = _ref7[1];\n      // Issue cached entries, except on reset\n      var entry = acc[name] || {}; // Figure out what the value is supposed to be\n\n      var isNumber = is.num(value);\n      var isString = is.str(value) && !value.startsWith('#') && !/\\d/.test(value) && !colorNames[value];\n      var isArray = is.arr(value);\n      var isInterpolation = !isNumber && !isArray && !isString;\n      var fromValue = !is.und(from[name]) ? from[name] : value;\n      var toValue = isNumber || isArray ? value : isString ? value : 1;\n      var toConfig = callProp(config, name);\n      if (target) toValue = target.animations[name].parent;\n      var parent = entry.parent,\n          interpolation$$1 = entry.interpolation,\n          toValues = toArray(target ? toValue.getPayload() : toValue),\n          animatedValues;\n      var newValue = value;\n      if (isInterpolation) newValue = interpolation({\n        range: [0, 1],\n        output: [value, value]\n      })(1);\n      var currentValue = interpolation$$1 && interpolation$$1.getValue(); // Change detection flags\n\n      var isFirst = is.und(parent);\n      var isActive = !isFirst && entry.animatedValues.some(function (v) {\n        return !v.done;\n      });\n      var currentValueDiffersFromGoal = !is.equ(newValue, currentValue);\n      var hasNewGoal = !is.equ(newValue, entry.previous);\n      var hasNewConfig = !is.equ(toConfig, entry.config); // Change animation props when props indicate a new goal (new value differs from previous one)\n      // and current values differ from it. Config changes trigger a new update as well (though probably shouldn't?)\n\n      if (reset || hasNewGoal && currentValueDiffersFromGoal || hasNewConfig) {\n        var _extends2;\n\n        // Convert regular values into animated values, ALWAYS re-use if possible\n        if (isNumber || isString) parent = interpolation$$1 = entry.parent || new AnimatedValue(fromValue);else if (isArray) parent = interpolation$$1 = entry.parent || new AnimatedValueArray(fromValue);else if (isInterpolation) {\n          var prev = entry.interpolation && entry.interpolation.calc(entry.parent.value);\n          prev = prev !== void 0 && !reset ? prev : fromValue;\n\n          if (entry.parent) {\n            parent = entry.parent;\n            parent.setValue(0, false);\n          } else parent = new AnimatedValue(0);\n\n          var range = {\n            output: [prev, value]\n          };\n\n          if (entry.interpolation) {\n            interpolation$$1 = entry.interpolation;\n            entry.interpolation.updateConfig(range);\n          } else interpolation$$1 = parent.interpolate(range);\n        }\n        toValues = toArray(target ? toValue.getPayload() : toValue);\n        animatedValues = toArray(parent.getPayload());\n        if (reset && !isInterpolation) parent.setValue(fromValue, false);\n        _this4.hasChanged = true; // Reset animated values\n\n        animatedValues.forEach(function (value) {\n          value.startPosition = value.value;\n          value.lastPosition = value.value;\n          value.lastVelocity = isActive ? value.lastVelocity : undefined;\n          value.lastTime = isActive ? value.lastTime : undefined;\n          value.startTime = now();\n          value.done = false;\n          value.animatedStyles.clear();\n        }); // Set immediate values\n\n        if (callProp(immediate, name)) {\n          parent.setValue(isInterpolation ? toValue : value, false);\n        }\n\n        return _extends({}, acc, (_extends2 = {}, _extends2[name] = _extends({}, entry, {\n          name: name,\n          parent: parent,\n          interpolation: interpolation$$1,\n          animatedValues: animatedValues,\n          toValues: toValues,\n          previous: newValue,\n          config: toConfig,\n          fromValues: toArray(parent.getValue()),\n          immediate: callProp(immediate, name),\n          initialVelocity: withDefault(toConfig.velocity, 0),\n          clamp: withDefault(toConfig.clamp, false),\n          precision: withDefault(toConfig.precision, 0.01),\n          tension: withDefault(toConfig.tension, 170),\n          friction: withDefault(toConfig.friction, 26),\n          mass: withDefault(toConfig.mass, 1),\n          duration: toConfig.duration,\n          easing: withDefault(toConfig.easing, function (t) {\n            return t;\n          }),\n          decay: toConfig.decay\n        }), _extends2));\n      } else {\n        if (!currentValueDiffersFromGoal) {\n          var _extends3;\n\n          // So ... the current target value (newValue) appears to be different from the previous value,\n          // which normally constitutes an update, but the actual value (currentValue) matches the target!\n          // In order to resolve this without causing an animation update we silently flag the animation as done,\n          // which it technically is. Interpolations also needs a config update with their target set to 1.\n          if (isInterpolation) {\n            parent.setValue(1, false);\n            interpolation$$1.updateConfig({\n              output: [newValue, newValue]\n            });\n          }\n\n          parent.done = true;\n          _this4.hasChanged = true;\n          return _extends({}, acc, (_extends3 = {}, _extends3[name] = _extends({}, acc[name], {\n            previous: newValue\n          }), _extends3));\n        }\n\n        return acc;\n      }\n    }, this.animations);\n\n    if (this.hasChanged) {\n      // Make animations available to frameloop\n      this.configs = Object.values(this.animations);\n      this.values = {};\n      this.interpolations = {};\n\n      for (var key in this.animations) {\n        this.interpolations[key] = this.animations[key].interpolation;\n        this.values[key] = this.animations[key].interpolation.getValue();\n      }\n    }\n\n    return this;\n  };\n\n  _proto.destroy = function destroy() {\n    this.stop();\n    this.props = {};\n    this.merged = {};\n    this.animations = {};\n    this.interpolations = {};\n    this.values = {};\n    this.configs = [];\n    this.local = 0;\n  };\n\n  return Controller;\n}();\n\n/** API\n * const props = useSprings(number, [{ ... }, { ... }, ...])\n * const [props, set] = useSprings(number, (i, controller) => ({ ... }))\n */\n\nvar useSprings = function useSprings(length, props) {\n  var mounted = React.useRef(false);\n  var ctrl = React.useRef();\n  var isFn = is.fun(props); // The controller maintains the animation values, starts and stops animations\n\n  var _useMemo = React.useMemo(function () {\n    // Remove old controllers\n    if (ctrl.current) {\n      ctrl.current.map(function (c) {\n        return c.destroy();\n      });\n      ctrl.current = undefined;\n    }\n\n    var ref;\n    return [new Array(length).fill().map(function (_, i) {\n      var ctrl = new Controller();\n      var newProps = isFn ? callProp(props, i, ctrl) : props[i];\n      if (i === 0) ref = newProps.ref;\n      ctrl.update(newProps);\n      if (!ref) ctrl.start();\n      return ctrl;\n    }), ref];\n  }, [length]),\n      controllers = _useMemo[0],\n      ref = _useMemo[1];\n\n  ctrl.current = controllers; // The hooks reference api gets defined here ...\n\n  var api = React.useImperativeHandle(ref, function () {\n    return {\n      start: function start() {\n        return Promise.all(ctrl.current.map(function (c) {\n          return new Promise(function (r) {\n            return c.start(r);\n          });\n        }));\n      },\n      stop: function stop(finished) {\n        return ctrl.current.forEach(function (c) {\n          return c.stop(finished);\n        });\n      },\n\n      get controllers() {\n        return ctrl.current;\n      }\n\n    };\n  }); // This function updates the controllers\n\n  var updateCtrl = React.useMemo(function () {\n    return function (updateProps) {\n      return ctrl.current.map(function (c, i) {\n        c.update(isFn ? callProp(updateProps, i, c) : updateProps[i]);\n        if (!ref) c.start();\n      });\n    };\n  }, [length]); // Update controller if props aren't functional\n\n  React.useEffect(function () {\n    if (mounted.current) {\n      if (!isFn) updateCtrl(props);\n    } else if (!ref) ctrl.current.forEach(function (c) {\n      return c.start();\n    });\n  }); // Update mounted flag and destroy controller on unmount\n\n  React.useEffect(function () {\n    return mounted.current = true, function () {\n      return ctrl.current.forEach(function (c) {\n        return c.destroy();\n      });\n    };\n  }, []); // Return animated props, or, anim-props + the update-setter above\n\n  var propValues = ctrl.current.map(function (c) {\n    return c.getValues();\n  });\n  return isFn ? [propValues, updateCtrl, function (finished) {\n    return ctrl.current.forEach(function (c) {\n      return c.pause(finished);\n    });\n  }] : propValues;\n};\n\n/** API\n * const props = useSpring({ ... })\n * const [props, set] = useSpring(() => ({ ... }))\n */\n\nvar useSpring = function useSpring(props) {\n  var isFn = is.fun(props);\n\n  var _useSprings = useSprings(1, isFn ? props : [props]),\n      result = _useSprings[0],\n      set = _useSprings[1],\n      pause = _useSprings[2];\n\n  return isFn ? [result[0], set, pause] : result;\n};\n\n/** API\n * const trails = useTrail(number, { ... })\n * const [trails, set] = useTrail(number, () => ({ ... }))\n */\n\nvar useTrail = function useTrail(length, props) {\n  var mounted = React.useRef(false);\n  var isFn = is.fun(props);\n  var updateProps = callProp(props);\n  var instances = React.useRef();\n\n  var _useSprings = useSprings(length, function (i, ctrl) {\n    if (i === 0) instances.current = [];\n    instances.current.push(ctrl);\n    return _extends({}, updateProps, {\n      config: callProp(updateProps.config, i),\n      attach: i > 0 && function () {\n        return instances.current[i - 1];\n      }\n    });\n  }),\n      result = _useSprings[0],\n      set = _useSprings[1],\n      pause = _useSprings[2]; // Set up function to update controller\n\n\n  var updateCtrl = React.useMemo(function () {\n    return function (props) {\n      return set(function (i, ctrl) {\n        var last = props.reverse ? i === 0 : length - 1 === i;\n        var attachIdx = props.reverse ? i + 1 : i - 1;\n        var attachController = instances.current[attachIdx];\n        return _extends({}, props, {\n          config: callProp(props.config || updateProps.config, i),\n          attach: attachController && function () {\n            return attachController;\n          }\n        });\n      });\n    };\n  }, [length, updateProps.reverse]); // Update controller if props aren't functional\n\n  React.useEffect(function () {\n    return void (mounted.current && !isFn && updateCtrl(props));\n  }); // Update mounted flag and destroy controller on unmount\n\n  React.useEffect(function () {\n    return void (mounted.current = true);\n  }, []);\n  return isFn ? [result, updateCtrl, pause] : result;\n};\n\n/** API\n * const transitions = useTransition(items, itemKeys, { ... })\n * const [transitions, update] = useTransition(items, itemKeys, () => ({ ... }))\n */\n\nvar guid = 0;\nvar ENTER = 'enter';\nvar LEAVE = 'leave';\nvar UPDATE = 'update';\n\nvar mapKeys = function mapKeys(items, keys) {\n  return (typeof keys === 'function' ? items.map(keys) : toArray(keys)).map(String);\n};\n\nvar get = function get(props) {\n  var items = props.items,\n      _props$keys = props.keys,\n      keys = _props$keys === void 0 ? function (item) {\n    return item;\n  } : _props$keys,\n      rest = _objectWithoutPropertiesLoose(props, [\"items\", \"keys\"]);\n\n  items = toArray(items !== void 0 ? items : null);\n  return _extends({\n    items: items,\n    keys: mapKeys(items, keys)\n  }, rest);\n};\n\nfunction useTransition(input, keyTransform, config) {\n  var props = _extends({\n    items: input,\n    keys: keyTransform || function (i) {\n      return i;\n    }\n  }, config);\n\n  var _get = get(props),\n      _get$lazy = _get.lazy,\n      lazy = _get$lazy === void 0 ? false : _get$lazy,\n      _get$unique = _get.unique,\n      _get$reset = _get.reset,\n      reset = _get$reset === void 0 ? false : _get$reset,\n      enter = _get.enter,\n      leave = _get.leave,\n      update = _get.update,\n      onDestroyed = _get.onDestroyed,\n      keys = _get.keys,\n      items = _get.items,\n      onFrame = _get.onFrame,\n      _onRest = _get.onRest,\n      onStart = _get.onStart,\n      ref = _get.ref,\n      extra = _objectWithoutPropertiesLoose(_get, [\"lazy\", \"unique\", \"reset\", \"enter\", \"leave\", \"update\", \"onDestroyed\", \"keys\", \"items\", \"onFrame\", \"onRest\", \"onStart\", \"ref\"]);\n\n  var forceUpdate = useForceUpdate();\n  var mounted = React.useRef(false);\n  var state = React.useRef({\n    mounted: false,\n    first: true,\n    deleted: [],\n    current: {},\n    transitions: [],\n    prevProps: {},\n    paused: !!props.ref,\n    instances: !mounted.current && new Map(),\n    forceUpdate: forceUpdate\n  });\n  React.useImperativeHandle(props.ref, function () {\n    return {\n      start: function start() {\n        return Promise.all(Array.from(state.current.instances).map(function (_ref) {\n          var c = _ref[1];\n          return new Promise(function (r) {\n            return c.start(r);\n          });\n        }));\n      },\n      stop: function stop(finished) {\n        return Array.from(state.current.instances).forEach(function (_ref2) {\n          var c = _ref2[1];\n          return c.stop(finished);\n        });\n      },\n\n      get controllers() {\n        return Array.from(state.current.instances).map(function (_ref3) {\n          var c = _ref3[1];\n          return c;\n        });\n      }\n\n    };\n  }); // Update state\n\n  state.current = diffItems(state.current, props);\n\n  if (state.current.changed) {\n    // Update state\n    state.current.transitions.forEach(function (transition) {\n      var slot = transition.slot,\n          from = transition.from,\n          to = transition.to,\n          config = transition.config,\n          trail = transition.trail,\n          key = transition.key,\n          item = transition.item;\n      if (!state.current.instances.has(key)) state.current.instances.set(key, new Controller()); // update the map object\n\n      var ctrl = state.current.instances.get(key);\n\n      var newProps = _extends({}, extra, {\n        to: to,\n        from: from,\n        config: config,\n        ref: ref,\n        onRest: function onRest(values) {\n          if (state.current.mounted) {\n            if (transition.destroyed) {\n              // If no ref is given delete destroyed items immediately\n              if (!ref && !lazy) cleanUp(state, key);\n              if (onDestroyed) onDestroyed(item);\n            } // A transition comes to rest once all its springs conclude\n\n\n            var curInstances = Array.from(state.current.instances);\n            var active = curInstances.some(function (_ref4) {\n              var c = _ref4[1];\n              return !c.idle;\n            });\n            if (!active && (ref || lazy) && state.current.deleted.length > 0) cleanUp(state);\n            if (_onRest) _onRest(item, slot, values);\n          }\n        },\n        onStart: onStart && function () {\n          return onStart(item, slot);\n        },\n        onFrame: onFrame && function (values) {\n          return onFrame(item, slot, values);\n        },\n        delay: trail,\n        reset: reset && slot === ENTER // Update controller\n\n      });\n\n      ctrl.update(newProps);\n      if (!state.current.paused) ctrl.start();\n    });\n  }\n\n  React.useEffect(function () {\n    state.current.mounted = mounted.current = true;\n    return function () {\n      state.current.mounted = mounted.current = false;\n      Array.from(state.current.instances).map(function (_ref5) {\n        var c = _ref5[1];\n        return c.destroy();\n      });\n      state.current.instances.clear();\n    };\n  }, []);\n  return state.current.transitions.map(function (_ref6) {\n    var item = _ref6.item,\n        slot = _ref6.slot,\n        key = _ref6.key;\n    return {\n      item: item,\n      key: key,\n      state: slot,\n      props: state.current.instances.get(key).getValues()\n    };\n  });\n}\n\nfunction cleanUp(state, filterKey) {\n  var deleted = state.current.deleted;\n\n  var _loop = function _loop() {\n    if (_isArray) {\n      if (_i >= _iterator.length) return \"break\";\n      _ref8 = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) return \"break\";\n      _ref8 = _i.value;\n    }\n\n    var _ref7 = _ref8;\n    var key = _ref7.key;\n\n    var filter = function filter(t) {\n      return t.key !== key;\n    };\n\n    if (is.und(filterKey) || filterKey === key) {\n      state.current.instances.delete(key);\n      state.current.transitions = state.current.transitions.filter(filter);\n      state.current.deleted = state.current.deleted.filter(filter);\n    }\n  };\n\n  for (var _iterator = deleted, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref8;\n\n    var _ret = _loop();\n\n    if (_ret === \"break\") break;\n  }\n\n  state.current.forceUpdate();\n}\n\nfunction diffItems(_ref9, props) {\n  var first = _ref9.first,\n      prevProps = _ref9.prevProps,\n      state = _objectWithoutPropertiesLoose(_ref9, [\"first\", \"prevProps\"]);\n\n  var _get2 = get(props),\n      items = _get2.items,\n      keys = _get2.keys,\n      initial = _get2.initial,\n      from = _get2.from,\n      enter = _get2.enter,\n      leave = _get2.leave,\n      update = _get2.update,\n      _get2$trail = _get2.trail,\n      trail = _get2$trail === void 0 ? 0 : _get2$trail,\n      unique = _get2.unique,\n      config = _get2.config,\n      _get2$order = _get2.order,\n      order = _get2$order === void 0 ? [ENTER, LEAVE, UPDATE] : _get2$order;\n\n  var _get3 = get(prevProps),\n      _keys = _get3.keys,\n      _items = _get3.items;\n\n  var current = _extends({}, state.current);\n\n  var deleted = [].concat(state.deleted); // Compare next keys with current keys\n\n  var currentKeys = Object.keys(current);\n  var currentSet = new Set(currentKeys);\n  var nextSet = new Set(keys);\n  var added = keys.filter(function (item) {\n    return !currentSet.has(item);\n  });\n  var removed = state.transitions.filter(function (item) {\n    return !item.destroyed && !nextSet.has(item.originalKey);\n  }).map(function (i) {\n    return i.originalKey;\n  });\n  var updated = keys.filter(function (item) {\n    return currentSet.has(item);\n  });\n  var delay = -trail;\n\n  while (order.length) {\n    var changeType = order.shift();\n\n    switch (changeType) {\n      case ENTER:\n        {\n          added.forEach(function (key, index) {\n            // In unique mode, remove fading out transitions if their key comes in again\n            if (unique && deleted.find(function (d) {\n              return d.originalKey === key;\n            })) deleted = deleted.filter(function (t) {\n              return t.originalKey !== key;\n            });\n            var keyIndex = keys.indexOf(key);\n            var item = items[keyIndex];\n            var slot = first && initial !== void 0 ? 'initial' : ENTER;\n            current[key] = {\n              slot: slot,\n              originalKey: key,\n              key: unique ? String(key) : guid++,\n              item: item,\n              trail: delay = delay + trail,\n              config: callProp(config, item, slot),\n              from: callProp(first ? initial !== void 0 ? initial || {} : from : from, item),\n              to: callProp(enter, item)\n            };\n          });\n          break;\n        }\n\n      case LEAVE:\n        {\n          removed.forEach(function (key) {\n            var keyIndex = _keys.indexOf(key);\n\n            var item = _items[keyIndex];\n            var slot = LEAVE;\n            deleted.unshift(_extends({}, current[key], {\n              slot: slot,\n              destroyed: true,\n              left: _keys[Math.max(0, keyIndex - 1)],\n              right: _keys[Math.min(_keys.length, keyIndex + 1)],\n              trail: delay = delay + trail,\n              config: callProp(config, item, slot),\n              to: callProp(leave, item)\n            }));\n            delete current[key];\n          });\n          break;\n        }\n\n      case UPDATE:\n        {\n          updated.forEach(function (key) {\n            var keyIndex = keys.indexOf(key);\n            var item = items[keyIndex];\n            var slot = UPDATE;\n            current[key] = _extends({}, current[key], {\n              item: item,\n              slot: slot,\n              trail: delay = delay + trail,\n              config: callProp(config, item, slot),\n              to: callProp(update, item)\n            });\n          });\n          break;\n        }\n    }\n  }\n\n  var out = keys.map(function (key) {\n    return current[key];\n  }); // This tries to restore order for deleted items by finding their last known siblings\n  // only using the left sibling to keep order placement consistent for all deleted items\n\n  deleted.forEach(function (_ref10) {\n    var left = _ref10.left,\n        right = _ref10.right,\n        item = _objectWithoutPropertiesLoose(_ref10, [\"left\", \"right\"]);\n\n    var pos; // Was it the element on the left, if yes, move there ...\n\n    if ((pos = out.findIndex(function (t) {\n      return t.originalKey === left;\n    })) !== -1) pos += 1; // And if nothing else helps, move it to the start ¯\\_(ツ)_/¯\n\n    pos = Math.max(0, pos);\n    out = [].concat(out.slice(0, pos), [item], out.slice(pos));\n  });\n  return _extends({}, state, {\n    changed: added.length || removed.length || updated.length,\n    first: first && added.length === 0,\n    transitions: out,\n    current: current,\n    deleted: deleted,\n    prevProps: props\n  });\n}\n\nvar AnimatedStyle =\n/*#__PURE__*/\nfunction (_AnimatedObject) {\n  _inheritsLoose(AnimatedStyle, _AnimatedObject);\n\n  function AnimatedStyle(style) {\n    var _this;\n\n    if (style === void 0) {\n      style = {};\n    }\n\n    _this = _AnimatedObject.call(this) || this;\n\n    if (style.transform && !(style.transform instanceof Animated)) {\n      style = applyAnimatedValues.transform(style);\n    }\n\n    _this.payload = style;\n    return _this;\n  }\n\n  return AnimatedStyle;\n}(AnimatedObject);\n\n// http://www.w3.org/TR/css3-color/#svg-color\nvar colors = {\n  transparent: 0x00000000,\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff\n};\n\n// const INTEGER = '[-+]?\\\\d+';\nvar NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+';\nvar PERCENTAGE = NUMBER + '%';\n\nfunction call() {\n  for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {\n    parts[_key] = arguments[_key];\n  }\n\n  return '\\\\(\\\\s*(' + parts.join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nvar rgb = new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER));\nvar rgba = new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER));\nvar hsl = new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE));\nvar hsla = new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\nvar hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex6 = /^#([0-9a-fA-F]{6})$/;\nvar hex8 = /^#([0-9a-fA-F]{8})$/;\n\n/*\nhttps://github.com/react-community/normalize-css-color\n\nBSD 3-Clause License\n\nCopyright (c) 2016, React Community\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the copyright holder nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\nfunction normalizeColor(color) {\n  var match;\n\n  if (typeof color === 'number') {\n    return color >>> 0 === color && color >= 0 && color <= 0xffffffff ? color : null;\n  } // Ordered based on occurrences on Facebook codebase\n\n\n  if (match = hex6.exec(color)) return parseInt(match[1] + 'ff', 16) >>> 0;\n  if (colors.hasOwnProperty(color)) return colors[color];\n\n  if (match = rgb.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    0x000000ff) >>> // a\n    0;\n  }\n\n  if (match = rgba.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    parse1(match[4])) >>> // a\n    0;\n  }\n\n  if (match = hex3.exec(color)) {\n    return parseInt(match[1] + match[1] + // r\n    match[2] + match[2] + // g\n    match[3] + match[3] + // b\n    'ff', // a\n    16) >>> 0;\n  } // https://drafts.csswg.org/css-color-4/#hex-notation\n\n\n  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n\n  if (match = hex4.exec(color)) {\n    return parseInt(match[1] + match[1] + // r\n    match[2] + match[2] + // g\n    match[3] + match[3] + // b\n    match[4] + match[4], // a\n    16) >>> 0;\n  }\n\n  if (match = hsl.exec(color)) {\n    return (hslToRgb(parse360(match[1]), // h\n    parsePercentage(match[2]), // s\n    parsePercentage(match[3]) // l\n    ) | 0x000000ff) >>> // a\n    0;\n  }\n\n  if (match = hsla.exec(color)) {\n    return (hslToRgb(parse360(match[1]), // h\n    parsePercentage(match[2]), // s\n    parsePercentage(match[3]) // l\n    ) | parse1(match[4])) >>> // a\n    0;\n  }\n\n  return null;\n}\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\nfunction hslToRgb(h, s, l) {\n  var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  var p = 2 * l - q;\n  var r = hue2rgb(p, q, h + 1 / 3);\n  var g = hue2rgb(p, q, h);\n  var b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\n\nfunction parse255(str) {\n  var int = parseInt(str, 10);\n  if (int < 0) return 0;\n  if (int > 255) return 255;\n  return int;\n}\n\nfunction parse360(str) {\n  var int = parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\n\nfunction parse1(str) {\n  var num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\n\nfunction parsePercentage(str) {\n  // parseFloat conveniently ignores the final %\n  var int = parseFloat(str);\n  if (int < 0) return 0;\n  if (int > 100) return 1;\n  return int / 100;\n}\n\nfunction colorToRgba(input) {\n  var int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  var r = (int32Color & 0xff000000) >>> 24;\n  var g = (int32Color & 0x00ff0000) >>> 16;\n  var b = (int32Color & 0x0000ff00) >>> 8;\n  var a = (int32Color & 0x000000ff) / 255;\n  return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + a + \")\";\n} // Problem: https://github.com/animatedjs/animated/pull/102\n// Solution: https://stackoverflow.com/questions/638565/parsing-scientific-notation-sensibly/658662\n\n\nvar stringShapeRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g; // Covers rgb, rgba, hsl, hsla\n// Taken from https://gist.github.com/olmokramer/82ccce673f86db7cda5e\n\nvar colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi; // Covers color names (transparent, blue, etc.)\n\nvar colorNamesRegex = new RegExp(\"(\" + Object.keys(colors).join('|') + \")\", 'g');\n/**\n * Supports string shapes by extracting numbers so new values can be computed,\n * and recombines those values into new strings of the same shape.  Supports\n * things like:\n *\n *   rgba(123, 42, 99, 0.36)           // colors\n *   -45deg                            // values with units\n *   0 2px 2px 0px rgba(0, 0, 0, 0.12) // box shadows\n */\n\nvar createStringInterpolator = function createStringInterpolator(config) {\n  // Replace colors with rgba\n  var outputRange = config.output.map(function (rangeValue) {\n    return rangeValue.replace(colorRegex, colorToRgba);\n  }).map(function (rangeValue) {\n    return rangeValue.replace(colorNamesRegex, colorToRgba);\n  });\n  var outputRanges = outputRange[0].match(stringShapeRegex).map(function () {\n    return [];\n  });\n  outputRange.forEach(function (value) {\n    value.match(stringShapeRegex).forEach(function (number, i) {\n      return outputRanges[i].push(+number);\n    });\n  });\n  var interpolations = outputRange[0].match(stringShapeRegex).map(function (_value, i) {\n    return createInterpolator(_extends({}, config, {\n      output: outputRanges[i]\n    }));\n  });\n  return function (input) {\n    var i = 0;\n    return outputRange[0] // 'rgba(0, 100, 200, 0)'\n    // ->\n    // 'rgba(${interpolations[0](input)}, ${interpolations[1](input)}, ...'\n    .replace(stringShapeRegex, function () {\n      return interpolations[i++](input);\n    }) // rgba requires that the r,g,b are integers.... so we want to round them, but we *dont* want to\n    // round the opacity (4th column).\n    .replace(/rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi, function (_, p1, p2, p3, p4) {\n      return \"rgba(\" + Math.round(p1) + \", \" + Math.round(p2) + \", \" + Math.round(p3) + \", \" + p4 + \")\";\n    });\n  };\n};\n\nvar isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // SVG-related properties\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nvar prefixKey = function prefixKey(prefix, key) {\n  return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n};\n\nvar prefixes = ['Webkit', 'Ms', 'Moz', 'O'];\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce(function (acc, prop) {\n  prefixes.forEach(function (prefix) {\n    return acc[prefixKey(prefix, prop)] = acc[prop];\n  });\n  return acc;\n}, isUnitlessNumber);\n\nfunction dangerousStyleValue(name, value, isCustomProperty) {\n  if (value == null || typeof value === 'boolean' || value === '') return '';\n  if (!isCustomProperty && typeof value === 'number' && value !== 0 && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) return value + 'px'; // Presumes implicit 'px' suffix for unitless numbers\n\n  return ('' + value).trim();\n}\n\nvar attributeCache = {};\ninjectCreateAnimatedStyle(function (style) {\n  return new AnimatedStyle(style);\n});\ninjectDefaultElement('div');\ninjectStringInterpolator(createStringInterpolator);\ninjectColorNames(colors);\ninjectApplyAnimatedValues(function (instance, props) {\n  if (instance.nodeType && instance.setAttribute !== undefined) {\n    var style = props.style,\n        children = props.children,\n        scrollTop = props.scrollTop,\n        scrollLeft = props.scrollLeft,\n        attributes = _objectWithoutPropertiesLoose(props, [\"style\", \"children\", \"scrollTop\", \"scrollLeft\"]);\n\n    var filter = instance.nodeName === 'filter' || instance.parentNode && instance.parentNode.nodeName === 'filter';\n    if (scrollTop !== void 0) instance.scrollTop = scrollTop;\n    if (scrollLeft !== void 0) instance.scrollLeft = scrollLeft; // Set textContent, if children is an animatable value\n\n    if (children !== void 0) instance.textContent = children; // Set styles ...\n\n    for (var styleName in style) {\n      if (!style.hasOwnProperty(styleName)) continue;\n      var isCustomProperty = styleName.indexOf('--') === 0;\n      var styleValue = dangerousStyleValue(styleName, style[styleName], isCustomProperty);\n      if (styleName === 'float') styleName = 'cssFloat';\n      if (isCustomProperty) instance.style.setProperty(styleName, styleValue);else instance.style[styleName] = styleValue;\n    } // Set attributes ...\n\n\n    for (var name in attributes) {\n      // Attributes are written in dash case\n      var dashCase = filter ? name : attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, function (n) {\n        return '-' + n.toLowerCase();\n      }));\n      if (typeof instance.getAttribute(dashCase) !== 'undefined') instance.setAttribute(dashCase, attributes[name]);\n    }\n\n    return;\n  } else return false;\n}, function (style) {\n  return style;\n});\n\nvar domElements = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', // SVG\n'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\n// Extend animated with all the available THREE elements\nvar apply = merge(createAnimatedComponent, false);\nvar extendedAnimated = apply(domElements);\n\nexports.apply = apply;\nexports.config = config;\nexports.update = update;\nexports.animated = extendedAnimated;\nexports.a = extendedAnimated;\nexports.interpolate = interpolate$1;\nexports.Globals = Globals;\nexports.useSpring = useSpring;\nexports.useTrail = useTrail;\nexports.useTransition = useTransition;\nexports.useChain = useChain;\nexports.useSprings = useSprings;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Redux dispatch multiple actions\n */\n\nfunction multi(_ref) {\n  var dispatch = _ref.dispatch;\n\n  return function (next) {\n    return function (action) {\n      return Array.isArray(action) ? action.filter(Boolean).map(dispatch) : next(action);\n    };\n  };\n}\n\n/**\n * Exports\n */\n\nexports.default = multi;","'use strict';\n\nfunction flattenIntoMap( map, effects ) {\n\tvar i;\n\tif ( Array.isArray( effects ) ) {\n\t\tfor ( i = 0; i < effects.length; i++ ) {\n\t\t\tflattenIntoMap( map, effects[ i ] );\n\t\t}\n\t} else {\n\t\tfor ( i in effects ) {\n\t\t\tmap[ i ] = ( map[ i ] || [] ).concat( effects[ i ] );\n\t\t}\n\t}\n}\n\nfunction refx( effects ) {\n\tvar map = {},\n\t\tmiddleware;\n\n\tflattenIntoMap( map, effects );\n\n\tmiddleware = function( store ) {\n\t\treturn function( next ) {\n\t\t\treturn function( action ) {\n\t\t\t\tvar handlers = map[ action.type ],\n\t\t\t\t\tresult = next( action ),\n\t\t\t\t\ti, handlerAction;\n\n\t\t\t\tif ( handlers ) {\n\t\t\t\t\tfor ( i = 0; i < handlers.length; i++ ) {\n\t\t\t\t\t\thandlerAction = handlers[ i ]( action, store );\n\t\t\t\t\t\tif ( handlerAction ) {\n\t\t\t\t\t\t\tstore.dispatch( handlerAction );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t};\n\t\t};\n\t};\n\n\tmiddleware.effects = map;\n\n\treturn middleware;\n}\n\nmodule.exports = refx;\n","'use strict';\n\nvar LEAF_KEY, hasWeakMap;\n\n/**\n * Arbitrary value used as key for referencing cache object in WeakMap tree.\n *\n * @type {Object}\n */\nLEAF_KEY = {};\n\n/**\n * Whether environment supports WeakMap.\n *\n * @type {boolean}\n */\nhasWeakMap = typeof WeakMap !== 'undefined';\n\n/**\n * Returns the first argument as the sole entry in an array.\n *\n * @param {*} value Value to return.\n *\n * @return {Array} Value returned as entry in array.\n */\nfunction arrayOf( value ) {\n\treturn [ value ];\n}\n\n/**\n * Returns true if the value passed is object-like, or false otherwise. A value\n * is object-like if it can support property assignment, e.g. object or array.\n *\n * @param {*} value Value to test.\n *\n * @return {boolean} Whether value is object-like.\n */\nfunction isObjectLike( value ) {\n\treturn !! value && 'object' === typeof value;\n}\n\n/**\n * Creates and returns a new cache object.\n *\n * @return {Object} Cache object.\n */\nfunction createCache() {\n\tvar cache = {\n\t\tclear: function() {\n\t\t\tcache.head = null;\n\t\t},\n\t};\n\n\treturn cache;\n}\n\n/**\n * Returns true if entries within the two arrays are strictly equal by\n * reference from a starting index.\n *\n * @param {Array}  a         First array.\n * @param {Array}  b         Second array.\n * @param {number} fromIndex Index from which to start comparison.\n *\n * @return {boolean} Whether arrays are shallowly equal.\n */\nfunction isShallowEqual( a, b, fromIndex ) {\n\tvar i;\n\n\tif ( a.length !== b.length ) {\n\t\treturn false;\n\t}\n\n\tfor ( i = fromIndex; i < a.length; i++ ) {\n\t\tif ( a[ i ] !== b[ i ] ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns a memoized selector function. The getDependants function argument is\n * called before the memoized selector and is expected to return an immutable\n * reference or array of references on which the selector depends for computing\n * its own return value. The memoize cache is preserved only as long as those\n * dependant references remain the same. If getDependants returns a different\n * reference(s), the cache is cleared and the selector value regenerated.\n *\n * @param {Function} selector      Selector function.\n * @param {Function} getDependants Dependant getter returning an immutable\n *                                 reference or array of reference used in\n *                                 cache bust consideration.\n *\n * @return {Function} Memoized selector.\n */\nexport default function( selector, getDependants ) {\n\tvar rootCache, getCache;\n\n\t// Use object source as dependant if getter not provided\n\tif ( ! getDependants ) {\n\t\tgetDependants = arrayOf;\n\t}\n\n\t/**\n\t * Returns the root cache. If WeakMap is supported, this is assigned to the\n\t * root WeakMap cache set, otherwise it is a shared instance of the default\n\t * cache object.\n\t *\n\t * @return {(WeakMap|Object)} Root cache object.\n\t */\n\tfunction getRootCache() {\n\t\treturn rootCache;\n\t}\n\n\t/**\n\t * Returns the cache for a given dependants array. When possible, a WeakMap\n\t * will be used to create a unique cache for each set of dependants. This\n\t * is feasible due to the nature of WeakMap in allowing garbage collection\n\t * to occur on entries where the key object is no longer referenced. Since\n\t * WeakMap requires the key to be an object, this is only possible when the\n\t * dependant is object-like. The root cache is created as a hierarchy where\n\t * each top-level key is the first entry in a dependants set, the value a\n\t * WeakMap where each key is the next dependant, and so on. This continues\n\t * so long as the dependants are object-like. If no dependants are object-\n\t * like, then the cache is shared across all invocations.\n\t *\n\t * @see isObjectLike\n\t *\n\t * @param {Array} dependants Selector dependants.\n\t *\n\t * @return {Object} Cache object.\n\t */\n\tfunction getWeakMapCache( dependants ) {\n\t\tvar caches = rootCache,\n\t\t\tisUniqueByDependants = true,\n\t\t\ti, dependant, map, cache;\n\n\t\tfor ( i = 0; i < dependants.length; i++ ) {\n\t\t\tdependant = dependants[ i ];\n\n\t\t\t// Can only compose WeakMap from object-like key.\n\t\t\tif ( ! isObjectLike( dependant ) ) {\n\t\t\t\tisUniqueByDependants = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Does current segment of cache already have a WeakMap?\n\t\t\tif ( caches.has( dependant ) ) {\n\t\t\t\t// Traverse into nested WeakMap.\n\t\t\t\tcaches = caches.get( dependant );\n\t\t\t} else {\n\t\t\t\t// Create, set, and traverse into a new one.\n\t\t\t\tmap = new WeakMap();\n\t\t\t\tcaches.set( dependant, map );\n\t\t\t\tcaches = map;\n\t\t\t}\n\t\t}\n\n\t\t// We use an arbitrary (but consistent) object as key for the last item\n\t\t// in the WeakMap to serve as our running cache.\n\t\tif ( ! caches.has( LEAF_KEY ) ) {\n\t\t\tcache = createCache();\n\t\t\tcache.isUniqueByDependants = isUniqueByDependants;\n\t\t\tcaches.set( LEAF_KEY, cache );\n\t\t}\n\n\t\treturn caches.get( LEAF_KEY );\n\t}\n\n\t// Assign cache handler by availability of WeakMap\n\tgetCache = hasWeakMap ? getWeakMapCache : getRootCache;\n\n\t/**\n\t * Resets root memoization cache.\n\t */\n\tfunction clear() {\n\t\trootCache = hasWeakMap ? new WeakMap() : createCache();\n\t}\n\n\t// eslint-disable-next-line jsdoc/check-param-names\n\t/**\n\t * The augmented selector call, considering first whether dependants have\n\t * changed before passing it to underlying memoize function.\n\t *\n\t * @param {Object} source    Source object for derivation.\n\t * @param {...*}   extraArgs Additional arguments to pass to selector.\n\t *\n\t * @return {*} Selector result.\n\t */\n\tfunction callSelector( /* source, ...extraArgs */ ) {\n\t\tvar len = arguments.length,\n\t\t\tcache, node, i, args, dependants;\n\n\t\t// Create copy of arguments (avoid leaking deoptimization).\n\t\targs = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tdependants = getDependants.apply( null, args );\n\t\tcache = getCache( dependants );\n\n\t\t// If not guaranteed uniqueness by dependants (primitive type or lack\n\t\t// of WeakMap support), shallow compare against last dependants and, if\n\t\t// references have changed, destroy cache to recalculate result.\n\t\tif ( ! cache.isUniqueByDependants ) {\n\t\t\tif ( cache.lastDependants && ! isShallowEqual( dependants, cache.lastDependants, 0 ) ) {\n\t\t\t\tcache.clear();\n\t\t\t}\n\n\t\t\tcache.lastDependants = dependants;\n\t\t}\n\n\t\tnode = cache.head;\n\t\twhile ( node ) {\n\t\t\t// Check whether node arguments match arguments\n\t\t\tif ( ! isShallowEqual( node.args, args, 1 ) ) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif ( node !== cache.head ) {\n\t\t\t\t// Adjust siblings to point to each other.\n\t\t\t\tnode.prev.next = node.next;\n\t\t\t\tif ( node.next ) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = cache.head;\n\t\t\t\tnode.prev = null;\n\t\t\t\tcache.head.prev = node;\n\t\t\t\tcache.head = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\tnode = {\n\t\t\t// Generate the result from original function\n\t\t\tval: selector.apply( null, args ),\n\t\t};\n\n\t\t// Avoid including the source object in the cache.\n\t\targs[ 0 ] = null;\n\t\tnode.args = args;\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif ( cache.head ) {\n\t\t\tcache.head.prev = node;\n\t\t\tnode.next = cache.head;\n\t\t}\n\n\t\tcache.head = node;\n\n\t\treturn node.val;\n\t}\n\n\tcallSelector.getDependants = getDependants;\n\tcallSelector.clear = clear;\n\tclear();\n\n\treturn callSelector;\n}\n","// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","var traverse = module.exports = function (obj) {\n    return new Traverse(obj);\n};\n\nfunction Traverse (obj) {\n    this.value = obj;\n}\n\nTraverse.prototype.get = function (ps) {\n    var node = this.value;\n    for (var i = 0; i < ps.length; i ++) {\n        var key = ps[i];\n        if (!node || !hasOwnProperty.call(node, key)) {\n            node = undefined;\n            break;\n        }\n        node = node[key];\n    }\n    return node;\n};\n\nTraverse.prototype.has = function (ps) {\n    var node = this.value;\n    for (var i = 0; i < ps.length; i ++) {\n        var key = ps[i];\n        if (!node || !hasOwnProperty.call(node, key)) {\n            return false;\n        }\n        node = node[key];\n    }\n    return true;\n};\n\nTraverse.prototype.set = function (ps, value) {\n    var node = this.value;\n    for (var i = 0; i < ps.length - 1; i ++) {\n        var key = ps[i];\n        if (!hasOwnProperty.call(node, key)) node[key] = {};\n        node = node[key];\n    }\n    node[ps[i]] = value;\n    return value;\n};\n\nTraverse.prototype.map = function (cb) {\n    return walk(this.value, cb, true);\n};\n\nTraverse.prototype.forEach = function (cb) {\n    this.value = walk(this.value, cb, false);\n    return this.value;\n};\n\nTraverse.prototype.reduce = function (cb, init) {\n    var skip = arguments.length === 1;\n    var acc = skip ? this.value : init;\n    this.forEach(function (x) {\n        if (!this.isRoot || !skip) {\n            acc = cb.call(this, acc, x);\n        }\n    });\n    return acc;\n};\n\nTraverse.prototype.paths = function () {\n    var acc = [];\n    this.forEach(function (x) {\n        acc.push(this.path); \n    });\n    return acc;\n};\n\nTraverse.prototype.nodes = function () {\n    var acc = [];\n    this.forEach(function (x) {\n        acc.push(this.node);\n    });\n    return acc;\n};\n\nTraverse.prototype.clone = function () {\n    var parents = [], nodes = [];\n    \n    return (function clone (src) {\n        for (var i = 0; i < parents.length; i++) {\n            if (parents[i] === src) {\n                return nodes[i];\n            }\n        }\n        \n        if (typeof src === 'object' && src !== null) {\n            var dst = copy(src);\n            \n            parents.push(src);\n            nodes.push(dst);\n            \n            forEach(objectKeys(src), function (key) {\n                dst[key] = clone(src[key]);\n            });\n            \n            parents.pop();\n            nodes.pop();\n            return dst;\n        }\n        else {\n            return src;\n        }\n    })(this.value);\n};\n\nfunction walk (root, cb, immutable) {\n    var path = [];\n    var parents = [];\n    var alive = true;\n    \n    return (function walker (node_) {\n        var node = immutable ? copy(node_) : node_;\n        var modifiers = {};\n        \n        var keepGoing = true;\n        \n        var state = {\n            node : node,\n            node_ : node_,\n            path : [].concat(path),\n            parent : parents[parents.length - 1],\n            parents : parents,\n            key : path.slice(-1)[0],\n            isRoot : path.length === 0,\n            level : path.length,\n            circular : null,\n            update : function (x, stopHere) {\n                if (!state.isRoot) {\n                    state.parent.node[state.key] = x;\n                }\n                state.node = x;\n                if (stopHere) keepGoing = false;\n            },\n            'delete' : function (stopHere) {\n                delete state.parent.node[state.key];\n                if (stopHere) keepGoing = false;\n            },\n            remove : function (stopHere) {\n                if (isArray(state.parent.node)) {\n                    state.parent.node.splice(state.key, 1);\n                }\n                else {\n                    delete state.parent.node[state.key];\n                }\n                if (stopHere) keepGoing = false;\n            },\n            keys : null,\n            before : function (f) { modifiers.before = f },\n            after : function (f) { modifiers.after = f },\n            pre : function (f) { modifiers.pre = f },\n            post : function (f) { modifiers.post = f },\n            stop : function () { alive = false },\n            block : function () { keepGoing = false }\n        };\n        \n        if (!alive) return state;\n        \n        function updateState() {\n            if (typeof state.node === 'object' && state.node !== null) {\n                if (!state.keys || state.node_ !== state.node) {\n                    state.keys = objectKeys(state.node)\n                }\n                \n                state.isLeaf = state.keys.length == 0;\n                \n                for (var i = 0; i < parents.length; i++) {\n                    if (parents[i].node_ === node_) {\n                        state.circular = parents[i];\n                        break;\n                    }\n                }\n            }\n            else {\n                state.isLeaf = true;\n                state.keys = null;\n            }\n            \n            state.notLeaf = !state.isLeaf;\n            state.notRoot = !state.isRoot;\n        }\n        \n        updateState();\n        \n        // use return values to update if defined\n        var ret = cb.call(state, state.node);\n        if (ret !== undefined && state.update) state.update(ret);\n        \n        if (modifiers.before) modifiers.before.call(state, state.node);\n        \n        if (!keepGoing) return state;\n        \n        if (typeof state.node == 'object'\n        && state.node !== null && !state.circular) {\n            parents.push(state);\n            \n            updateState();\n            \n            forEach(state.keys, function (key, i) {\n                path.push(key);\n                \n                if (modifiers.pre) modifiers.pre.call(state, state.node[key], key);\n                \n                var child = walker(state.node[key]);\n                if (immutable && hasOwnProperty.call(state.node, key)) {\n                    state.node[key] = child.node;\n                }\n                \n                child.isLast = i == state.keys.length - 1;\n                child.isFirst = i == 0;\n                \n                if (modifiers.post) modifiers.post.call(state, child);\n                \n                path.pop();\n            });\n            parents.pop();\n        }\n        \n        if (modifiers.after) modifiers.after.call(state, state.node);\n        \n        return state;\n    })(root).node;\n}\n\nfunction copy (src) {\n    if (typeof src === 'object' && src !== null) {\n        var dst;\n        \n        if (isArray(src)) {\n            dst = [];\n        }\n        else if (isDate(src)) {\n            dst = new Date(src.getTime ? src.getTime() : src);\n        }\n        else if (isRegExp(src)) {\n            dst = new RegExp(src);\n        }\n        else if (isError(src)) {\n            dst = { message: src.message };\n        }\n        else if (isBoolean(src)) {\n            dst = new Boolean(src);\n        }\n        else if (isNumber(src)) {\n            dst = new Number(src);\n        }\n        else if (isString(src)) {\n            dst = new String(src);\n        }\n        else if (Object.create && Object.getPrototypeOf) {\n            dst = Object.create(Object.getPrototypeOf(src));\n        }\n        else if (src.constructor === Object) {\n            dst = {};\n        }\n        else {\n            var proto =\n                (src.constructor && src.constructor.prototype)\n                || src.__proto__\n                || {}\n            ;\n            var T = function () {};\n            T.prototype = proto;\n            dst = new T;\n        }\n        \n        forEach(objectKeys(src), function (key) {\n            dst[key] = src[key];\n        });\n        return dst;\n    }\n    else return src;\n}\n\nvar objectKeys = Object.keys || function keys (obj) {\n    var res = [];\n    for (var key in obj) res.push(key)\n    return res;\n};\n\nfunction toS (obj) { return Object.prototype.toString.call(obj) }\nfunction isDate (obj) { return toS(obj) === '[object Date]' }\nfunction isRegExp (obj) { return toS(obj) === '[object RegExp]' }\nfunction isError (obj) { return toS(obj) === '[object Error]' }\nfunction isBoolean (obj) { return toS(obj) === '[object Boolean]' }\nfunction isNumber (obj) { return toS(obj) === '[object Number]' }\nfunction isString (obj) { return toS(obj) === '[object String]' }\n\nvar isArray = Array.isArray || function isArray (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nvar forEach = function (xs, fn) {\n    if (xs.forEach) return xs.forEach(fn)\n    else for (var i = 0; i < xs.length; i++) {\n        fn(xs[i], i, xs);\n    }\n};\n\nforEach(objectKeys(Traverse.prototype), function (key) {\n    traverse[key] = function (obj) {\n        var args = [].slice.call(arguments, 1);\n        var t = new Traverse(obj);\n        return t[key].apply(t, args);\n    };\n});\n\nvar hasOwnProperty = Object.hasOwnProperty || function (obj, key) {\n    return key in obj;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","(function() { module.exports = this[\"regeneratorRuntime\"]; }());","(function() { module.exports = this[\"wp\"][\"a11y\"]; }());","(function() { module.exports = this[\"wp\"][\"blob\"]; }());","(function() { module.exports = this[\"wp\"][\"blocks\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"deprecated\"]; }());","(function() { module.exports = this[\"wp\"][\"dom\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"hooks\"]; }());","(function() { module.exports = this[\"wp\"][\"htmlEntities\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"isShallowEqual\"]; }());","(function() { module.exports = this[\"wp\"][\"keyboardShortcuts\"]; }());","(function() { module.exports = this[\"wp\"][\"keycodes\"]; }());","(function() { module.exports = this[\"wp\"][\"primitives\"]; }());","(function() { module.exports = this[\"wp\"][\"richText\"]; }());","(function() { module.exports = this[\"wp\"][\"tokenList\"]; }());","(function() { module.exports = this[\"wp\"][\"url\"]; }());","(function() { module.exports = this[\"wp\"][\"viewport\"]; }());","(function() { module.exports = this[\"wp\"][\"wordcount\"]; }());","(function() { module.exports = this[\"lodash\"]; }());","(function() { module.exports = this[\"React\"]; }());"],"sourceRoot":""}