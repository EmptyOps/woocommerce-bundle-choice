window.document.splugins=window.document.splugins||{},jQuery((function(){class e{constructor(e,t){let l=this;this.field_class=void 0===e||""===e?".email_form_field":e,this.field_class=".sp-ssm-themes-ui-builder-form-field-global,"+this.field_class,this.button_selector=void 0===t?".email_form_button":t,jQuery(t).on("click",(function(e){e.preventDefault(),e.stopPropagation(),l.init()}))}unique_email(e,t){}validate(e){let t=jQuery(e).filter(".required"),l=jQuery(e).filter(".numeric"),i=jQuery(e).filter(".email:not(.unique)"),r=jQuery(e).filter(".email.unique"),a=!0;return t.hasOwnProperty("length")&&t.length>0&&jQuery(t).each((function(e,t){let l=jQuery(t).val();if(void 0===l||""===l.trim())return""!=jQuery(t).data("label")?alert("The "+jQuery(t).data("label")+" field is a required field."):alert("Please fill the required fields."),a=!1,a})),!1===a?a:(l.hasOwnProperty("length")&&l.length>0&&jQuery(l).each((function(e,t){let l=jQuery(t).val();if(void 0===l||isNaN(l.trim()))return alert("Please provide numeric value to the numeric fields."),a=!1,a})),!1===a?a:(i.hasOwnProperty("length")&&i.length>0&&jQuery(i).each((function(e,t){let l=jQuery(t).val();if(void 0===l||!l.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/))return alert("Please provide valid email to the email field."),a=!1,a})),!1===a||r.hasOwnProperty("length")&&r.length>0&&jQuery(r).each((function(e,t){let l=jQuery(t).val();return void 0!==l&&l.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)?function(e,t){return jQuery(fields).each((function(e,t){if(jQuery(cfield).val()===jQuery(t).val())return!1})),!0}?void 0:(alert("Please set unique email within all applicable email fields."),a=!1,a):(alert("Please provide valid email to the email field."),a=!1,a)})),a))}init(){let e=jQuery(this.field_class),t=jQuery(this.button_selector);if(!e.hasOwnProperty("length")||e.length<1||!t.hasOwnProperty("length")||t.length<1)return!1;if(!0===this.validate(e)){let t=jQuery(e).serialize();jQuery.ajax({url:sp_urls.ajax_url,data:t,method:"POST",success:function(e){"success"==(e=JSON.parse(e)).type?alert("A request is been sent."):alert(e.msg.replace("u0027","'"))}})}}}window.document.splugins.EmailForm=function(t,l){return new e(t,l)}}));